{"version":3,"sources":["utils/history.ts","utils/webHelper.ts","hooks/useApp.ts","theme.ts","../theme.js","bootstrap.ts","utils/request.ts","utils/createPack.tsx","components/error-boundary.tsx","components/exception.tsx","components/loading.tsx","components/breadcrumb.tsx","components/app-header.tsx","containers/home/index.ts","app.tsx","serviceWorker.ts","index.tsx","containers/report-template-editor/index.ts","containers/report-template-list/index.ts","containers/report-inquiry/index.ts","containers/report-typing/index.ts","containers/pathol-images-viewer/index.ts","containers/radiol-images-viewer/index.ts","constants/routes.ts","constants/env.ts","components/button.tsx"],"names":["history","createHashHistory","basename","envStore","appBaseName","require","forEach","addIndex","map","isEmpty","either","RisNil","compose","not","isNil","path","uuid","d","Date","now","performance","replace","c","r","Math","random","floor","toString","mapIndexed","getNumberFromString","str","redirect","isEnvDev","window","location","pathname","href","appUrl","breadcrumbState","atom","key","default","useBreadcrumbState","useRecoilState","useBreadcrumb","items","setter","useSetRecoilState","React","useEffect","headerContentState","useHeaderContent","node","useHeaderContentValue","useRecoilValue","module","exports","primary","secondary","danger","darkGrey","purple150","cornblue","comet","btn","sider","bg","pagination","dayjs","extend","isSameOrBefore","isSameOrAfter","advancedFormat","customParseFormat","weekYear","weekOfYear","isMoment","localeData","badMutable","weekday","locale","cond","contentTypeIs","s","ifElse","identity","includes","invoker","request","url","body","headers","onCompleted","errorMsg","onError","options","fullUrl","always","T","apiBaseUrl","fetch","FormData","JSON","stringify","Accept","then","response","a","json","ok","Promise","reject","blob","text","catch","err","pack","children","components","length","Component","rest","type","props","ErrorFallbackWrapper","styled","div","ErrorFallback","error","componentStack","resetErrorBoundary","role","className","message","onClick","initialState","info","ErrorBoundary","state","args","onReset","setState","this","prevProps","resetKeys","b","some","item","index","Object","is","changedArray","onResetKeysChange","fallbackRender","FallbackComponent","fallback","isValidElement","Error","Exception","ExceptionWrapper","style","backgroundImage","publicUrl","to","color","Wrapper","memo","justify","Loading3QuartersOutlined","spin","StyledBreadcrumb","AppHeader","content","useState","current","setCurrentPath","handleTo","push","getMenuClassName","targetUrl","cx","Header","Logo","src","alt","mode","borderBottom","lineHeight","MenuItem","routes","SettingOutlined","icon","ExportOutlined","marginRight","minWidth","borderColor","separator","minHeight","display","alignItems","Item","HomeOutlined","top","x","idx","name","p","theme","lazy","App","useRoutes","renderRouteItem","useCallback","param","exact","id","component","title","renderRoute","data","hide","Suspense","Home","Boolean","hostname","match","method","console","log","EnhancedApp","createPack","RecoilRoot","zhTW","value","suspense","fetcher","DndProvider","backend","HTML5Backend","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","RADIOL_IMAGE","REPORT_TEMPLATE_LIST","REPORT_INPUT","REPORT_TEMPLATE_EDIT","REPORT_TEMPLATE_CREATE","REPORT_INQUIRY","PatholImagesViewer","RadiolImagesViewer","ReportInquiry","ReportTyping","ReportTemplateList","ReportTemplateBuilder","pageSize","process","REACT_APP_API_ROOT","REACT_APP_TITLE","protocol","host","REACT_APP_FAKE_API_ROOT","createElement","StyledButton","css","size","ButtonComponent","loading","actionType"],"mappings":"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","file":"static/js/main.46035e0b.chunk.js","sourcesContent":["import { History, createHashHistory } from 'history'\nimport { envStore } from '@/constants/env'\n\nconst history = createHashHistory({ basename: envStore.appBaseName })\n\nexport default history as NonNullable<History>\n","import moment from 'moment'\nimport { envStore } from '@/constants/env'\nconst {\n  forEach,\n  addIndex,\n  map,\n  isEmpty,\n  either,\n  compose,\n  not,\n  isNil: RisNil,\n  path,\n} = require('ramda')\n\nexport function queryString(search: string): { [key: string]: any } {\n  if (!search) {\n    search = window.location.search\n  }\n\n  const params = new URLSearchParams(search)\n\n  let result: object | any = {}\n\n  params.forEach((value: string, key: string) => (result[key] = value))\n\n  return result\n}\n\nexport function uuid() {\n  let d = Date.now()\n  if (\n    typeof performance !== 'undefined' &&\n    typeof performance.now === 'function'\n  ) {\n    d += performance.now()\n  }\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    const r = (d + Math.random() * 16) % 16 | 0\n    d = Math.floor(d / 16)\n    return (c === 'x' ? r : (r & 0x3) | 0x8).toString(16)\n  })\n}\n\nexport function isUUID(uuid: string) {\n  return /^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(\n    uuid\n  )\n}\n\nexport const forEachIndexed = addIndex(forEach)\nexport const mapIndexed: any = addIndex(map)\n\nexport const isNil = either(isEmpty, RisNil)\n\nexport const hasPath = (namedPath: Array<string | number>) =>\n  compose(not, isNil, path(namedPath))\n\nexport const getRangeDate = (\n  date: [moment.Moment, moment.Moment],\n  dateFormat?: string\n) => {\n  const [startDate, stopDate] = date\n\n  return [\n    startDate\n      ? dateFormat\n        ? startDate.format(dateFormat)\n        : startDate.toISOString()\n      : undefined,\n    stopDate\n      ? dateFormat\n        ? stopDate.format(dateFormat)\n        : stopDate.toISOString()\n      : undefined,\n  ]\n}\n\nexport const toThousandSeparator = (number: number | string) => {\n  if (number && (typeof number === 'number' || isNaN(number as any))) {\n    return number.toLocaleString()\n  }\n  return number\n}\n\nexport const capitalize = (s: string) => {\n  if (typeof s !== 'string') return ''\n  return s.charAt(0).toUpperCase() + s.slice(1)\n}\n\nexport function getNumberFromString(str?: string) {\n  if (!str) {\n    return str\n  }\n  return str.replace(/[^\\d.]/g, '')\n}\n\nexport const redirect = () => {\n  if (!envStore.isEnvDev && window.location.pathname === '/') {\n    window.location.href = envStore.appUrl\n    return\n  }\n}\n","import React from 'react'\nimport { atom, useRecoilState, useRecoilValue, useSetRecoilState } from 'recoil'\n\ntype BreadcrumbItem = {\n  href?: string\n  name: string\n}\n\nexport const breadcrumbState = atom<BreadcrumbItem[]>({\n  key: 'breadcrumbState',\n  default: [],\n})\n\nexport function useBreadcrumbState() {\n  const state = useRecoilState(breadcrumbState)\n  return state\n}\n\nexport function useBreadcrumb(items: BreadcrumbItem[] = []) {\n  const setter = useSetRecoilState(breadcrumbState)\n\n  React.useEffect(() => {\n    setter(items)\n  }, []) // eslint-disable-line\n}\n\nexport const headerContentState = atom<React.ReactNode>({\n  key: 'headerContentState',\n  default: null,\n})\n\nexport function useHeaderContentState() {\n  return useRecoilState(headerContentState)\n}\n\nexport function useHeaderContent(node?: React.ReactNode) {\n  const setter = useSetRecoilState(headerContentState)\n\n  React.useEffect(() => {\n    setter(node)\n\n    return () => {\n      setter(null)\n    }\n  }, [node]) // eslint-disable-line\n}\n\nexport function useHeaderContentValue() {\n  const value = useRecoilValue(headerContentState)\n  return value\n}\n","export { default } from '../theme'\n","const primary = '#38a8a9'\n\nmodule.exports = {\n  primary,\n  secondary: '#42c2b8',\n  danger: '#d74c4c',\n  darkGrey: '#4a4a4a',\n  purple150: 'rgba(115, 105, 215, 0.15)',\n  cornblue: '#a9b6d8',\n  comet: '#555977',\n  btn: {\n    danger: '#d74c4c',\n    primary: '#2c908a',\n    secondary: '#42c2b8',\n  },\n  sider: {\n    bg: primary,\n  },\n  pagination: primary,\n}\n","import dayjs from 'dayjs'\nimport customParseFormat from 'dayjs/plugin/customParseFormat'\nimport weekOfYear from 'dayjs/plugin/weekOfYear'\nimport weekday from 'dayjs/plugin/weekday'\nimport isMoment from 'dayjs/plugin/isMoment'\nimport badMutable from 'dayjs/plugin/badMutable'\nimport localeData from 'dayjs/plugin/localeData'\nimport advancedFormat from 'dayjs/plugin/advancedFormat'\nimport weekYear from 'dayjs/plugin/weekYear'\nimport isSameOrBefore from 'dayjs/plugin/isSameOrBefore'\nimport isSameOrAfter from 'dayjs/plugin/isSameOrAfter'\nimport 'dayjs/locale/zh-tw'\n\ndayjs.extend(isSameOrBefore)\ndayjs.extend(isSameOrAfter)\ndayjs.extend(advancedFormat)\ndayjs.extend(customParseFormat)\ndayjs.extend(weekYear)\ndayjs.extend(weekOfYear)\ndayjs.extend(isMoment)\ndayjs.extend(localeData)\ndayjs.extend(badMutable)\ndayjs.extend(weekday)\n\ndayjs.locale('zh-tw')\n","import {\n  compose,\n  ifElse,\n  invoker,\n  path,\n  identity,\n  includes,\n  always,\n  T,\n} from 'ramda'\nimport { isNil } from '@/utils/webHelper'\nimport envStore from '@/constants/env'\nconst { cond } = require('ramda')\n\ntype RequestInit = {\n  body?: any\n  credentials?: RequestCredentials_\n  headers?: HeadersInit_\n  integrity?: string\n  keepalive?: boolean\n  method?: string\n  mode?: RequestMode_\n  referrer?: string\n  window?: any\n  errorMsg?: boolean\n  onCompleted?: (data: any) => any\n  onError?: (err: Error) => any\n}\n\nconst contentTypeIs = (s: string) => {\n  return compose(\n    ifElse(isNil, identity, (c = '') => c.includes(s)),\n    invoker(1, 'get')('content-type'),\n    path(['headers'])\n  )\n}\n\nexport function request(\n  url: string,\n  {\n    body,\n    headers,\n    errorMsg = true,\n    onCompleted,\n    onError,\n    ...options\n  }: RequestInit = {}\n) {\n  const fullUrl = cond([\n    [includes('http'), always(url)],\n    [T, always(envStore.apiBaseUrl + url)],\n  ])(url)\n\n  return fetch(fullUrl, {\n    ...options,\n    body: body instanceof FormData ? body : JSON.stringify(body),\n    headers: {\n      'Content-Type': 'application/json',\n      Accept: 'application/json',\n      //   authorization: '',\n      ...headers,\n    },\n  })\n    .then(async (response: Response) => {\n      if (onCompleted) {\n        onCompleted(response)\n      }\n\n      if (contentTypeIs('application/json')(response)) {\n        const json = await response.json()\n\n        if (!response.ok) {\n          return Promise.reject(json)\n        }\n\n        return json\n      }\n\n      if (contentTypeIs('sheet')(response)) {\n        return await response.blob()\n      }\n\n      return response.text()\n    })\n    .catch((err: Error) => {\n      //   if (errorMsg) {\n      //     error(err)\n      //   }\n\n      if (onError) {\n        onError(err)\n      }\n\n      return err\n    })\n}\n\nexport default request\n","import * as React from 'react'\n\nexport interface WithChildrenProps {\n  children: React.ReactNode\n}\n\nexport type PackComponentType<\n  T extends WithChildrenProps = WithChildrenProps\n> = React.ElementType<T>\n\nexport function pack(\n  children: React.ReactNode = null,\n  ...components: PackComponentType[]\n) {\n  if (!components.length) {\n    return children as JSX.Element\n  }\n\n  const [Component, ...rest] = components\n\n  if (React.isValidElement(Component)) {\n    return (\n      <Component.type {...Component.props}>\n        {pack(children, ...rest)}\n      </Component.type>\n    )\n  }\n\n  return <Component>{pack(children, ...rest)}</Component>\n}\n\nexport function createPack(...components: any[]) {\n  return function PackComponent({ children }: WithChildrenProps) {\n    return pack(children, ...components)\n  }\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport Button from '@/components/button'\n\ntype ErrorInfo = {\n  componentStack: string\n}\n\ntype FallbackProps = {\n  error?: Error\n  componentStack?: string\n  resetErrorBoundary: () => void\n}\n\ntype ErrorBoundaryProps = {\n  onResetKeysChange?: (\n    prevResetKeys: Array<any> | undefined,\n    resetKeys: Array<any> | undefined\n  ) => void\n  onReset?: (...args: any) => void\n  onError?: (error: Error, componentStack: string) => void\n  resetKeys?: Array<any>\n  FallbackComponent?: React.ComponentType<FallbackProps>\n  fallbackRender?: (props: FallbackProps) => React.ReactElement<any, any> | null\n  fallback?: React.ReactElement<any, any> | null\n}\n\ntype ErrorBoundaryState = {\n  hasError?: boolean\n  error?: Error | null\n  info?: ErrorInfo | null\n}\n\nconst ErrorFallbackWrapper = styled.div`\n  width: 100%;\n  height: 100vh;\n  margin: 0 auto;\n  padding: 50px;\n`\n\nfunction ErrorFallback({\n  error,\n  componentStack,\n  resetErrorBoundary,\n}: FallbackProps) {\n  return (\n    <ErrorFallbackWrapper role=\"alert\">\n      <p className=\"text-xl\">Something went wrong:</p>\n      <pre className=\"text-sm\">{error?.message}</pre>\n      <pre className=\"text-sm\">{componentStack}</pre>\n      <Button onClick={resetErrorBoundary}>Try again</Button>\n    </ErrorFallbackWrapper>\n  )\n}\n\nconst changedArray = (a: any[] | undefined = [], b: any[] | undefined = []) =>\n  a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]))\n\nconst initialState = { error: null, info: null }\nexport default class ErrorBoundary extends React.Component<\n  ErrorBoundaryProps,\n  ErrorBoundaryState\n> {\n  state: ErrorBoundaryState = initialState\n\n  resetErrorBoundary = (...args: any) => {\n    this.props.onReset?.(...args)\n    this.setState(initialState)\n  }\n\n  componentDidCatch(error: Error, info: ErrorInfo) {\n    this.props.onError?.(error, info?.componentStack)\n    this.setState({ error, info })\n  }\n\n  componentDidUpdate(prevProps: ErrorBoundaryProps) {\n    const { error } = this.state\n    const { resetKeys } = this.props\n    if (error !== null && changedArray(prevProps.resetKeys, resetKeys)) {\n      this.props.onResetKeysChange?.(prevProps.resetKeys, resetKeys)\n      this.setState(initialState)\n    }\n  }\n\n  render() {\n    const { error, info } = this.state\n    const {\n      fallbackRender,\n      FallbackComponent = ErrorFallback,\n      fallback,\n    } = this.props\n\n    if (error !== null) {\n      const props = {\n        componentStack: info?.componentStack,\n        error,\n        resetErrorBoundary: this.resetErrorBoundary,\n      }\n      if (React.isValidElement(fallback)) {\n        return fallback\n      } else if (typeof fallbackRender === 'function') {\n        return fallbackRender(props)\n      } else if (FallbackComponent) {\n        return <FallbackComponent {...props} />\n      } else {\n        throw new Error(\n          'react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop'\n        )\n      }\n    }\n\n    return this.props.children\n  }\n}\n\nfunction withErrorBoundary<P>(\n  Component: React.ComponentType<P>,\n  errorBoundaryProps: ErrorBoundaryProps\n) {\n  function Wrapped(props: any) {\n    return (\n      <ErrorBoundary {...errorBoundaryProps}>\n        <Component {...props} />\n      </ErrorBoundary>\n    )\n  }\n\n  // Format for display in DevTools\n  const name = Component.displayName || Component.name || 'Unknown'\n  Wrapped.displayName = `withErrorBoundary(${name})`\n\n  return Wrapped\n}\n\nfunction useErrorHandler<P = Error>(givenError?: P) {\n  const [error, setError] = React.useState(null)\n  if (givenError) throw givenError\n  if (error) throw error\n  return setError\n}\n\nexport { ErrorBoundary, withErrorBoundary, useErrorHandler }\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components'\nimport Button from '@/components/button'\nimport { envStore } from '@/constants/env'\n\ntype Props = {\n  type?: number | string | 404\n}\n\nexport default function Exception({ type = 404 }: Props) {\n  return (\n    <ExceptionWrapper>\n      <div className=\"exception\">\n        <div className=\"exception__imgBlock\">\n          <div\n            className=\"exception__imgEle\"\n            style={{\n              backgroundImage: `url(\"${envStore.publicUrl}/images/${type}.svg\")`,\n            }}\n          />\n        </div>\n        <div className=\"exception__content\">\n          <h1>404</h1>\n          <div className=\"exception__desc\">抱歉，你訪問的頁面不存在</div>\n          <div className=\"exception__actions\">\n            <Link to=\"/\">\n              <Button color=\"primary\">回首頁</Button>\n            </Link>\n          </div>\n        </div>\n      </div>\n    </ExceptionWrapper>\n  )\n}\n\nconst ExceptionWrapper = styled.div`\n  height: 100%;\n  margin-right: -24px;\n  background: #f9f9fb;\n  border-radius: 4px;\n\n  .exception {\n    display: flex;\n    align-items: center;\n    height: 100%;\n  }\n\n  .exception .exception__imgBlock {\n    flex: 0 0 62.5%;\n    width: 62.5%;\n    padding-right: 152px;\n    zoom: 1;\n  }\n\n  .exception .exception__imgEle {\n    float: right;\n    width: 100%;\n    max-width: 430px;\n    height: 360px;\n    background-repeat: no-repeat;\n    background-position: 50% 50%;\n    background-size: contain;\n  }\n\n  .exception .exception__content {\n    flex: auto;\n  }\n\n  .exception .exception__content h1 {\n    margin-bottom: 24px;\n    color: #434e59;\n    font-weight: 600;\n    font-size: 72px;\n    line-height: 72px;\n  }\n\n  .exception .exception__content .exception__desc {\n    margin-bottom: 24px;\n    color: rgba(0, 0, 0, 0.45);\n    font-size: 20px;\n    line-height: 28px;\n  }\n`\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Row, Col } from 'antd'\nimport { Loading3QuartersOutlined } from '@ant-design/icons'\n\ntype PropTypes = {\n  className?: string\n  style?: React.CSSProperties\n}\n\nconst Wrapper = styled.div`\n  .ant-spin {\n    &--inner {\n      margin: 0 auto;\n    }\n  }\n`\n\nexport function Loading(props: PropTypes) {\n  return <Loading3QuartersOutlined {...props} />\n}\n\nexport default React.memo(function Loading({\n  className,\n  style,\n  ...props\n}: PropTypes) {\n  return (\n    <Wrapper className=\"bg-greyF9\">\n      <Row justify=\"center\" className={className}>\n        <Col className=\"ant-spin--inner\">\n          <Loading3QuartersOutlined spin style={style} />\n        </Col>\n      </Row>\n    </Wrapper>\n  )\n})\n","import { Breadcrumb } from 'antd'\nimport styled from 'styled-components'\n\nconst StyledBreadcrumb = styled(Breadcrumb)`\n  &.ant-breadcrumb {\n    font-size: 16px;\n\n    .ant-breadcrumb-link {\n      cursor: pointer;\n    }\n\n    .ant-breadcrumb-link,\n    a {\n      color: #fff;\n    }\n\n    .anticon {\n      font-size: 16px;\n    }\n\n    .ant-breadcrumb-link:hover,\n    a:hover {\n      text-decoration: underline;\n    }\n\n    .ant-breadcrumb-separator {\n      margin: 0 16px;\n      color: #fff;\n    }\n\n    > span:last-child {\n      color: #fff;\n      text-decoration: underline;\n    }\n  }\n`\n\nexport default StyledBreadcrumb\n","import React from 'react'\nimport cx from 'classnames'\nimport { Layout, Avatar, Menu } from 'antd'\nimport {\n  SettingOutlined,\n  ExportOutlined,\n  HomeOutlined,\n} from '@ant-design/icons'\nimport styled from 'styled-components'\nimport Button from '@/components/button'\nimport Breadcrumb from '@/components/breadcrumb'\nimport { useBreadcrumbState, useHeaderContentValue } from '@/hooks/useApp'\nimport history from '@/utils/history'\nimport { envStore } from '@/constants/env'\nimport * as routes from '@/constants/routes'\n\nexport default function AppHeader() {\n  const [items] = useBreadcrumbState()\n  const content = useHeaderContentValue()\n\n  const [current, setCurrentPath] = React.useState(history.location.pathname)\n\n  const handleTo = (pathname?: string) => () => {\n    if (pathname) {\n      setCurrentPath(pathname)\n      history.push(pathname)\n    }\n  }\n\n  const getMenuClassName = (targetUrl: string) => {\n    return cx({ 'is--current': current !== '/' && targetUrl.includes(current) })\n  }\n\n  return (\n    <Header>\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center\">\n          <Logo onClick={handleTo('/')}>\n            <img\n              src={`${envStore.publicUrl}/images/logo-sm@2x.png`}\n              alt=\"app-logo\"\n              className=\"cursor-pointer\"\n            />\n          </Logo>\n          <Menu\n            mode=\"horizontal\"\n            className=\"bg-transparent ml-3\"\n            style={{ borderBottom: 'none', lineHeight: '46px' }}>\n            <MenuItem\n              key={routes.RADIOL_IMAGE}\n              onClick={handleTo(routes.RADIOL_IMAGE)}\n              className={getMenuClassName(routes.RADIOL_IMAGE)}>\n              <div className=\"flex items-center text-lg\">\n                <SettingOutlined />\n                清單查詢 +\n              </div>\n            </MenuItem>\n            <MenuItem\n              key={routes.REPORT_INQUIRY}\n              onClick={handleTo(routes.REPORT_INQUIRY)}\n              className={getMenuClassName(routes.REPORT_INQUIRY)}>\n              <div className=\"flex items-center text-lg\">\n                <SettingOutlined />\n                輸入報告 +\n              </div>\n            </MenuItem>\n            <MenuItem\n              key={routes.REPORT_TEMPLATE_LIST}\n              onClick={handleTo(routes.REPORT_TEMPLATE_LIST)}\n              className={getMenuClassName(routes.REPORT_TEMPLATE_LIST)}>\n              <div className=\"flex items-center text-lg\">\n                <SettingOutlined />\n                結構式報告 +\n              </div>\n            </MenuItem>\n            <MenuItem\n              key=\"outside\"\n              onClick={handleTo(routes.REPORT_TEMPLATE_EDIT)}\n              className={getMenuClassName('outside')}>\n              <div className=\"flex items-center text-lg\">\n                <SettingOutlined />\n                醫學影像教學平台 +\n              </div>\n            </MenuItem>\n          </Menu>\n        </div>\n        <div className=\"flex items-center\">\n          <div className=\"text-white text-lg mr-4\">Hi, 使用者</div>\n          <Avatar className=\"flex items-center h-12 w-12\">\n            <div className=\"text-2xl\">C</div>\n          </Avatar>\n          <Button\n            icon={\n              <ExportOutlined\n                className=\"text-white text-2xl\"\n                style={{ marginRight: 0 }}\n              />\n            }\n            className=\"ml-4 bg-transparent border border-white rounded pr-1 hover--none\"\n            style={{ minWidth: 35, borderColor: '#fff' }}\n          />\n        </div>\n      </div>\n      <div className=\"mt-3 ml-4 pb-0 flex justify-between\">\n        <Breadcrumb\n          separator=\">\"\n          style={{ minHeight: 32, display: 'flex', alignItems: 'center' }}>\n          <Breadcrumb.Item onClick={handleTo('/')}>\n            <HomeOutlined className=\"relative\" style={{ top: -4 }} />\n          </Breadcrumb.Item>\n          {items.map((x, idx) => (\n            <Breadcrumb.Item\n              key={`breadcrumb-${idx}`}\n              onClick={handleTo(x.href)}>\n              {x.name}\n            </Breadcrumb.Item>\n          ))}\n        </Breadcrumb>\n        {content}\n      </div>\n    </Header>\n  )\n}\n\nconst Header = styled(Layout.Header)`\n  &.ant-layout-header {\n    height: auto;\n    padding: 16px 1.7rem 10px 2.1rem;\n    background: ${p => `linear-gradient(-90deg, #42c2b8, ${p.theme.primary})`};\n    color: ${p => p.theme.primary};\n    box-shadow: 0 0 20px ${p => p.theme.purple150};\n  }\n\n  .anticon {\n    cursor: pointer;\n  }\n`\n\nconst MenuItem = styled(Menu.Item)`\n  &.ant-menu-item {\n    margin: 0 5px !important;\n    padding: 0 15px !important;\n    border-radius: 6px;\n    border-bottom: none !important;\n    color: #fff;\n\n    &.is--current,\n    &:hover {\n      color: #fff !important;\n      background: rgba(24, 144, 138, 1) !important;\n    }\n  }\n`\n\nconst Logo = styled.div``\n","import React from 'react'\n\nexport default React.lazy(() => import('./home'))\n","import React from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport { Layout } from 'antd'\nimport ErrorBoundary from '@/components/error-boundary'\nimport Exception from '@/components/exception'\nimport Loading from '@/components/loading'\nimport AppHeader from '@/components/app-header'\nimport { useRoutes, RouteItem } from '@/constants/routes'\nimport Home from '@/containers/home'\n\nfunction App() {\n  const routes = useRoutes()\n\n  const renderRouteItem = React.useCallback((item: RouteItem) => {\n    const path = `${item.path}${item.param ? `/${item.param}` : ''}`\n\n    return (\n      <Route\n        exact\n        key={item.id}\n        path={path}\n        component={\n          item.component ? item.component : () => <h1> {item.title} </h1>\n        }\n      />\n    )\n  }, [])\n\n  const renderRoute: any = React.useCallback(\n    (data: RouteItem[]) => {\n      return data.map((item: RouteItem) => {\n        return [\n          renderRouteItem(item),\n          item.children && renderRoute(item.children),\n          item.hide && renderRoute(item.hide),\n        ]\n      })\n    },\n    [renderRouteItem]\n  )\n\n  return (\n    <ErrorBoundary>\n      <Layout>\n        <AppHeader />\n        <React.Suspense fallback={<Loading />}>\n          <Switch>\n            <Route exact path=\"/\" component={Home} />\n            {renderRoute(routes)}\n            <Route component={Exception} />\n          </Switch>\n        </React.Suspense>\n      </Layout>\n    </ErrorBoundary>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import './bootstrap'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Router } from 'react-router-dom'\nimport { DndProvider } from 'react-dnd'\nimport { HTML5Backend } from 'react-dnd-html5-backend'\nimport { RecoilRoot } from 'recoil'\nimport { ConfigProvider } from 'antd'\nimport zhTW from 'antd/lib/locale/zh_TW'\nimport { ThemeProvider } from 'styled-components'\nimport { SWRConfig } from 'swr'\nimport request from '@/utils/request'\nimport history from '@/utils/history'\nimport { createPack } from '@/utils/createPack'\nimport { redirect } from '@/utils/webHelper'\nimport App from './app'\nimport theme from './theme'\nimport * as serviceWorker from './serviceWorker'\nimport './index.css'\n\nredirect()\n\nfetch('http://18.181.199.235:8080/api/b2/getPathologyResult', {\n  method: 'POST',\n  body: '{}',\n}).then(response => {\n  console.log(response)\n})\n\nconst EnhancedApp = createPack(\n  RecoilRoot,\n  <ThemeProvider theme={theme} />,\n  <ConfigProvider locale={zhTW} />,\n  <SWRConfig value={{ suspense: true, fetcher: request }} />,\n  <DndProvider backend={HTML5Backend} />,\n  <Router history={history} />\n)\n\n// ReactDOM.unstable_createRoot(document.getElementById('root') as any).render(\n//   <EnhancedApp>\n//     <App />\n//   </EnhancedApp>\n// )\nReactDOM.render(\n  <EnhancedApp>\n    <App />\n  </EnhancedApp>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","import React from 'react'\n\nexport default React.lazy(() => import('./report-template-builder'))\n","import React from 'react'\n\nexport default React.lazy(\n  () => import('../report-template-list/report-template-list')\n)\n","import React from 'react'\n\nexport default React.lazy(() => import('./report-inquiry'))\n","import React from 'react'\n\nexport default React.lazy(() => import('../report-typing/report-typing'))\n","import React from 'react'\n\nexport default React.lazy(() => import('./pathol-image-viewer'))\n","import React from 'react'\n\nexport default React.lazy(() => import('./radiol-image-viewer'))\n","import ReportTemplateBuilder from '@/containers/report-template-editor'\nimport ReportTemplateList from '@/containers/report-template-list'\nimport ReportInquiry from '@/containers/report-inquiry'\nimport ReportTyping from '@/containers/report-typing'\nimport PatholImagesViewer from '@/containers/pathol-images-viewer'\nimport RadiolImagesViewer from '@/containers/radiol-images-viewer'\n\nexport type RouteItem = {\n  id: number\n  title: string\n  path: string\n  component: typeof React.Component\n  icon?: React.FunctionComponent\n  disabled?: boolean\n  param?: string\n  children?: RouteItem[]\n  hide?: RouteItem[]\n}\n\nexport type Route = RouteItem & {\n  children: Array<RouteItem>\n  hide: Array<RouteItem>\n  disabled: boolean\n}\n\nexport const PATHOL_IMAGE = '/pathol-images/:studyInstanceUIDs'\nexport const RADIOL_IMAGE = '/radiol-images/:studyInstanceUIDs'\nexport const REPORT_TEMPLATE_LIST = '/report-templates'\nexport const REPORT_INPUT = '/report-input/:id'\nexport const REPORT_TEMPLATE_EDIT = `${REPORT_TEMPLATE_LIST}/:id`\nexport const REPORT_TEMPLATE_CREATE = `${REPORT_TEMPLATE_LIST}/create`\nexport const REPORT_INQUIRY = '/report-inquiry'\n\nexport function useRoutes() {\n  return [\n    {\n      id: 1,\n      title: '病理影像',\n      path: PATHOL_IMAGE,\n      component: PatholImagesViewer,\n    },\n    {\n      id: 2,\n      title: '放射影像',\n      path: RADIOL_IMAGE,\n      component: RadiolImagesViewer,\n    },\n    {\n      id: 3,\n      title: '報告查詢',\n      path: REPORT_INQUIRY,\n      component: ReportInquiry,\n    },\n    {\n      id: 10,\n      title: '輸入報告',\n      path: REPORT_INPUT,\n      component: ReportTyping,\n    },\n    {\n      id: 4,\n      title: '結構式報告模版',\n      path: 'report-template',\n      children: [\n        {\n          id: 5,\n          title: '報告模版清單',\n          path: REPORT_TEMPLATE_LIST,\n          component: ReportTemplateList,\n        },\n        {\n          id: 6,\n          title: '報告模版新增',\n          path: REPORT_TEMPLATE_CREATE,\n          component: ReportTemplateBuilder,\n        },\n        {\n          id: 7,\n          title: '報告模版編輯',\n          path: REPORT_TEMPLATE_EDIT,\n          component: ReportTemplateBuilder,\n        },\n      ],\n    },\n  ]\n}\n\nexport default useRoutes\n","class EnvStore {\n  pageSize = 10\n  apiBaseUrl = process.env.REACT_APP_API_ROOT || 'http://localhost:3004'\n\n  get isEnvDev(): boolean {\n    return process.env.NODE_ENV === 'development'\n  }\n  get appBaseName(): string {\n    return process.env.REACT_APP_BASE_NAME || ''\n  }\n  get appTitle(): string {\n    return `%s | ${\n      process.env.REACT_APP_TITLE || '高雄榮民總醫院 數位病理平台'\n    }`\n  }\n  get appUrl(): string {\n    return `${window.location.protocol}//${window.location.host}${this.appBaseName}/#/`\n  }\n  get appBaseUrl(): string {\n    return `/#/${this.appBaseName}`\n  }\n  get fakeApiBaseUrl(): string {\n    return (\n      process.env.REACT_APP_FAKE_API_ROOT ||\n      (this.isEnvDev ? 'http://localhost:3004' : 'http://localhost:3004')\n    )\n  }\n  get publicUrl(): string {\n    return process.env.PUBLIC_URL || ''\n  }\n  get canUseDOM(): boolean {\n    return !!(\n      typeof window !== 'undefined' &&\n      window.document &&\n      window.document.createElement\n    )\n  }\n  set setPageSize(pageSize: number | undefined) {\n    this.pageSize = pageSize || 50\n  }\n  set setApiBaseUrl(url: string) {\n    this.apiBaseUrl = url\n  }\n}\n\nexport const envStore = new EnvStore()\n\nexport function isMobile() {\n  let check = false\n  ;(function (a) {\n    if (\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(\n        a\n      ) ||\n      // eslint-disable-next-line no-useless-escape\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n        a.substr(0, 4)\n      )\n    )\n      check = true\n  })(navigator.userAgent || navigator.vendor || (window as any).opera)\n  return check\n}\n\nexport default envStore\n","import React from 'react'\nimport styled, { css } from 'styled-components'\nimport { Button } from 'antd'\nimport { ButtonProps } from 'antd/lib/button'\nimport { ActionTypes } from '@/constants/enums'\n// import useRouteCRUDAuthCheck from 'shared/hooks/useRouteCRUDAuthCheck'\n// import * as Icons from 'shared/components/Icons'\n\ninterface Props extends Omit<ButtonProps, 'icon'> {\n  children?: React.ReactNode\n  circle?: boolean\n  color?: string\n  css?: React.CSSProperties\n  icon?: string | React.ReactNode\n  onClick?: (evt: React.MouseEvent<HTMLElement>) => any\n  actionType?: ActionTypes\n}\n\nconst StyledButton = styled(Button)<Props>`\n  &.ant-btn {\n    min-width: 80px;\n    border-radius: 4px;\n    font-weight: 500;\n\n    .anticon {\n      margin-right: 6px;\n    }\n\n    svg {\n      width: 20px;\n      height: 20px;\n    }\n\n    &.ant-btn-sm svg {\n      width: 16px;\n      height: 16px;\n    }\n\n    ${p =>\n      p.color === 'primary' &&\n      css`\n        color: #fff;\n        border-color: ${p => p.theme.btn.primary};\n        background: ${p => p.theme.btn.primary};\n\n        &:hover,\n        &:focus,\n        &:active {\n          color: #fff;\n          background: ${p => p.theme.btn.secondary};\n          border-color: ${p => p.theme.btn.secondary};\n        }\n      `};\n\n    ${p =>\n      p.color === 'outline' &&\n      css`\n        padding: 0 8px;\n        color: ${p => p.theme.btn.primary};\n        border: 1.3px solid ${p => p.theme.btn.primary};\n        background: #fff;\n\n        &:hover,\n        &:focus,\n        &:active {\n          color: #fff;\n          background: ${p => p.theme.btn.primary};\n          border: 1.3px solid ${p => p.theme.btn.primary};\n        }\n      `};\n\n    ${p =>\n      p.color === 'danger' &&\n      css`\n        color: ${p => p.theme.btn.danger};\n        border: 1.3px solid ${p => p.theme.btn.danger};\n        background: #fff;\n\n        &:hover,\n        &:focus,\n        &:active {\n          color: ${p => p.theme.btn.danger};\n          background: #fff6e4;\n          border: 1.3px solid ${p => p.theme.btn.danger};\n        }\n      `};\n\n    ${p =>\n      p.type === 'link' &&\n      css`\n        min-width: auto;\n        padding-left: 0;\n        padding-right: 0;\n        background: transparent;\n        border-color: transparent;\n        color: ${p.theme.primary};\n\n        > span {\n          text-decoration: underline;\n        }\n\n        &:hover {\n          background: transparent;\n          border-color: transparent;\n        }\n      `};\n\n    ${p =>\n      p.size === 'small' &&\n      css`\n        line-height: 1.2;\n      `}\n\n    &.hover--none {\n      &:hover,\n      &:focus,\n      &:active {\n        color: inherit;\n        background: inherit;\n        border-color: inherit;\n      }\n    }\n  }\n\n  &.ant-btn.ant-btn-loading:not(.ant-btn-circle):not(.ant-btn-circle-outline):not(.ant-btn-icon-only) {\n    padding-left: 20px;\n  }\n\n  &.ant-btn[disabled] {\n    svg > g path:nth-child(2) {\n      transition: fill 0.4s ease;\n      fill: darkgrey;\n    }\n  }\n`\n\nexport { StyledButton as Butotn }\n\nexport default function ButtonComponent({\n  // icon,\n  children,\n  loading,\n  actionType,\n  ...props\n}: Props) {\n  // const [, checkIsAuthenticated] = useRouteCRUDAuthCheck()\n\n  // if (actionType && !checkIsAuthenticated(actionType)) {\n  //   return null\n  // }\n\n  return (\n    <StyledButton {...props} loading={loading}>\n      {(() => {\n        // if (icon && !loading) {\n        //   let Icon\n\n        //   const isElement = React.isValidElement(icon)\n\n        //   if (!isElement) {\n        //     Icon = icon\n        //   }\n\n        //   if (typeof icon === 'string') {\n        //     const nameCapitalized = icon.charAt(0).toUpperCase() + icon.slice(1)\n        //     const iconName = 'Icon' + nameCapitalized\n        //     Icon = (Icons as any)[iconName]\n        //   }\n\n        //   return (\n        //     <div className=\"l-flex--center\">\n        //       {isElement ? icon : <Icon className=\"c-icon is--secondary\" />}\n        //       {children}\n        //     </div>\n        //   )\n        // }\n\n        return children\n      })()}\n    </StyledButton>\n  )\n}\n"],"sourceRoot":""}