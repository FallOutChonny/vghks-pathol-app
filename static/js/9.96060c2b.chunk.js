(this["webpackJsonpvghks-pathol-app"]=this["webpackJsonpvghks-pathol-app"]||[]).push([[9],{1231:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(0),c=a.n(n),r=a(50),l=a(418),i=a(415),o=a(222),m=a(178),s=a(49),d=a(406),p=a(240),u=a(45).compose;function b(e){var t=e.onCancel,a=e.snippetList;return c.a.createElement(d.a,{visible:!0,style:{top:30},maskClosable:!1,className:"ant-modal-header--border-none",keyboard:!1,width:"85%",onCancel:t,footer:!1},u(Object(r.a)((function(e){return c.a.createElement("div",{key:e},u(Object(l.a)(i.a,0),o.a,Object(m.a)([],[e]))(a)&&c.a.createElement("h2",{className:"my-2"},e),u(Object(p.c)(),Object(m.a)([],[e]))(a))})),s.a)(a))}},1410:function(e,t,a){"use strict";a.r(t);a(327);var n=a(182),c=a.n(n),r=(a(328),a(102)),l=a.n(r),i=a(101),o=a(30),m=a(9),s=(a(130),a(18)),d=a.n(s),p=a(13),u=a(14),b=a(0),f=a.n(b),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},h=a(31),j=function(e,t){return b.createElement(h.a,Object.assign({},e,{ref:t,icon:O}))};j.displayName="MinusOutlined";var E=b.forwardRef(j),v=a(1187),g=a(389),y=a(258),N=a(50),w=a(178),C=a(49),k=a(404),S=a(89),x=a(46),D=a(403),_=a(195),I=a(63),T=a(103),Y=a(324),A=a(411),M=a(613),H=a(121),L=a(209),P=a(29),F=a(40),z=a(35),B=a(36),J=function(e){Object(z.a)(a,e);var t=Object(B.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(F.a)(a,[{key:"render",value:function(){return f.a.createElement("div",null)}}]),a}(f.a.Component),K=a(240),R={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"};function U(e){var t=e.initialOffset,a=e.currentOffset;if(!t||!a)return{display:"none"};var n=a.x,c=a.y,r="translate(".concat(n,"px, ").concat(c,"px)");return{transform:r,WebkitTransform:r}}var W=Object(H.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}}))((function(e){var t=e.itemType,a=e.isDragging,n=e.currentOffset;if(!a)return null;if(!n)return null;var c=document.elementFromPoint(n.x,n.y),r=!1;return c&&(r=Object(K.a)(c)),f.a.createElement("div",{className:"report-template-builder__drag-layer",style:R},f.a.createElement("div",{style:U(e)},function(e){var a=e.canDrop;switch(t){case L.a.BOARD:case L.a.SNIPPET:return f.a.createElement(J,{canDrop:a});default:return null}}({canDrop:r})))})),G=a(612),V=a(1231),q=a(158),Q=a(96),X=a(188),Z=a.n(X),$=a(69),ee=a.n($),te=a(207),ae=a(33),ne=a(148),ce=a(45).compose,re=Object(u.d)("div").withConfig({displayName:"report-template-builder___StyledDiv",componentId:"sc-550gpb-0"})({width:60}),le=Object(u.d)("div").withConfig({displayName:"report-template-builder___StyledDiv2",componentId:"sc-550gpb-1"})({width:60}),ie=Object(u.d)("div").withConfig({displayName:"report-template-builder___StyledDiv3",componentId:"sc-550gpb-2"})({width:60}),oe=Object(u.d)("span").withConfig({displayName:"report-template-builder___StyledSpan",componentId:"sc-550gpb-3"})({whiteSpace:"nowrap"});t.default=function(e){Object(D.a)("\u7d50\u69cb\u5f0f\u5831\u544a\u6a21\u7248\u7de8\u8f2f"),Object(_.a)([{href:T.h,name:"\u7d50\u69cb\u5f0f\u5831\u544a"},{name:"\u7d50\u69cb\u5f0f\u5831\u544a\u6a21\u7248\u7de8\u8f2f"}]);var t=e.match.params,a=Object(I.b)({id:t.id}),n=a.category,r=a.reportTemplate,s=a.snippetList,u=a.handleTabChange,b=a.handleTabEdit,O=a.handleTabMove,h=a.handleTabNameChange,j=a.handleSnippetUpdate,H=Object(I.a)(),L=Object(p.a)(H,2),P=L[0],F=L[1],z=d.a.useForm(),B=Object(p.a)(z,1)[0],J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onCompleted,a=Object(I.c)(),n=Object(p.a)(a,2),c=n[0],r=n[1],l=function(e){var a=Object(ae.f)(),n=[].concat(Object(Q.a)(c),[Object(m.a)(Object(m.a)({},e),{},{id:a,createdAt:ee()(),createdAtStr:ee()().format("YYYY/MM/DD HH:mm"),updatedAt:ee()(),updatedAtStr:ee()().format("YYYY/MM/DD HH:mm")})]);r(n),Z.a.set("reportTemplateListState",n),t&&t(Object(m.a)(Object(m.a)({},e),{},{id:a}))};return[!1,l]}({onCompleted:function(e){var t=e.id;ne.a.push(Object(g.a)(":id",t)(T.g))}}),K=Object(p.a)(J,2)[1],R=function(){var e=Object(I.c)(),t=Object(p.a)(e,2),a=t[0],n=t[1],c=function(e){var t=a.findIndex((function(t){return"".concat(t.id)==="".concat(e.id)})),c=Object(te.a)(t,Object(m.a)(Object(m.a)({},e),{},{updatedAt:ee()(),updatedAtStr:ee()().format("YYYY/MM/DD HH:mm")}),a);n(c),Z.a.set("reportTemplateListState",c)};return[!1,c]}(),U=Object(p.a)(R,2)[1];return Object(_.c)(f.a.createElement("div",{className:"inline-flex"},f.a.createElement(S.a,{color:"outline",className:"bg-transparent text-white border-white"},"\u767c\u4f48"),f.a.createElement(S.a,{color:"outline",className:"ml-6 bg-transparent text-white border-white",onClick:function(){B.validateFields().then((function(e){((null===r||void 0===r?void 0:r.id)?U:K)(Object(m.a)(Object(m.a)(Object(m.a)({},r),e),{},{setting:ce(y.a,Object(N.a)((function(e){return Object(i.a)({},e,ce(Object(N.a)((function(t){t.Component,t.icon;var a=Object(o.a)(t,["Component","icon"]);return Object(m.a)(Object(m.a)({},a),{},{categoryName:e})})),Object(w.a)([],[e]))(s))})),C.a)(s)}))}))}},"\u5132\u5b58"),f.a.createElement(S.a,{color:"outline",className:"ml-6 bg-transparent text-white border-white",onClick:F},"\u9810\u89bd"))),f.a.createElement(A.a,null,P&&f.a.createElement(V.a,{snippetList:s,onCancel:F}),f.a.createElement(W,null),f.a.createElement(k.a,null,f.a.createElement(d.a,{form:B,initialValues:Object(m.a)({},r)},f.a.createElement(c.a,{gutter:48,className:"pt-2 relative"},f.a.createElement(l.a,{span:5},f.a.createElement(q.a,{defaultActiveKey:[1,2],expandIconPosition:"right",className:"shadow-2xl header-pl-clear",expandIcon:function(e){return e.isActive?f.a.createElement(E,null):f.a.createElement(v.a,null)}},f.a.createElement(q.a.Panel,{header:"\u6a21\u7248\u8cc7\u8a0a",key:1},f.a.createElement(c.a,{className:"mb-2 text-sm text-darkGrey"},f.a.createElement(l.a,{span:24,className:"mb-3"},f.a.createElement(re,{className:"inline-block"},"\u540d\u7a31:"),f.a.createElement(d.a.Item,{noStyle:!0,name:"name"},f.a.createElement(x.c,{className:"w-2/3"}))),f.a.createElement(l.a,{span:24,className:"my-3"},f.a.createElement(le,{className:"inline-block"},"\u63cf\u8ff0:"),f.a.createElement(d.a.Item,{noStyle:!0,name:"description"},f.a.createElement(x.c,{className:"w-2/3"}))),f.a.createElement(l.a,{span:24,className:"my-3"},f.a.createElement(ie,{className:"inline-block"},"\u5275\u4f5c\u8005:"),f.a.createElement(d.a.Item,{noStyle:!0,name:"author"},f.a.createElement(x.c,{className:"w-2/3"}))))),f.a.createElement(q.a.Panel,{header:"\u5de5\u5177\u5217",key:2},f.a.createElement(c.a,null,f.a.createElement(l.a,{span:24},f.a.createElement(M.a,null)))))),f.a.createElement(Y.a,{type:"editable-card",activeKey:n,onChange:u,onEdit:b,moveTabNode:O,className:"flex-1"},ce(Object(N.a)((function(e){return f.a.createElement(Y.a.TabPane,{closable:!0,key:e,tab:f.a.createElement(oe,{contentEditable:!0,suppressContentEditableWarning:!0,spellCheck:!1,className:"outline-none",onChange:h(e)},e)},f.a.createElement(l.a,{span:19,className:"report-template-builder__main-content"},f.a.createElement(G.a,{draggable:!P,snippetList:s[e],onSnippetUpdate:j})))})),C.a)(s))))))}}}]);
//# sourceMappingURL=9.96060c2b.chunk.js.map