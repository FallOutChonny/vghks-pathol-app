(this["webpackJsonpvghks-pathol-app"]=this["webpackJsonpvghks-pathol-app"]||[]).push([[13],{1136:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var r=a(74),n=a(3),c=a(9),l=a(11),o=a(448),i=a(78),s=a(135),d=a(94),u=a(131),m=a(18);function b(e){var t=e.startDateField,a=void 0===t?"startDate":t,b=e.endDateField,j=void 0===b?"endDate":b,O=e.format;return function(e){var t;if(!e)return{};var b=e.date,f=void 0===b?[]:b,p=Object(l.a)(e,["date"]),h=Object(m.c)(f,O),E=Object(c.a)(h,2),x=E[0],v=E[1];return Object(o.a)({createDate:Object(i.a)(s.a,d.a,Object(u.a)(1,"format")("YYYY-MM-DD")),reportDate:Object(i.a)(s.a,d.a,Object(u.a)(1,"format")("YYYY-MM-DD"))})(Object(n.a)(Object(n.a)({},p),{},(t={},Object(r.a)(t,a,x),Object(r.a)(t,j,v),t)))}}},1151:function(e,t,a){"use strict";var r=a(0),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},c=a(25),l=function(e,t){return r.createElement(c.a,Object.assign({},e,{ref:t,icon:n}))};l.displayName="EyeOutlined";t.a=r.forwardRef(l)},1191:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return se}));a(432);var r=a(345),n=a.n(r),c=(a(201),a(64)),l=a.n(c),o=(a(202),a(41)),i=a.n(o),s=(a(171),a(85)),d=a.n(s),u=a(66),m=a.n(u),b=a(3),j=a(128),O=(a(346),a(125)),f=a.n(O),p=(a(100),a(20)),h=a.n(p),E=a(9),x=a(0),v=a.n(x),g=a(78),y=a(156),w=a(104),I=a(94),q=a(306),C=a(50),k=a(157),N=a(63),D=a(446),Y=a(256),M=a(420),F=a(340),R=a(419),z=a(44),S=a(56),T=a(131),U=a(29),A=a(627),H=a.n(A),B=a(1151),J=a(1122),K=a(434),P=a(170),V=a(1136),_=a(158),Q=a(204),W=a(33),G=a(213),L=a(433),X=a(269),Z=a(61),$=a(90),ee=a(22),te=a(40),ae=a(71),re=a(18),ne=a(48),ce=a(37),le=a(439),oe=a(27).compose,ie=Object(ae.a)(6);function se(){Object(K.a)("\u5831\u544a\u67e5\u8a62");var e=Object(ce.b)().user,t=Object(le.a)(),a=Object(P.a)([{name:"\u5831\u544a\u67e5\u8a62"}]),r=v.a.useState(!1),c=Object(E.a)(r,2),o=c[0],s=c[1],u=h.a.useForm(),O=Object(E.a)(u,1)[0],p=Object(V.a)({format:"YYYY-MM-DD"}),x=Object(_.g)({onCompleted:function(t){if(s(!1),o){var a=Object(g.a)(Object(y.a)(Array),w.a,I.a)(t),r=Object(q.a)(["templateId"]),n=oe(Object(C.a)(k.a,"\u5b8c\u6210"),Object(N.a)(["orstatus"])),c=Object(q.a)(["orreqno"]);Object(D.a)([oe(Y.a,n),function(){return e.isClinician}])(a)||(Object(D.a)([c,r,n])(a)&&$.a.push("".concat(Object(M.a)(":id",a.orreqno)(te.h),"?finish=1")),Object(D.a)([c,r])(a)&&$.a.push(Object(M.a)(":id",a.orreqno)(te.h)),Object(D.a)([c,oe(Y.a,r)])(a)&&$.a.push("".concat(te.j,"?orreqno=").concat(a.orreqno)),oe(Y.a,Object(q.a)(["orreqno"]))(a)&&f.a.error("\u67e5\u7121\u5831\u544a"))}}}),A=x.loading,se=x.data,de=x.refetch,ue=x.called,me=function(t){var a=oe(Object(F.a)(Object(R.a)("orreqno",t.currentTarget.dataset.id)),Object(z.a)([],["content"]))(se);if(a){var r=oe(Object(C.a)(k.a,"\u5b8c\u6210"),Object(N.a)(["orstatus"])),n=oe(Object(C.a)(k.a,"\u672a\u8f38"),Object(N.a)(["orstatus"])),c=oe(Object(C.a)(k.a,"\u5df2\u8f38"),Object(N.a)(["orstatus"])),l=Object(q.a)(["orreqno"]);Object(D.a)([oe(Y.a,r),function(){return e.isClinician}])(a)?f.a.warning("\u5831\u544a\u5c1a\u672a\u8f38\u5165\u5b8c\u6210"):(Object(D.a)([l,r])(a)&&$.a.push("".concat(Object(M.a)(":id",a.orreqno)(te.h),"?finish=1")),Object(D.a)([l,c])(a)&&$.a.push(Object(M.a)(":id",a.orreqno)(te.h)),Object(D.a)([l,n])(a)&&$.a.push("".concat(te.j,"?orreqno=").concat(a.orreqno)))}},be=function(e){var t=Object(M.a)(":id","")(ne.a.viewerUrl);window.open("".concat(t,"?PatientID=").concat(e.currentTarget.dataset.id),"__blank")},je=function(e){$.a.push(Object(M.a)(":id","".concat(e.currentTarget.dataset.id))(te.d))},Oe=[{title:"\u7533\u8acb\u5e8f\u865f",dataIndex:"orreqno",sorter:Object(re.j)("orreqno")},{title:"\u59d3\u540d",dataIndex:"hnamec"},{title:"\u75c5\u7406\u865f",dataIndex:"orworkno",sorter:Object(re.j)("orworkno")},{title:"\u75c5\u6b77\u865f",dataIndex:"hhisnum",sorter:Object(re.j)("hhisnum")},{title:"\u75c5\u623f",dataIndex:"hnursta",sorter:Object(re.j)("hnursta")},{title:"\u5e8a\u865f",dataIndex:"hbed",sorter:Object(re.j)("hbed")},{title:"\u6027\u5225",dataIndex:"hsex",sorter:Object(re.j)("hsex")},{title:"\u7c3d\u6536\u65e5\u671f",dataIndex:"zrsregord",sorter:Object(re.j)("zrsregord")},{title:"\u6536\u8cbb\u78bc",dataIndex:"ordclnm"},{title:"\u79d1\u5225",dataIndex:"csect",sorter:Object(re.j)("csect")},{title:"\u72c0\u614b",dataIndex:"orstatus",sorter:Object(re.j)("orstatus")},{title:"\u91ab\u56d1",dataIndex:"ORPROCED",render:function(e,t){return v.a.createElement(d.a,{title:"\u67e5\u770b\u91ab\u56d1\u5167\u5bb9"},v.a.createElement(B.a,{"data-id":t.orreqno,className:"cursor-pointer text-lg",onClick:je}))}},{title:"\u5831\u544a",dataIndex:"x",render:function(e,t){return v.a.createElement(d.a,{title:"\u7de8\u8f2f\u3001\u67e5\u770b\u5831\u544a\u5167\u5bb9"},v.a.createElement(J.a,{"data-id":t.orreqno,className:"cursor-pointer text-lg",onClick:me}))}},{title:"\u5f71\u50cf",dataIndex:"createAt",render:function(e,t){return v.a.createElement(d.a,{title:"\u958b\u555f\u65b0\u8996\u7a97\u67e5\u770b\u5f71\u50cf"},v.a.createElement(B.a,{"data-id":t.hhisnum,className:"cursor-pointer text-lg",onClick:be}))}}],fe=function(e){return v.a.createElement(h.a.Item,{noStyle:!0,shouldUpdate:!0},(function(t){var a=t.getFieldValue;return e({disabled:"rpresult"===a("classification")})}))};return v.a.createElement(n.a,{spinning:A},v.a.createElement(L.a,{style:{minHeight:"calc(100vh - 203px)"}},v.a.createElement(l.a,{justify:"center"},v.a.createElement(i.a,{md:24,xl:22,xs:24},v.a.createElement(h.a,{form:O,layout:"horizontal",hideRequiredMark:!0,labelAlign:"left",colon:!1},v.a.createElement(l.a,{gutter:12,justify:"space-between"},v.a.createElement(i.a,{md:12,xl:7,xs:24},v.a.createElement(H.a,{noStyle:!0,shouldUpdate:!0},(function(e){var a=oe(Object(g.a)(Object(C.a)(k.a,"rpresult"),Object(S.a)({rules:[ae.d.required]}),Object(S.a)({})),Object(T.a)(1,"getFieldValue")("classification"))(e);return v.a.createElement(h.a.Item,Object.assign({},a,t?ie:{labelCol:{span:5},wrapperCol:{span:19}},{label:"\u67e5\u8a62\u55ae\u865f",name:"no"}),v.a.createElement(W.c,{addonBefore:v.a.createElement(h.a.Item,{noStyle:!0,name:"noType"},v.a.createElement(Q.a,Object.assign({},a,{allowClear:!0,style:{width:100},placeholder:"\u55ae\u865f\u985e\u578b"}),v.a.createElement(Q.a.Option,{value:"ORREQNO"},"\u7533\u8acb\u5e8f\u865f"),v.a.createElement(Q.a.Option,{value:"ORWORKNO"},"\u75c5\u7406\u865f"),v.a.createElement(Q.a.Option,{value:"HHISNUM"},"\u75c5\u6b77\u865f")))}))}))),v.a.createElement(i.a,{md:12,xl:5,xs:24},v.a.createElement(h.a.Item,Object.assign({},ie,{label:"\u67e5\u8a62\u985e\u5225",name:"classification",rules:[ae.d.required]}),v.a.createElement(Q.a,{allowClear:!0},v.a.createElement(Q.a.Option,{value:"pathorderview"},"\u91ab\u56d1"),v.a.createElement(Q.a.Option,{value:"rpresult"},"\u5831\u544a")))),v.a.createElement(i.a,{md:12,xl:6,xs:24},fe((function(e){var t=e.disabled;return v.a.createElement(h.a.Item,Object.assign({},ie,{label:"\u7c3d\u6536\u65e5\u671f",name:"date"}),v.a.createElement(G.b,{className:"w-full",disabled:t}))}))),v.a.createElement(i.a,{md:12,xl:6,xs:24},fe((function(e){var t=e.disabled;return v.a.createElement(h.a.Item,Object.assign({},ie,{label:"\u5831\u544a\u72c0\u614b",name:"reportStatus"}),v.a.createElement(Q.a,{allowClear:!0,disabled:t},Object(U.a)((function(e){return v.a.createElement(Q.a.Option,{key:e.id,value:e.id},e.name)}))(ee.d)))})))),v.a.createElement(l.a,{className:"mt-4"},v.a.createElement(i.a,{md:24,xs:24,className:"flex justify-end"},v.a.createElement(h.a.Item,null,v.a.createElement(Z.a,{color:"primary",style:{width:96},className:"mr-3",onClick:function(){return O.resetFields()}},"\u91cd\u8a2d"),v.a.createElement(Z.a,{color:"primary",style:{width:96},onClick:function(){O.validateFields().then(function(){var e=Object(j.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"rpresult"===t.classification&&s(!0),de(p(Object(b.a)({},t))),a([{name:"\u5831\u544a\u67e5\u8a62"},{name:"\u67e5\u8a62\u7d50\u679c"}]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"\u641c\u5c0b"))))))),ue&&!o&&v.a.createElement(v.a.Fragment,null,v.a.createElement(l.a,{className:"mb-2 mt-4",justify:"center"},v.a.createElement(i.a,{md:24,xs:24,className:"text-sm"},"\u6aa2\u7d22\u7d50\u679c\u5171 ",v.a.createElement("span",{className:"text-primary"},se.total)," \u7b46")),v.a.createElement(l.a,{justify:"center"},v.a.createElement(i.a,{md:24,xs:24,className:"sm:overflow-y-scroll"},v.a.createElement(X.a,{rowKey:"id",dataSource:se,columns:Oe}))))))}}}]);
//# sourceMappingURL=13.2e4ea867.chunk.js.map