{"version":3,"sources":["../node_modules/@ant-design/icons-svg/es/asn/EyeOutlined.js","../node_modules/@ant-design/icons/es/icons/EyeOutlined.js","containers/report-template-list/report-template-list.tsx","hooks/useModal.tsx","../node_modules/react-dnd-html5-backend/dist/esm/getEmptyImage.js","../node_modules/react-dnd/dist/esm/index.js","components/input.tsx","hooks/useReportTemplate.ts","utils/form.ts","../node_modules/react-dnd/dist/esm/utils/js_utils.js","components/checkbox.tsx","../node_modules/react-dnd/dist/esm/decorators/utils.js","../../src/index.ts","components/app-footer.tsx","utils/message.tsx","../node_modules/react-dnd/dist/esm/common/registration.js","../node_modules/react-dnd/dist/esm/utils/isRef.js","../node_modules/react-dnd/dist/esm/utils/cloneWithRef.js","../node_modules/react-dnd/dist/esm/common/wrapConnectorHooks.js","constants/item-types.ts","components/layout.tsx","hooks/useTitle.ts","components/modal.tsx","components/table.tsx","components/select.tsx","components/report-template-modal.tsx","components/report-template-wrapper.tsx","components/report-template-input-text.tsx","components/input-number.tsx","components/report-template-input-number.tsx","components/editable-table.tsx","components/report-template-selection-modal.tsx","components/report-template-multiple-selection.tsx","components/report-template-single-selection.tsx","components/datepicker.tsx","components/report-template-date.tsx","components/report-template-time.tsx","components/report-template-select.tsx","components/report-template-section-header.tsx","components/report-template-cloze.tsx","components/report-template-list.tsx","components/radio.tsx","../node_modules/react-dnd/dist/esm/interfaces/index.js","../node_modules/react-dnd/dist/esm/decorators/index.js","../node_modules/react-dnd/dist/esm/utils/isValidType.js","../node_modules/react-dnd/dist/esm/decorators/DragLayer.js","utils/get-display-name.ts","components/snippet-utils.tsx","../node_modules/react-dnd/dist/esm/decorators/createSourceFactory.js","../node_modules/react-dnd/dist/esm/decorators/DragSource.js","../node_modules/react-dnd/dist/esm/decorators/createTargetFactory.js","../node_modules/react-dnd/dist/esm/decorators/DropTarget.js","../node_modules/react-dnd/dist/esm/decorators/disposables.js","../node_modules/react-dnd/dist/esm/decorators/decorateHandler.js","../node_modules/react-dnd/dist/esm/common/SourceConnector.js","../node_modules/react-dnd/dist/esm/common/DragSourceMonitorImpl.js","../node_modules/react-dnd/dist/esm/common/DropTargetMonitorImpl.js","../node_modules/react-dnd/dist/esm/common/TargetConnector.js","../node_modules/lodash.throttle/index.js","../node_modules/@ant-design/icons-svg/es/asn/LeftOutlined.js","../node_modules/@ant-design/icons/es/icons/LeftOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/RightOutlined.js","../node_modules/@ant-design/icons/es/icons/RightOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/EditOutlined.js","../node_modules/@ant-design/icons/es/icons/EditOutlined.js","components/snippet-toolbar.tsx","components/withTinyMCE.js","components/snippet.tsx","components/withScroll.js","components/snippet-scrollable-container.tsx","components/snippet-preview-modal.tsx","components/query-table.tsx","../node_modules/@ant-design/icons-svg/es/asn/DeleteOutlined.js","../node_modules/@ant-design/icons/es/icons/DeleteOutlined.js"],"names":["EyeOutlined","props","ref","React","AntdIcon","Object","assign","icon","EyeOutlinedSvg","displayName","ReportTemplateList","useTitle","useBreadcrumb","name","useReportTemplates","dataSource","content","key","onToggle","ownState","useState","editModalVisible","setEditModalVisible","item","setItem","findItem","useCallback","evt","find","x","path","currentTarget","dataset","handleModalToggle","prev","useModal","previewModalVisible","handlePreviewModalVisible","useReportPreview","setIsPreview","handleTo","pathname","history","push","handlePreview","columns","title","dataIndex","render","v","r","type","onClick","record","replace","id","routes","align","_","data-id","className","DeleteOutlined","snippetList","setting","onCancel","style","minHeight","justify","span","color","rowKey","emptyImage","getEmptyImage","Image","src","borderLess","css","p","theme","primary","StyledInput","styled","secondary","TextArea","compose","require","snippetCategoryOfReport","PATHOLOGICAL_DIAGNOSIS","GROSS","MICROSCOPY","NOTES","REFERENCES","fakeReportTemplateList","author","status","statusName","createdAt","moment","createdAtStr","format","updatedAt","updatedAtStr","description","mergeAll","map","Component","reportTemplateById","pathOr","fakeSetting","keys","defaultSnippetsOfReport","values","snippetsOfReportState","atomFamily","default","propEq","Number","reportTemplateListState","atom","total","reportPreviewState","categoryState","head","useRecoilState","useReportTemplate","reportTemplate","_snippetList","useEffect","setSnippetList","JSON","stringify","category","setCategory","handleTabAdd","last","inc","getNumberFromString","Rlast","sort","a","b","handleTabRemove","targetKey","confirm","onOk","omit","filter","snippetById","handleTabEdit","e","action","handleTabChange","activeKey","handleTabMove","order","snippetKeys","orderA","indexOf","orderB","handleTabNameChange","newTabName","target","innerHTML","handleSnippetUpdate","data","length","flatten","isPreview","useToggleReportPreview","state","useUpdateSnippet","options","onUpdate","defaultValue","setSetting","handleOk","createFormItemLayout","label","wrapper","labelCol","xs","sm","wrapperCol","thosandSeprartor","formatter","value","parser","currency","percent","max","rules","required","message","number","transform","account","pattern","RegExp","password","_typeof","obj","Symbol","iterator","constructor","prototype","isFunction","input","noop","isPlainObject","isObjectLike","getPrototypeOf","proto","CheckboxGroup","Group","StyledCheckbox","CheckboxComponent","forwardRef","getDecoratedComponent","instanceRef","currentRef","current","decoratedRef","isRefable","C","_item$$$typeof","$$typeof","toString","isRefForwardingComponent","checkDecoratorArguments","functionName","signature","shallowEqual","objA","objB","compare","compareContext","compareResult","keysA","keysB","bHasOwnProperty","idx","valueA","valueB","AppFooter","Footer","background","marginTop","marginBottom","width","okText","cancelText","centered","autoFocusButton","okButtonProps","minWidth","marginRight","cancelButtonProps","modalDefaultProps","registerTarget","manager","registry","getRegistry","targetId","addTarget","removeTarget","registerSource","source","sourceId","addSource","removeSource","isRef","hasOwnProperty","call","setRef","node","cloneWithRef","element","newRef","previousRef","invariant","cloneElement","throwIfCompositeComponentElement","Error","concat","wrapConnectorHooks","hooks","wrappedHooks","forEach","hook","endsWith","wrappedHook","elementOrNode","arguments","undefined","isValidElement","wrapHookToRecognizeElement","CARD","BOARD","SNIPPET","borderTopLeftRadius","borderTopRightRadius","Page","children","Content","cx","DEFAULT_USE_TITLE_OPTIONS","restoreOnUnmount","document","prevTitleRef","useRef","envStore","appTitle","_title","StyledModal","ModalComponent","this","error","success","info","StyledTable","pagination","TableComponent","editable","onAddRowClick","isRowDeletable","onDeleteRowClick","isCanEdit","_columns","useMemo","canEdit","placement","top","__","locale","emptyText","image","PRESENTED_IMAGE_SIMPLE","Column","StyledSelect","SelectComponent","Option","TemplateModal","visible","maskClosable","keyboard","footer","StyledCard","TemplateWrapper","onDelete","onEdit","titleVisible","bodyVisible","FontColorsOutlined","isNil","InputTextModal","useForm","form","validateFields","then","labelAlign","initialValues","Item","valuePropName","StyledInputNumber","attrs","min","ThousandSeprartorInput","CurrencyInput","PercentInput","InputNumberModal","EditableTable","onChange","onRowAdd","onRowDelete","triggerChange","changedValue","size","uuid","text","selected","freetext","TemplateSelectionModal","noStyle","invoker","ReportTemplateMultipleSelection","handleEditModalVisible","bodyStyle","paddingLeft","mapIndexed","defaultChecked","bordered","placeholder","ReportTemplateSingleSelection","StyledDatePicker","StyledTimePicker","DatePickerComponent","InputDateModal","allowClear","picker","InputTimeModal","ReportTemplateCloze","reportTemplateList","componentType","inline","BoldOutlined","FontSizeOutlined","inputProps","tooltip","multipleLine","autoSize","minRows","NumberOutlined","units","DatabaseOutlined","UnorderedListOutlined","TemplateMultipleSelection","OrderedListOutlined","TemplateSingleSelection","CalendarOutlined","ClockCircleOutlined","html","Cloze","StyledRadio","darkGrey","RadioComponent","isValidType","allowArray","Array","isArray","every","t","_classCallCheck","instance","Constructor","TypeError","_defineProperties","i","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","o","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","apply","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","DragLayer","collect","DecoratedComponent","Decorated","_options$arePropsEqua","arePropsEqual","DragLayerContainer","_React$Component","_super","_this","isCurrentlyMounted","handleChange","nextState","getCurrentState","setState","nextProps","unsubscribeFromOffsetChange","unsubscribeFromStateChange","_this2","DndContext","Consumer","_ref","dragDropManager","receiveDragDropManager","monitor","getMonitor","subscribeToOffsetChange","subscribeToStateChange","hoistStatics","getDisplayName","hasClassName","nodes","n","includes","canMoveSnippet","elem","parentNode","unshift","getPlaceHolderIndex","clientOffset","overSnippet","findSnippet","classList","contains","parentElement","elementFromPoint","y","snippetIndex","index","placeholderIndex","isOverSnippet","padding","renderSnippets","wrapperId","draggable","tabSize","dangerouslySetInnerHTML","__html","ALLOWED_SPEC_METHODS","REQUIRED_SPEC_METHODS","SourceImpl","spec","beginDrag","canDrag","globalMonitor","isDragging","getSourceId","endDrag","createSourceFactory","join","DragSource","getType","createSource","decorateHandler","containerDisplayName","createHandler","registerHandler","createConnector","backend","SourceConnector","createMonitor","DragSourceMonitorImpl","TargetImpl","canDrop","hover","drop","createTargetFactory","DropTarget","createTarget","DropTargetMonitorImpl","TargetConnector","Disposable","isDisposed","d","Boolean","dispose","isDisposable","empty","CompositeDisposable","_len","disposables","_key","shouldDispose","splice","len","currentDisposables","_i","_i2","SerialDisposable","old","_slicedToArray","arr","_arrayWithHoles","_arr","_n","_d","_e","_s","next","done","err","_iterableToArrayLimit","minLen","_arrayLikeToArray","slice","from","test","_unsupportedIterableToArray","_nonIterableRest","arr2","DragDropContainer","disposable","receiveProps","handlerId","currentType","prevProps","handler","receiveType","handlerMonitor","handlerConnector","_registerHandler2","unregister","receiveHandlerId","unsubscribe","handlerIds","setDisposable","_ref2","requestAnimationFrame","_this2$handlerConnect","reconnect","getBackend","dragSource","clearDragSource","dragSourceOptions","dragSourceRef","dragSourceNode","reconnectDragSource","dragPreview","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","dragSourceOptionsInternal","dragPreviewOptionsInternal","lastConnectedHandlerId","lastConnectedDragSource","lastConnectedDragSourceOptions","lastConnectedDragPreview","lastConnectedDragPreviewOptions","newHandlerId","didChange","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","dragSourceUnsubscribe","connectDragSource","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","dragPreviewUnsubscribe","connectDragPreview","get","set","isCallingCanDrag","isCallingIsDragging","internalMonitor","canDragSource","isDraggingSource","listener","isOverTarget","getTargetIds","isSourcePublic","canDropOnTarget","getItemType","getItem","getDropResult","didDrop","getInitialClientOffset","getInitialSourceClientOffset","getSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","isCallingCanDrop","dropTarget","clearDropTarget","dropTargetOptions","dropTargetRef","dropTargetNode","dropTargetOptionsInternal","lastConnectedDropTarget","lastConnectedDropTargetOptions","didDropTargetChange","didOptionsChange","disconnectDropTarget","unsubscribeDropTarget","connectDropTarget","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","global","freeSelf","root","Function","objectToString","nativeMax","Math","nativeMin","now","debounce","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","thisArg","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","toNumber","isObject","cancel","clearTimeout","flush","isSymbol","other","valueOf","isBinary","module","exports","LeftOutlined","LeftOutlinedSvg","RightOutlined","RightOutlinedSvg","EditOutlined","EditOutlinedSvg","ToolbarWrapper","div","SHIFT_TYPES","SnippetToolbar","tabIndex","onShift","handleShift","shift","defaultConfig","block_formats","menubar","external_plugins","custom_format","utils","component_plugin","fontsize_formats","force_br_newlines","force_p_newlines","forced_root_block","plugins","tinymce","publicUrl","link_title","table_toolbar","textcolor_cols","content_security_policy","allow_unsafe_link_target","relative_urls","convert_urls","valid_elements","valid_children","toolbar1","withDragSource","ItemTypes","fromMenu","originalIndex","connect","Snippet","componentDidMount","shiftSnippet","handleRemove","removeSnippet","_onMouseOver","_onMouseOut","styles","mergeRight","isFocus","borderRadius","border","outlineColor","purple150","cursor","position","display","marginLeft","getItemStyles","onMouseOver","onMouseOut","data-index","Children","child","ComposedComponent","withTinyMCE","editor","toolbarMouseOver","toolbarVisible","initialize","snippet","_get","remove","_config","clone","config","init","selector","language_url","setup","on","onEditorBlur","onEditorFocus","is","execInit","setContent","init_instance_callback","undoManager","add","console","log","getElementById","offsetTop","onBlur","prevState","equals","defaultProps","hoist","intBetween","val","floor","createVerticalStrength","_buffer","point","h","w","buffer","defaultHorizontalStrength","defaultVerticalStrength","ScrollableComponent","WrappedComponent","ScrollingComponent","ctx","handleEvent","dragging","attached","attach","updateScrolling","throttle","container","getBoundingClientRect","box","left","height","coords","changedTouches","clientX","clientY","getCoords","scaleX","horizontalStrength","scaleY","verticalStrength","frame","startScrolling","useScroll","_initial","findDOMNode","wrappedInstance","addEventListener","window","body","clearMonitorSubscription","context","handleMonitorChange","_remove","removeEventListener","stopScrolling","tick","strengthMultiplier","onScrollChange","scrollLeft","scrollTop","scrollWidth","scrollHeight","clientWidth","clientHeight","raf","detach","contextType","withScroll","vStrength","ReactDndProvider","SnippetPreviewModal","gt","QueryTable","pageNum","loading","rowSelection","paginationConfig","merge","pageSize","showSizeChanger","DeleteOutlinedSvg"],"mappings":"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","file":"static/js/10.e82e8d2a.chunk.js","sourcesContent":["// This icon file is generated automatically.\nvar EyeOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z\" } }] }, \"name\": \"eye\", \"theme\": \"outlined\" };\nexport default EyeOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EyeOutlinedSvg from \"@ant-design/icons-svg/es/asn/EyeOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EyeOutlined = function EyeOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: EyeOutlinedSvg\n  }));\n};\n\nEyeOutlined.displayName = 'EyeOutlined';\nexport default React.forwardRef(EyeOutlined);","import React from 'react'\nimport { replace } from 'ramda'\nimport { Row, Col, Tooltip } from 'antd'\nimport { ColumnProps } from 'antd/lib/table'\nimport { EyeOutlined, DeleteOutlined } from '@ant-design/icons'\nimport { Page } from '@/components/layout'\nimport Button from '@/components/button'\nimport Table from '@/components/query-table'\nimport history from '@/utils/history'\nimport useTitle from '@/hooks/useTitle'\nimport { useReportTemplates, useReportPreview } from '@/hooks/useReportTemplate'\nimport { useBreadcrumb } from '@/hooks/useApp'\nimport useModal from '@/hooks/useModal'\nimport * as routes from '@/constants/routes'\nimport { ReportTemplate } from '@/services/reportService'\nimport ReactDndProvider from '@/components/snippet-scrollable-container'\nimport SnippetPreviewModal from '@/components/snippet-preview-modal'\n\nexport default function ReportTemplateList() {\n  useTitle('結構式報告模版列表')\n  useBreadcrumb([{ name: '結構式報告' }, { name: '結構式報告模版列表' }])\n\n  const [dataSource] = useReportTemplates()\n\n  const [previewModalVisible, handlePreviewModalVisible, { item }] = useModal({\n    content: dataSource.content,\n  })\n\n  const [, setIsPreview] = useReportPreview()\n\n  const handleTo = (pathname: string) => () => {\n    history.push(pathname)\n  }\n\n  const handleToEditPage = (record: ReportTemplate) => () => {\n    handleTo(replace(':id', `${record.id}`)(routes.REPORT_TEMPLATE_EDIT))()\n  }\n\n  const handlePreview = (evt: React.MouseEvent<HTMLElement>) => {\n    setIsPreview()\n    handlePreviewModalVisible(evt)\n  }\n\n  const columns: ColumnProps<ReportTemplate>[] = [\n    {\n      title: '報告名稱',\n      dataIndex: 'name',\n      render: (v, r) => (\n        <Button type=\"link\" onClick={handleToEditPage(r)}>\n          {v}\n        </Button>\n      ),\n    },\n    {\n      title: '創作者',\n      dataIndex: 'author',\n    },\n    {\n      title: '狀態',\n      dataIndex: 'statusName',\n    },\n    {\n      title: '創作時間',\n      dataIndex: 'createdAtStr',\n    },\n    {\n      title: '上次修改時間',\n      dataIndex: 'updatedAtStr',\n    },\n    {\n      title: '報告描述',\n      dataIndex: 'description',\n    },\n    {\n      title: 'actions',\n      dataIndex: 'delete',\n      align: 'center',\n      render: (_, r) => (\n        <>\n          <Tooltip title=\"檢視\">\n            <EyeOutlined\n              data-id={r.id}\n              className=\"c-icon text-lg cursor-pointer mr-3\"\n              onClick={handlePreview}\n            />\n          </Tooltip>\n          <Tooltip title=\"刪除\">\n            <DeleteOutlined\n              data-id={r.id}\n              className=\"c-icon text-lg cursor-pointer\"\n            />\n          </Tooltip>\n        </>\n      ),\n    },\n  ]\n\n  return (\n    <ReactDndProvider className=\"is--preview\">\n      {previewModalVisible && (\n        <SnippetPreviewModal\n          snippetList={item?.setting}\n          onCancel={handlePreview}\n        />\n      )}\n      <Page style={{ minHeight: 'calc(100vh - 203px)' }}>\n        <Row className=\"mb-4\" justify=\"center\">\n          <Col span={20} className=\"flex justify-end\">\n            <Button color=\"outline\">匯入</Button>\n            <Button\n              color=\"outline\"\n              className=\"ml-4\"\n              onClick={handleTo(routes.REPORT_TEMPLATE_CREATE)}>\n              新增\n            </Button>\n          </Col>\n        </Row>\n        <Row justify=\"center\">\n          <Col span={20}>\n            <Table rowKey=\"id\" columns={columns} dataSource={dataSource} />\n          </Col>\n        </Row>\n      </Page>\n    </ReactDndProvider>\n  )\n}\n","import React from 'react'\nimport { find, path } from 'ramda'\n\nexport default function useModal<T, TDetail = T>({\n  content,\n  key = 'id',\n  onToggle,\n  ownState,\n}: {\n  content: T[]\n  key?: string\n  ownState?: [T | null, React.Dispatch<React.SetStateAction<T | null>>]\n  onToggle?: (item: T) => any\n}) {\n  const [editModalVisible, setEditModalVisible] = React.useState(false)\n  const [item, setItem] = ownState || React.useState<T | null>(null) // eslint-disable-line\n\n  const findItem = React.useCallback(\n    (evt: React.MouseEvent<HTMLElement>) => {\n      return find(\n        x =>\n          `${path([key], x)}` ===\n          (evt.currentTarget as HTMLElement).dataset['id']\n      )(content)\n    },\n    [content, key]\n  )\n\n  const handleModalToggle = (evt?: React.MouseEvent<HTMLElement>) => {\n    if (!evt) {\n      return\n    }\n\n    const item = findItem(evt)\n\n    if (!item) {\n      setItem(null)\n    }\n\n    if (item) {\n      setItem(item as T)\n    }\n\n    if (onToggle) {\n      onToggle(item as T)\n    }\n  }\n\n  const handleEditModalVisible = (evt?: React.MouseEvent<HTMLElement>) => {\n    setEditModalVisible(prev => !prev)\n    handleModalToggle(evt)\n  }\n\n  return [\n    editModalVisible,\n    handleEditModalVisible,\n    {\n      item,\n      handleModalToggle,\n      setItem,\n    },\n  ] as [\n    boolean,\n    (evt?: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => void,\n    {\n      item: T | null\n      setItem: (value: React.SetStateAction<T | null>) => void\n      handleModalToggle: (\n        evt?: React.MouseEvent<HTMLElement, MouseEvent> | undefined\n      ) => void\n      itemDetail: TDetail\n    }\n  ]\n}\n","var emptyImage;\nexport function getEmptyImage() {\n  if (!emptyImage) {\n    emptyImage = new Image();\n    emptyImage.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n  }\n\n  return emptyImage;\n}","export * from './common';\nexport * from './interfaces';\nexport * from './hooks';\nexport * from './decorators';","import { Input } from 'antd'\nimport styled, { css } from 'styled-components'\n\nconst borderLess = css`\n  &.ant-input-borderless {\n    border: none;\n    border-bottom: 1px solid ${p => p.theme.primary};\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  &:active:not(.ant-input-borderless) {\n    box-shadow: 0 0 0 1px ${p => p.theme.primary};\n  }\n`\n\nconst StyledInput = styled(Input)`\n  &.ant-input-affix-wrapper .ant-input,\n  &.ant-input {\n    border-color: ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    ${borderLess};\n  }\n`\n\nconst Search = styled(Input.Search)`\n  &.ant-input-search {\n    .ant-input {\n      border-color: ${p => p.theme.primary};\n\n      &:hover,\n      &:focus {\n        border-color: ${p => p.theme.secondary};\n      }\n\n      &:focus {\n        box-shadow: 0 0 0 1px ${p => p.theme.primary};\n      }\n    }\n\n    .anticon-search {\n      font-size: 20px;\n      color: ${p => p.theme.primary};\n    }\n  }\n`\n\nconst TextArea = styled(Input.TextArea)`\n  &.ant-input {\n    resize: none;\n    border: 1px solid ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    ${borderLess};\n  }\n`\n\nexport { StyledInput as Input, TextArea, Search }\n\nexport default StyledInput\n","import React from 'react'\nimport { atom, atomFamily, useRecoilState } from 'recoil'\nimport {\n  find,\n  mergeAll,\n  map,\n  values,\n  head,\n  keys,\n  path,\n  pathOr,\n  propEq,\n  sort,\n  last as Rlast,\n  omit,\n  inc,\n  filter,\n  flatten,\n  length,\n} from 'ramda'\nimport moment from 'moment'\nimport fakeSetting from '@/mocks/fake-snippet-setting.json'\nimport { reportTemplateById } from '@/components/report-template-list'\nimport { getNumberFromString } from '@/utils/webHelper'\nimport { confirm } from '@/utils/message'\nimport { SnippetProps, ReportTemplateSetting } from '@/constants/types'\nconst { compose } = require('ramda')\n\nexport type Snippets = { [key: string]: SnippetProps[] }\n\nexport type ReportTemplate = {\n  id: number\n  name: string\n  author: string\n  status: 1\n  statusName: string\n  createdAt: moment.Moment\n  createdAtStr: string\n  updatedAt: moment.Moment\n  updatedAtStr: string\n  description: string\n  setting: Snippets\n}\n\n// 模版分類\nconst snippetCategoryOfReport = {\n  PATHOLOGICAL_DIAGNOSIS: 'Pathological diagnosis',\n  GROSS: 'Gross',\n  MICROSCOPY: 'Microscopy',\n  NOTES: 'Notes',\n  REFERENCES: 'References',\n}\n\nconst fakeReportTemplateList = [\n  {\n    id: 1,\n    name: 'AJCC8-2018-卵巢癌-Ovary-CT',\n    author: '李懷寶',\n    status: 1,\n    statusName: '已發佈',\n    createdAt: moment(),\n    createdAtStr: moment().format('YYYY/MM/DD HH:mm'),\n    updatedAt: moment(),\n    updatedAtStr: moment().format('YYYY/MM/DD HH:mm'),\n    description: '卵巢癌報告模版',\n    setting: compose(\n      mergeAll,\n      map((key: string) => ({\n        [key]: compose(\n          map((x: any) => ({\n            ...x,\n            Component: path([x.type, 'Component'])(reportTemplateById),\n          })),\n          pathOr([], [key])\n        )(fakeSetting),\n      })),\n      keys\n    )(fakeSetting) as Snippets,\n  },\n  {\n    id: 2,\n    name: 'AJCC8-2018-肝-HCC-CT',\n    author: '林榮嘉',\n    status: 1,\n    statusName: '已發佈',\n    createdAt: moment(),\n    createdAtStr: moment().format('YYYY/MM/DD HH:mm'),\n    updatedAt: moment(),\n    updatedAtStr: moment().format('YYYY/MM/DD HH:mm'),\n    description: '肝臟報告模版',\n    setting: compose(\n      mergeAll,\n      map((key: string) => ({\n        [key]: compose(\n          map((x: any) => ({\n            ...x,\n            Component: path([x.type, 'Component'])(reportTemplateById),\n          })),\n          pathOr([], [key])\n        )(fakeSetting),\n      })),\n      keys\n    )(fakeSetting) as Snippets,\n  },\n]\n\nconst defaultSnippetsOfReport = compose(\n  mergeAll,\n  map((key: string) => ({ [key]: [] })),\n  values\n)(snippetCategoryOfReport)\n\nconst snippetsOfReportState = atomFamily<ReportTemplate, React.Key | undefined>(\n  {\n    key: 'reportSnippetsState',\n    default: id =>\n      compose(\n        // pathOr(defaultSnippetsOfReport, ['setting']),\n        find(propEq('id', Number(id)))\n      )(fakeReportTemplateList),\n  }\n)\n\nconst reportTemplateListState = atom({\n  key: 'reportTemplateListState',\n  default: {\n    content: fakeReportTemplateList,\n    total: 2,\n  },\n})\n\nconst reportPreviewState = atom({\n  key: 'reportPreviewState',\n  default: false,\n})\n\nconst categoryState = atom<string>({\n  key: 'categoryState',\n  default: compose(head, values)(snippetCategoryOfReport),\n})\n\n// 報告模版清單\nexport function useReportTemplates() {\n  return useRecoilState(reportTemplateListState)\n}\n\n// 模版報告資料\nexport function useReportTemplate(id?: React.Key) {\n  const [reportTemplate] = useRecoilState(snippetsOfReportState(id))\n\n  let _snippetList = pathOr(defaultSnippetsOfReport, ['setting'])(\n    reportTemplate\n  )\n\n  React.useEffect(() => {\n    setSnippetList(_snippetList)\n  }, [JSON.stringify(_snippetList)]) // eslint-disable-line\n\n  const [snippetList, setSnippetList] = React.useState<Snippets>(_snippetList)\n\n  const [category, setCategory] = useRecoilState(categoryState)\n\n  const handleSnippetUpdate = (data: any[]) => {\n    setSnippetList(prev => ({ ...prev, [category]: data }))\n  }\n\n  const handleTabChange = (activeKey: string) => {\n    setCategory(activeKey)\n  }\n\n  const handleTabMove = (order: string[]) => {\n    const snippetKeys = keys(snippetList)\n\n    setSnippetList(\n      compose(\n        mergeAll,\n        map((key: string) => ({ [key]: snippetList[key] })),\n        sort((a: string, b: string) => {\n          const orderA = order.indexOf(a)\n          const orderB = order.indexOf(b)\n\n          if (orderA !== -1 && orderB !== -1) {\n            return orderA - orderB\n          }\n          if (orderA !== -1) {\n            return -1\n          }\n          if (orderB !== -1) {\n            return 1\n          }\n\n          const ia = snippetKeys.indexOf(a)\n          const ib = snippetKeys.indexOf(b)\n\n          return ia - ib\n        }),\n        keys\n      )(snippetList)\n    )\n  }\n\n  const handleTabAdd = () => {\n    const last = compose(\n      inc,\n      pathOr(0, []),\n      getNumberFromString,\n      Rlast,\n      sort((a: any, b: any) => a - b),\n      keys\n    )(snippetList)\n\n    setSnippetList(prev => ({ ...prev, [`新標籤頁${last}`]: [] }))\n    setCategory(`新標籤頁${last}`)\n  }\n\n  const handleTabRemove = (targetKey: string) => {\n    confirm({\n      title: '確認要刪除此頁籤嗎？',\n      content: '刪除會連同模版資料一起刪除，確認繼續？',\n      onOk: () => {\n        setSnippetList(prev => omit([targetKey], prev))\n\n        if (category === targetKey) {\n          setCategory(\n            compose(\n              Rlast,\n              filter((key: string) => key !== targetKey),\n              keys\n            )(snippetList)\n          )\n        }\n      },\n    })\n  }\n\n  const handleTabNameChange = (targetKey: string) => (\n    evt: React.FocusEvent<HTMLSpanElement>\n  ) => {\n    const newTabName = evt.target.innerHTML\n\n    setSnippetList(prev =>\n      compose(\n        mergeAll,\n        map((key: string) => ({\n          [key === targetKey ? newTabName : key]: prev[key],\n        })),\n        keys\n      )(prev)\n    )\n    setCategory(newTabName)\n  }\n\n  const handleTabEdit = (\n    e:\n      | string\n      | React.MouseEvent<Element, MouseEvent>\n      | React.KeyboardEvent<Element>,\n    action: 'add' | 'remove'\n  ) => {\n    const handler = action === 'add' ? handleTabAdd : handleTabRemove\n\n    handler(e as string)\n  }\n\n  let snippetById: { [key: string]: SnippetProps } = {}\n\n  return {\n    category,\n    reportTemplate,\n    snippetList,\n    setCategory,\n    setSnippetList,\n    handleTabEdit,\n    handleTabChange,\n    handleTabMove,\n    handleTabAdd,\n    handleTabRemove,\n    handleTabNameChange,\n    handleSnippetUpdate,\n    total: compose(length, flatten, values)(snippetList),\n    snippetById: compose(\n      map((x: SnippetProps) => (snippetById[x.id] = x)),\n      flatten,\n      values\n    )(snippetList),\n  }\n}\n\n// 切換編輯/檢視模式\nexport function useReportPreview() {\n  const [isPreview, setIsPreview] = useRecoilState(reportPreviewState)\n\n  return [isPreview, () => setIsPreview(prev => !prev)] as [boolean, () => void]\n}\n\n// 更方便切換編輯/檢視模式\nexport function useToggleReportPreview(state: boolean = false) {\n  const [isPreview, setIsPreview] = useRecoilState(reportPreviewState)\n\n  React.useEffect(() => {\n    setIsPreview(state)\n\n    return () => {\n      setIsPreview(false)\n    }\n  }, [state]) // eslint-disable-line\n\n  return [isPreview, () => setIsPreview(prev => !prev)] as [boolean, () => void]\n}\n\nexport function useUpdateSnippet<T = ReportTemplateSetting>(options: {\n  item: SnippetProps\n  onUpdate: (data: any) => void\n  defaultValue?: any\n}) {\n  const { item, onUpdate, defaultValue = {} } = options\n\n  const [setting, setSetting] = React.useState<T>(\n    pathOr(defaultValue, ['setting'], item) as T\n  )\n\n  const handleOk = (values: T) => {\n    setSetting(values)\n    onUpdate({ ...item, setting: values })\n  }\n\n  return { setting, handleOk }\n}\n","import { ReactText } from 'react'\n\nexport const createFormItemLayout = (label: number = 3, wrapper?: number) => ({\n  labelCol: {\n    xs: { span: label },\n    sm: { span: label },\n  },\n  wrapperCol: {\n    xs: { span: wrapper || 24 - label },\n    sm: { span: wrapper || 24 - label },\n  },\n})\n\nexport const thosandSeprartor = {\n  formatter: (value: number | string | undefined) => {\n    if (!value) {\n      return value as string\n    }\n    return `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n  },\n  parser: (value: string | undefined) =>\n    (value ? value.replace(/\\$\\s?|(,*)/g, '') : value) as ReactText,\n}\n\nexport const currency = {\n  formatter: (value: number | string | undefined) => {\n    if (!value) {\n      return value as string\n    }\n    return `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n  },\n  parser: (value: string | undefined) =>\n    (value ? value.replace(/\\$\\s?|(,*)/g, '') : value) as ReactText,\n}\n\nexport const percent = {\n  // min: 0,\n  max: 100,\n  formatter: (value: number | string | undefined) => {\n    if (!value) {\n      return value as string\n    }\n    return `${value}%`\n  },\n  parser: (value: string | undefined) =>\n    (value ? value.replace('%', '') : value) as ReactText,\n}\n\nexport const rules = {\n  required: { required: true, message: '此欄位必填' },\n  number: {\n    required: false,\n    type: 'number',\n    message: '請填寫數字',\n    transform(value: any) {\n      if (!value) {\n        return value\n      }\n      return Number(value)\n    },\n  },\n  account: {\n    required: true,\n    message: '欄位長度為8~128字元,特殊符號-,_',\n    pattern: new RegExp(/^.{8,128}$/),\n  },\n  password: {\n    required: true,\n    message: '密碼長度為6~128字元',\n    pattern: new RegExp(/^.{6,128}$/),\n  },\n}\n","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\nexport function isFunction(input) {\n  return typeof input === 'function';\n}\nexport function noop() {// noop\n}\n\nfunction isObjectLike(input) {\n  return _typeof(input) === 'object' && input !== null;\n}\n\nexport function isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}","import React from 'react'\nimport { Checkbox } from 'antd'\nimport { CheckboxProps } from 'antd/lib/checkbox'\nimport styled from 'styled-components'\nimport { RefProps } from '@/constants/types'\n\nconst CheckboxGroup = Checkbox.Group\n\nconst StyledCheckbox = styled(Checkbox)`\n  .ant-checkbox-checked .ant-checkbox-inner {\n    background-color: ${p => p.theme.primary};\n    border-color: ${p => p.theme.primary};\n  }\n\n  &.ant-checkbox-wrapper:hover .ant-checkbox-inner,\n  .ant-checkbox:hover .ant-checkbox-inner,\n  .ant-checkbox-input:focus + .ant-checkbox-inner {\n    border-color: ${p => p.theme.primary};\n  }\n\n  .ant-checkbox-checked .ant-checkbox-inner:after {\n    border: 2px solid #fff;\n    border-top: 0;\n    border-left: 0;\n  }\n\n  .ant-checkbox-inner {\n    border: 1px solid ${p => p.theme.secondary};\n  }\n\n  &.is--normal {\n    font-size: 14px !important;\n    font-weight: normal !important;\n  }\n`\n\ntype Props = RefProps & CheckboxProps\n\nconst CheckboxComponent: React.ElementType<Props> = React.forwardRef<\n  typeof StyledCheckbox,\n  Props\n>(({ ...props }, ref) => <StyledCheckbox forwardRef={ref} {...props} />)\n\nCheckboxComponent.displayName = 'Checkbox'\n\nexport { CheckboxComponent as Checkbox, CheckboxGroup }\n\nexport default CheckboxComponent\n","export function getDecoratedComponent(instanceRef) {\n  var currentRef = instanceRef.current;\n\n  if (currentRef == null) {\n    return null;\n  } else if (currentRef.decoratedRef) {\n    // go through the private field in decorateHandler to avoid the invariant hit\n    return currentRef.decoratedRef.current;\n  } else {\n    return currentRef;\n  }\n}\nexport function isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nexport function isRefForwardingComponent(C) {\n  var _item$$$typeof;\n\n  var item = C;\n  return (item === null || item === void 0 ? void 0 : (_item$$$typeof = item.$$typeof) === null || _item$$$typeof === void 0 ? void 0 : _item$$$typeof.toString()) === 'Symbol(react.forward_ref)';\n}\nexport function isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nexport function checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}","export function shallowEqual<T>(\n  objA: T,\n  objB: T,\n  compare?: (a: T, b: T, key?: string) => boolean | void,\n  compareContext?: any\n) {\n  var compareResult = compare\n    ? compare.call(compareContext, objA, objB)\n    : void 0;\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = (objA as any)[key];\n    var valueB = (objB as any)[key];\n\n    compareResult = compare\n      ? compare.call(compareContext, valueA, valueB, key)\n      : void 0;\n\n    if (\n      compareResult === false ||\n      (compareResult === void 0 && valueA !== valueB)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import React from 'react'\nimport { Layout } from 'antd'\n\nexport default function AppFooter() {\n  return (\n    <Layout.Footer\n      className=\"pb-6 text-center text-gray-600 border-t border-gray-400\"\n      style={{ background: 'rgb(221, 228, 237)' }}>\n      2020 高雄榮總數位病理平台\n    </Layout.Footer>\n  )\n}\n","import React from 'react'\nimport { Modal } from 'antd'\nimport { ModalProps, ModalFuncProps } from 'antd/lib/modal'\n\nexport const modalDefaultProps = (\n  content?: React.ReactNode,\n  props?: ModalProps\n): ModalFuncProps => ({\n  content: (\n    <div\n      className=\"text-darkGrey font-medium\"\n      css={{ marginTop: 16, marginBottom: 30 }}>\n      {content}\n    </div>\n  ),\n  icon: null,\n  width: 440,\n  okText: '刪除',\n  cancelText: '取消',\n  centered: true,\n  // maskStyle: {\n  //   background: theme.modal.maskDarken,\n  // },\n  autoFocusButton: null,\n  okButtonProps: {\n    className: 'c-btn is--danger',\n    style: { minWidth: 80, marginRight: 24 },\n  },\n  cancelButtonProps: {\n    className: 'c-btn is--outline mr-0 float-right',\n    style: { minWidth: 80 },\n  },\n  ...props,\n})\n\nexport const confirm = ({\n  onOk,\n  onCancel,\n  content = '刪除後將無法還原，確認繼續？',\n  ...props\n}: ModalFuncProps) => {\n  Modal.confirm({\n    ...modalDefaultProps(content),\n    ...props,\n    onOk: () => {\n      if (onOk) {\n        onOk()\n      }\n    },\n    onCancel() {\n      if (onCancel) {\n        onCancel()\n      }\n    },\n  })\n}\n","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}","import { cloneElement } from 'react';\nimport { invariant } from '@react-dnd/invariant';\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nexport function cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","import { isValidElement } from 'react';\nimport { cloneWithRef } from '../utils/cloneWithRef';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}","export default {\n  CARD: 'card',\n  BOARD: 'board',\n  SNIPPET: 'snippet',\n}\n","import React from 'react'\nimport { Layout } from 'antd'\nimport cx from 'classnames'\nimport AppFooter from '@/components/app-footer'\nimport theme from '../theme'\n\ninterface PageProps {\n  children: React.ReactNode\n  style?: React.CSSProperties\n  className?: string\n  wrapperClassName?: string\n  wrapperStyle?: React.CSSProperties\n}\n\nexport function Page({ children, style, className = 'pr-16' }: PageProps) {\n  return (\n    <Layout>\n      <Layout.Content\n        style={{\n          background: `linear-gradient(-90deg,#42c2b8,${theme.primary})`,\n        }}>\n        <div\n          className={cx('pl-8 pt-6 pb-12', className)}\n          style={style}\n          css={{\n            background: 'rgb(221, 228, 237)',\n            borderTopLeftRadius: 32,\n            borderTopRightRadius: 32,\n          }}>\n          {children}\n        </div>\n      </Layout.Content>\n      <AppFooter />\n    </Layout>\n  )\n}\n","import React from 'react'\nimport { replace } from 'ramda'\nimport { envStore } from '@/constants/env'\n\nexport interface UseTitleOptions {\n  restoreOnUnmount?: boolean\n}\n\nconst DEFAULT_USE_TITLE_OPTIONS: UseTitleOptions = {\n  restoreOnUnmount: false,\n}\n\nfunction useTitle(\n  title: string,\n  options: UseTitleOptions = DEFAULT_USE_TITLE_OPTIONS\n) {\n  const prevTitleRef = React.useRef(document.title)\n  document.title = replace(/%s/, title)(envStore.appTitle)\n  React.useEffect(() => {\n    if (options && options.restoreOnUnmount) {\n      return () => {\n        document.title = prevTitleRef.current // eslint-disable-line\n      }\n    } else {\n      return\n    }\n  }, []) // eslint-disable-line\n}\n\nexport default typeof document !== 'undefined'\n  ? useTitle\n  : (_title: string) => {}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Modal } from 'antd'\nimport { ModalProps } from 'antd/lib/modal'\n\nconst StyledModal = styled(Modal)`\n  animation-duration: 0s !important;\n  transition: none !important;\n\n  .ant-modal-header--border-none {\n    border-bottom: none;\n  }\n\n  .ant-modal-footer {\n    padding-top: 14px;\n    padding-bottom: 14px;\n  }\n`\n\nexport default class ModalComponent extends React.Component<ModalProps, any> {\n  static confirm = Modal.confirm\n  static error = Modal.error\n  static success = Modal.success\n  static info = Modal.info\n\n  render() {\n    return <StyledModal {...this.props}>{this.props.children}</StyledModal>\n  }\n}\n","import React from 'react'\nimport { Table, Empty, Tooltip } from 'antd'\nimport { TableProps } from 'antd/lib/table'\nimport { CloseOutlined, PlusOutlined } from '@ant-design/icons'\nimport styled from 'styled-components'\n\nconst StyledTable: any = styled(Table)`\n  &.ant-table-wrapper {\n    .ant-pagination-prev .ant-pagination-item-link,\n    .ant-pagination-next .ant-pagination-item-link {\n      border-color: ${p => p.theme.pagination};\n      border-radius: 6px;\n      color: ${p => p.theme.pagination};\n    }\n\n    .ant-pagination-item {\n      border-color: ${p => p.theme.pagination};\n    }\n\n    .ant-pagination-item a {\n      color: ${p => p.theme.pagination};\n    }\n\n    .ant-pagination-item-active,\n    .ant-pagination-item-active:focus,\n    .ant-pagination-item:hover {\n      border-color: ${p => p.theme.pagination};\n      background: ${p => p.theme.pagination};\n\n      a {\n        color: #fff;\n      }\n    }\n\n    .ant-table-pagination.ant-pagination {\n      margin-top: 32px;\n    }\n\n    .ant-pagination-prev:hover .ant-pagination-item-link,\n    .ant-pagination-next:hover .ant-pagination-item-link {\n      border-color: ${p => p.theme.pagination};\n      background: ${p => p.theme.pagination};\n      color: #fff;\n    }\n\n    .ant-pagination-simple-pager {\n      color: ${p => p.theme.pagination};\n    }\n  }\n\n  .ant-table-tbody > tr > td {\n    height: 40px;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    line-height: 1em;\n    color: #4a4a4a;\n    background: #f0f2f5;\n    border-bottom: 1px solid #e9e9e9;\n  }\n\n  .ant-table-thead > tr > th {\n    background: rgb(39, 189, 179);\n    border-bottom: 1px solid #e9e9e9;\n    color: #fff;\n    font-weight: 600;\n    font-size: 16px;\n  }\n`\n\ntype Props<T> = TableProps<T> & {\n  editable?: boolean\n  isRowDeletable?: (row: T) => boolean\n  onAddRowClick?: (param?: any) => any\n  onDeleteRowClick?: (param?: any) => any\n  isCanEdit?: any\n}\n\nfunction TableComponent<T = any>({\n  editable = false,\n  columns = [],\n  onAddRowClick,\n  isRowDeletable = () => true,\n  onDeleteRowClick,\n  isCanEdit = '',\n  ...props\n}: Props<T>) {\n  const _columns = React.useMemo(() => {\n    let canEdit: boolean = true\n    if (!editable) {\n      return columns\n    }\n    if (isCanEdit !== '') {\n      canEdit = isCanEdit\n    }\n\n    const handleRowDelete = (key: React.Key) => () => {\n      if (onDeleteRowClick) {\n        onDeleteRowClick(key)\n      }\n    }\n\n    return [\n      {\n        title: (\n          <Tooltip placement=\"topLeft\" title=\"新增\">\n            <PlusOutlined\n              className=\"ml-1 relative\"\n              style={{ top: -3 }}\n              onClick={canEdit ? onAddRowClick : undefined}\n            />\n          </Tooltip>\n        ),\n        width: 50,\n        render: (_: any, __: any, idx: number) => (\n          <div className=\"text-center\">#{idx + 1}</div>\n        ),\n      },\n      ...columns,\n      {\n        width: 50,\n        render: (_: any, r: any, idx: number) => (\n          <Tooltip placement=\"topLeft\" title=\"刪除\">\n            <CloseOutlined\n              onClick={isRowDeletable(r) ? handleRowDelete(r.id) : undefined}\n            />\n          </Tooltip>\n        ),\n      },\n    ]\n  }, [columns, editable]) // eslint-disable-line\n\n  return (\n    <StyledTable\n      columns={_columns}\n      locale={{\n        emptyText: (\n          <Empty\n            image={Empty.PRESENTED_IMAGE_SIMPLE}\n            description={\n              <span>\n                <span className=\"d-block\">\n                  尚無資料，請點選「＋新增」新增資料。\n                </span>\n              </span>\n            }\n          />\n        ),\n      }}\n      {...props}>\n      {props.children}\n    </StyledTable>\n  )\n}\n\nTableComponent.displayName = 'Table'\nTableComponent.Column = Table.Column\n\nexport default TableComponent\n","import React from 'react'\nimport { Select } from 'antd'\nimport { SelectProps } from 'antd/lib/select'\nimport styled from 'styled-components'\n\nconst StyledSelect: any = styled(Select)`\n  &.ant-select {\n    &.ant-select-single:not(.ant-select-customize-input) .ant-select-selector,\n    .ant-select-selection:hover,\n    .ant-select-selection:active,\n    .ant-select-selection:focus {\n      border-color: ${p => p.theme.primary};\n    }\n\n    .ant-select-selection {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    .ant-select-selection:active,\n    .ant-select-selection:focus {\n      box-shadow: none;\n    }\n\n    .ant-select-arrow {\n      color: ${p => p.theme.primary};\n    }\n\n    .ant-select-arrow-icon {\n      position: relative;\n      top: -1px;\n      font-size: 14px;\n    }\n\n    &.ant-select-borderless .ant-select-selector {\n      position: relative;\n      bottom: 1px;\n      border: 0;\n      border-bottom: 1px solid ${p => p.theme.primary} !important;\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n    }\n  }\n\n  &.ant-select.is--outline {\n    > .ant-select-selector {\n      background: transparent;\n      border: 1px solid #fff;\n      color: #fff;\n\n      &:active,\n      &:focus,\n      &:hover {\n        border: 1px solid #fff;\n      }\n    }\n\n    .ant-select-selection-placeholder,\n    .ant-select-arrow {\n      color: #fff;\n    }\n\n    .ant-select-selection-placeholder {\n      opacity: 1;\n      left: 30%;\n    }\n  }\n\n  &.ant-select.is--transparent {\n    &.ant-select-focused > .ant-select-selector {\n      border: 1px solid #666a8f;\n    }\n\n    > .ant-select-selector {\n      background: transparent;\n      border: 1px solid #666a8f;\n      color: #a9b6d8;\n\n      &:active,\n      &:focus,\n      &:hover {\n        border: 1px solid #666a8f;\n      }\n    }\n\n    .ant-select-arrow {\n      color: #a9b6d8;\n    }\n  }\n`\n\nclass SelectComponent<T = any> extends React.Component<SelectProps<T>, any> {\n  public static Option = Select.Option\n\n  public static displayName = 'Select'\n\n  render() {\n    return <StyledSelect {...this.props}>{this.props.children}</StyledSelect>\n  }\n}\n\nexport default SelectComponent\n","import React from 'react'\nimport { ModalProps as AntModalProps } from 'antd/lib/modal'\nimport Modal from '@/components/modal'\nimport Button from '@/components/button'\n\nexport interface ModalProps<T = any>\n  extends Omit<AntModalProps, 'onOk' | 'onCancel'> {\n  item?: T\n  onOk?: (data?: any) => void\n  onCancel: () => void\n  children?: React.ReactNode\n}\n\nfunction TemplateModal<T = any>({\n  onCancel,\n  onOk,\n  item,\n  children,\n  ...props\n}: ModalProps<T>) {\n  const handleOk = () => {\n    if (onOk) {\n      onOk()\n    }\n  }\n  return (\n    <Modal\n      visible\n      onCancel={onCancel}\n      width={650}\n      maskClosable={false}\n      keyboard={false}\n      footer={[\n        <Button\n          key=\"btn-cancel\"\n          color=\"outline\"\n          style={{ minWidth: 80, marginRight: 16 }}\n          onClick={onCancel}>\n          取消\n        </Button>,\n        <Button\n          key=\"btn-save\"\n          color=\"primary\"\n          style={{ minWidth: 80 }}\n          onClick={handleOk}>\n          儲存\n        </Button>,\n      ]}\n      {...props}>\n      {children}\n    </Modal>\n  )\n}\n\nexport { TemplateModal as Modal }\n\nexport default TemplateModal\n","import React from 'react'\nimport cx from 'classnames'\nimport { Card } from 'antd'\nimport { CardProps } from 'antd/lib/card'\nimport { FontColorsOutlined } from '@ant-design/icons'\nimport styled from 'styled-components'\nimport { useReportPreview } from '@/hooks/useReportTemplate'\nimport { isNil } from '@/utils/webHelper'\n\nconst StyledCard = styled(Card)`\n  &.ant-card {\n    border-radius: 10px;\n    border: none;\n    cursor: move;\n  }\n\n  .ant-card-head {\n    padding-left: 18px;\n    border-bottom: none;\n    color: ${p => p.theme.primary};\n    font-size: 14px;\n    font-weight: 600;\n  }\n\n  &.ant-card-head--hide .ant-card-head {\n    display: none;\n  }\n\n  &.ant-card-body--hide {\n    .ant-card-head {\n      padding-bottom: 16px;\n      border-bottom: 1px dashed #f0f0f0;\n    }\n\n    .ant-card-body {\n      display: none;\n    }\n  }\n\n  &.is--preview .ant-card-head {\n    min-height: auto;\n  }\n\n  &.is--preview .ant-card-head-title {\n    padding-top: 0;\n  }\n\n  &.is--preview .ant-card-body {\n    padding-top: 12px;\n    padding-bottom: 8px;\n  }\n\n  .ant-card-head-title {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding-bottom: 0;\n  }\n\n  .ant-card-body {\n    padding-top: 6px;\n    padding-left: 26px;\n    padding-bottom: 20px;\n  }\n`\n\ninterface Props extends CardProps {\n  titleVisible?: boolean\n  bodyVisible?: boolean\n  onEdit?: () => void\n  onDelete?: () => void\n}\n\nfunction TemplateWrapper({\n  title,\n  children,\n  onDelete,\n  onEdit,\n  titleVisible = false,\n  bodyVisible = true,\n  ...props\n}: Props) {\n  const [isPreview] = useReportPreview()\n\n  return (\n    <StyledCard\n      title={\n        <div className=\"flex items-center\">\n          {!isPreview && <FontColorsOutlined className=\"mr-3\" />}\n          {title || '預設標題 (可點鉛筆圖示可進行編輯)'}\n        </div>\n      }\n      className={cx({\n        'ant-card-head--hide': isNil(title) && !titleVisible,\n        'ant-card-body--hide': !bodyVisible,\n        // 'is--preview': isPreview,\n      })}\n      {...props}>\n      {children}\n    </StyledCard>\n  )\n}\n\nexport default TemplateWrapper\n","import React from 'react'\nimport { Form } from 'antd'\nimport { Input, TextArea } from '@/components/input'\nimport Checkbox from '@/components/checkbox'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateSetting, ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\n\ninterface Setting extends ReportTemplateSetting {\n  defaultValue?: string\n  multipleLine?: boolean\n}\n\nexport default function ReportTemplateInputText(props: ReportTemplateProps) {\n  const { editModalVisible, handleEditModalVisible, onUpdate, item } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({ item, onUpdate })\n\n  const inputProps = {\n    bordered: false,\n    className: 'w-2/3',\n    placeholder: setting.tooltip || '輸入內容',\n    defaultValue: setting.defaultValue,\n  }\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputTextModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          {setting.multipleLine ? (\n            <TextArea {...inputProps} autoSize={{ minRows: 3 }} />\n          ) : (\n            <Input {...inputProps} />\n          )}\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputTextModal({\n  onOk,\n  onCancel,\n  item,\n  ...props\n}: ModalProps<Setting>) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal<Setting>\n      {...props}\n      title={\n        <>\n          <div>\n            Text\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for description something.\n            </div>\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Default Value\" name=\"defaultValue\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n        <Form.Item\n          label=\"Multiple Lines\"\n          name=\"multipleLine\"\n          valuePropName=\"checked\">\n          <Checkbox />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { InputNumber } from 'antd'\nimport { InputNumberProps } from 'antd/lib/input-number'\nimport styled from 'styled-components'\nimport { RefProps } from '@/constants/types'\nimport { percent, currency, thosandSeprartor } from '@/utils/form'\n\ntype Props = RefProps & InputNumberProps & { bordered?: boolean }\n\nconst StyledInputNumber = styled(InputNumber).attrs({\n  min: 0 as any, // dont know why error\n})<Props>`\n  &.ant-input-number {\n    border-color: ${p => p.theme.primary};\n\n    ::placeholder {\n      color: red;\n    }\n  }\n\n  &.ant-input-number-focused,\n  &.ant-input-number:focus,\n  &.ant-input-number:hover {\n    border-color: ${p => p.theme.primary};\n  }\n\n  &.ant-input-number-focused:not(.ant-input-number-borderless),\n  &.ant-input-number:focus:not(.ant-input-number-borderless) {\n    box-shadow: 0 0 0 1px ${p => p.theme.primary};\n  }\n\n  &.ant-input-number-borderless,\n  &.ant-input-number-borderless:hover,\n  &.ant-input-number-borderless:focus,\n  &.ant-input-number-borderless-focused,\n  &.ant-input-number-borderless-disabled,\n  &.ant-input-number-borderless[disabled] {\n    border: none;\n    border-bottom: 1px solid ${p => p.theme.primary};\n  }\n`\n\nexport const ThousandSeprartorInput = React.forwardRef<\n  typeof InputNumber,\n  Props\n>(({ ...props }, ref) => (\n  <StyledInputNumber forwardRef={ref} {...props} {...thosandSeprartor} />\n))\n\nexport const CurrencyInput = React.forwardRef<typeof InputNumber, Props>(\n  ({ ...props }, ref) => (\n    <StyledInputNumber forwardRef={ref} {...props} {...currency} />\n  )\n)\n\nexport const PercentInput = React.forwardRef<typeof InputNumber, Props>(\n  ({ ...props }, ref) => (\n    <StyledInputNumber forwardRef={ref} {...props} {...percent} />\n  )\n)\n\nThousandSeprartorInput.displayName = 'ThousandSeprartorInput'\n\nCurrencyInput.displayName = 'CurrencyInput'\n\nPercentInput.displayName = 'PercentInput'\n\nexport { StyledInputNumber as InputNumber }\n\nexport default StyledInputNumber\n","import React from 'react'\nimport { Form } from 'antd'\nimport Input from '@/components/input'\nimport InputNumber from '@/components/input-number'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateSetting, ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\n\ninterface Setting extends ReportTemplateSetting {\n  defaultValue?: number\n  max?: number\n  min?: number\n  units?: string\n}\n\nexport default function ReportTemplateInputNumber(props: ReportTemplateProps) {\n  const { editModalVisible, handleEditModalVisible, item, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({ item, onUpdate })\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputNumberModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <InputNumber\n            style={{ width: '33.333333%' }}\n            className=\"ant-input-number-borderless\"\n            defaultValue={setting.defaultValue}\n            min={setting.min}\n            max={setting.max}\n            formatter={value => `${setting.units || ''} ${value}`}\n            placeholder={setting.tooltip || '輸入數值'}\n          />\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputNumberModal({ onOk, onCancel, item, ...props }: ModalProps) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal\n      {...props}\n      title={\n        <>\n          <div>\n            Number\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for input number.\n            </div>\n          </div>\n        </>\n      }\n      onOk={handleOk}\n      onCancel={onCancel}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Default Value\" name=\"defaultValue\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Minimum Value\" name=\"min\">\n          <InputNumber />\n        </Form.Item>\n        <Form.Item label=\"Maximum Value\" name=\"max\">\n          <InputNumber />\n        </Form.Item>\n        <Form.Item label=\"Units\" name=\"units\">\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","// tslint:disable: quotemark no-implicit-dependencies no-shadowed-variable no-var-requires\nimport React from 'react'\nimport { TableProps } from 'antd/lib/table'\nimport { FormInstance } from 'antd/lib/form'\nimport Table from '@/components/table'\n\ntype EditableTableProps<T> = Omit<TableProps<T>, 'onChange'> & {\n  value?: T[]\n  form: FormInstance\n  onChange?(changedValue: T[] | null): void\n  onRowAdd: (form: FormInstance) => any\n  onRowDelete: (value: { id: React.Key; form: FormInstance }) => any\n}\n\nexport default function EditableTable<T = any>({\n  form,\n  value,\n  onChange,\n  onRowAdd,\n  onRowDelete,\n  ...props\n}: EditableTableProps<T>) {\n  const triggerChange = (changedValue: T[]) => {\n    if (onChange) {\n      onChange(changedValue)\n    }\n  }\n\n  const handleAdd = () => {\n    triggerChange(onRowAdd(form))\n  }\n\n  const handleDelete = (id: string) => {\n    triggerChange(onRowDelete({ id, form }))\n  }\n\n  return (\n    <Table\n      {...props}\n      rowKey=\"id\"\n      pagination={false}\n      size=\"small\"\n      dataSource={value as any}\n      onAddRowClick={handleAdd}\n      onDeleteRowClick={handleDelete}\n      editable={true}\n    />\n  )\n}\n","import React from 'react'\nimport { Form } from 'antd'\nimport { ColumnProps } from 'antd/lib/table'\nimport { FormInstance } from 'antd/lib/form'\nimport { concat, __, pathOr, invoker, filter } from 'ramda'\nimport Input from '@/components/input'\nimport Checkbox from '@/components/checkbox'\nimport EditableTable from '@/components/editable-table'\nimport { uuid } from '@/utils/webHelper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateSetting } from '@/constants/types'\nimport { Modal, ModalProps } from './report-template-modal'\nconst { compose } = require('ramda')\n\nexport interface Setting extends ReportTemplateSetting {\n  options?: Option[]\n}\n\nexport type Option = {\n  id: React.Key\n  text?: string\n  selected?: boolean\n  freetext?: boolean\n}\n\nexport const defaultValue: Setting = {\n  options: [\n    {\n      id: uuid(),\n      text: '預設選項 1',\n      selected: true,\n      freetext: false,\n    },\n    {\n      id: uuid(),\n      text: '預設選項 2',\n      selected: true,\n      freetext: false,\n    },\n    {\n      id: uuid(),\n      text: '預設選項 3',\n      selected: true,\n      freetext: false,\n    },\n  ],\n}\n\nexport function TemplateSelectionModal({\n  onCancel,\n  onOk,\n  item,\n  ...props\n}: ModalProps) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  const handleRowAdd = (form: FormInstance) => {\n    return compose(\n      concat(__, [\n        {\n          id: uuid(),\n          text: undefined,\n          selected: true,\n          freetext: false,\n        },\n      ]),\n      pathOr([], ['options']),\n      invoker(0, 'getFieldsValue')()\n    )(form)\n  }\n\n  const handleRowDelete = ({\n    id,\n    form,\n  }: {\n    id: React.Key\n    form: FormInstance\n  }) => {\n    return compose(\n      filter((x: any) => x.id !== id),\n      pathOr([], ['options']),\n      invoker(0, 'getFieldsValue')()\n    )(form)\n  }\n\n  const columns: ColumnProps<Option>[] = [\n    {\n      title: '選項名稱',\n      render: (v, r, idx) => (\n        <Form.Item noStyle name={['options', idx, 'text']}>\n          <Input />\n        </Form.Item>\n      ),\n    },\n    {\n      title: '是否可選',\n      align: 'center',\n      render: (v, r, idx) => (\n        <Form.Item\n          noStyle\n          name={['options', idx, 'selected']}\n          valuePropName=\"checked\">\n          <Checkbox />\n        </Form.Item>\n      ),\n    },\n    {\n      title: '是否可輸入',\n      align: 'center',\n      render: (v, r, idx) => (\n        <Form.Item\n          noStyle\n          name={['options', idx, 'freetext']}\n          valuePropName=\"checked\">\n          <Checkbox />\n        </Form.Item>\n      ),\n    },\n  ]\n\n  return (\n    <Modal\n      {...props}\n      title={\n        <>\n          <div>Single Selection List</div>\n          <div className=\"mt-1 text-sm text-gray-600\">\n            Typically used for shorter lists so that all responses are visible\n            as radio buttons. Only allow a single selection.\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(3, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Options\" />\n        <Form.Item noStyle name=\"options\">\n          <EditableTable\n            columns={columns}\n            form={form}\n            onRowAdd={handleRowAdd}\n            onRowDelete={handleRowDelete}\n          />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { Form } from 'antd'\nimport cx from 'classnames'\nimport { pathOr } from 'ramda'\nimport { Checkbox, CheckboxGroup } from '@/components/checkbox'\nimport Input from '@/components/input'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport {\n  TemplateSelectionModal,\n  Setting,\n  Option,\n  defaultValue,\n} from '@/components/report-template-selection-modal'\nimport { mapIndexed } from '@/utils/webHelper'\nimport { ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\nconst { compose } = require('ramda')\n\nfunction ReportTemplateMultipleSelection(props: ReportTemplateProps) {\n  const { item, editModalVisible, handleEditModalVisible, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({\n    item,\n    onUpdate,\n    defaultValue,\n  })\n\n  return (\n    <>\n      {editModalVisible && (\n        <TemplateSelectionModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n          title={\n            <>\n              <div>Multiple Selection List</div>\n              <div className=\"mt-1 text-sm text-gray-600\">\n                typically used for shorter lists so that all responses are\n                visible as checkboxes. Allows Multiple selections.\n              </div>\n            </>\n          }\n        />\n      )}\n      <TemplateWrapper\n        title={setting.text || ''}\n        bodyStyle={{ paddingLeft: 36 }}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <CheckboxGroup>\n            {compose(\n              mapIndexed((x: Option, idx: number) => (\n                <Checkbox\n                  key={x.id}\n                  className={cx('block ml-0', { 'mt-1': idx > 0 })}\n                  defaultChecked={false}\n                  value={`${idx}`}>\n                  {x.text}\n                  {x.freetext && (\n                    <Input\n                      bordered={false}\n                      size=\"small\"\n                      placeholder=\"輸入備註\"\n                      className=\"ml-4 w-1/3\"\n                    />\n                  )}\n                </Checkbox>\n              )),\n              pathOr([], ['options'])\n            )(setting)}\n          </CheckboxGroup>\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nexport default ReportTemplateMultipleSelection\n","import React from 'react'\nimport cx from 'classnames'\nimport { Form } from 'antd'\nimport { pathOr } from 'ramda'\nimport Radio from '@/components/radio'\nimport Input from '@/components/input'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport {\n  TemplateSelectionModal,\n  Setting,\n  Option,\n  defaultValue,\n} from '@/components/report-template-selection-modal'\nimport { mapIndexed } from '@/utils/webHelper'\nimport { ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\nconst { compose } = require('ramda')\n\nfunction ReportTemplateSingleSelection(props: ReportTemplateProps) {\n  const { item, editModalVisible, handleEditModalVisible, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({\n    item,\n    onUpdate,\n    defaultValue,\n  })\n\n  return (\n    <>\n      {editModalVisible && (\n        <TemplateSelectionModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper\n        title={setting.text || ''}\n        bodyStyle={{ paddingLeft: 36 }}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <Radio.Group>\n            {compose(\n              mapIndexed((x: Option, idx: number) => (\n                <Radio\n                  key={x.id}\n                  className={cx('block', { 'mt-1': idx > 0 })}\n                  defaultChecked={false}\n                  value={`${idx}`}>\n                  {x.text}\n                  {x.freetext && (\n                    <Input\n                      size=\"small\"\n                      bordered={false}\n                      placeholder=\"輸入備註\"\n                      className=\"ml-3 w-1/3\"\n                    />\n                  )}\n                </Radio>\n              )),\n              pathOr([], ['options'])\n            )(setting)}\n          </Radio.Group>\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nexport default ReportTemplateSingleSelection\n","import React from 'react'\nimport styled, { css } from 'styled-components'\nimport { DatePicker, TimePicker } from 'antd'\nimport { DatePickerProps } from 'antd/lib/date-picker'\n\nconst borderLess = css`\n  &.ant-picker-borderless {\n    border: none;\n    border-bottom: 1px solid ${p => p.theme.primary} !important;\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  &.ant-picker-focused:not(.ant-picker-borderless) {\n    box-shadow: 0 0 0 1px ${p => p.theme.primary};\n  }\n`\n\nconst RangePicker = styled(DatePicker.RangePicker)`\n  &.ant-picker {\n    border: 1px solid ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    &.ant-picker-focused {\n      box-shadow: 0 0 0 1px ${p => p.theme.primary};\n    }\n  }\n`\n\nconst StyledDatePicker: any = styled(DatePicker)`\n  &.ant-picker {\n    border: 1px solid ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    .ant-picker-suffix {\n      color: ${p => p.theme.primary};\n    }\n\n    ${borderLess};\n  }\n`\n\nconst StyledTimePicker = styled(TimePicker)`\n  &.ant-picker {\n    border: 1px solid ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    .ant-picker-suffix {\n      color: ${p => p.theme.primary};\n    }\n\n    ${borderLess};\n  }\n`\n\nfunction DatePickerComponent(props: DatePickerProps) {\n  return <StyledDatePicker {...props} />\n}\n\nexport {\n  DatePickerComponent as DatePicker,\n  RangePicker,\n  StyledTimePicker as TimePicker,\n}\n\nexport default DatePickerComponent\n","import React from 'react'\nimport { Form } from 'antd'\nimport Input from '@/components/input'\nimport DatePicker from '@/components/datepicker'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\n\ntype Setting = {\n  text?: string\n  defaultValue?: moment.Moment\n  tooltip?: string\n}\n\nexport default function ReportTemplateDate(props: ReportTemplateProps) {\n  const { editModalVisible, handleEditModalVisible, item, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({ item, onUpdate })\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputDateModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <DatePicker\n            bordered={false}\n            className=\"w-1/3\"\n            placeholder={setting.tooltip || '選擇日期'}\n            defaultValue={setting.defaultValue}\n          />\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputDateModal({\n  onOk,\n  onCancel,\n  item,\n  ...props\n}: ModalProps<Setting>) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal<Setting>\n      {...props}\n      title={\n        <>\n          <div>\n            Date\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for target date.\n            </div>\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Default Value\" name=\"defaultValue\">\n          <DatePicker allowClear picker=\"date\" className=\"w-full\" />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { Form } from 'antd'\nimport Input from '@/components/input'\nimport { TimePicker } from '@/components/datepicker'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateSetting, ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\n\ninterface Setting extends ReportTemplateSetting {\n  defaultValue?: moment.Moment\n}\n\nexport default function ReportTemplateTime(props: ReportTemplateProps) {\n  const { editModalVisible, handleEditModalVisible, item, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({ item, onUpdate })\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputTimeModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <TimePicker\n            bordered={false}\n            className=\"w-1/3\"\n            placeholder={setting.tooltip || '選擇時間'}\n            defaultValue={setting.defaultValue}\n          />\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputTimeModal({\n  onOk,\n  onCancel,\n  item,\n  ...props\n}: ModalProps<Setting>) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal<Setting>\n      {...props}\n      title={\n        <>\n          <div>\n            Time\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for target time.\n            </div>\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Default Value\" name=\"defaultValue\">\n          <TimePicker allowClear format=\"HH:mm\" className=\"w-full\" />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { pathOr, map } from 'ramda'\nimport { Form } from 'antd'\nimport Select from '@/components/select'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport {\n  TemplateSelectionModal,\n  Option,\n  defaultValue,\n} from '@/components/report-template-selection-modal'\nimport { ReportTemplateSetting, ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\nconst { compose } = require('ramda')\n\ninterface Setting extends ReportTemplateSetting {\n  options?: Option[]\n  selectionType?: 'single' | 'multiple'\n}\n\nexport default function ReportTemplateSelect(props: ReportTemplateProps) {\n  const { item, editModalVisible, handleEditModalVisible, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({\n    item,\n    onUpdate,\n    defaultValue,\n  })\n\n  return (\n    <>\n      {editModalVisible && (\n        <TemplateSelectionModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n          title={\n            <>\n              <div>Drop-down List</div>\n              <div className=\"mt-1 text-sm text-gray-600\">\n                typically used for lists of greater than 6 or 7 options.\n              </div>\n            </>\n          }\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <Select\n            allowClear\n            bordered={false}\n            className=\"w-1/3\"\n            placeholder={setting.tooltip || '請選擇...'}>\n            {compose(\n              map((x: Option) => (\n                <Select.Option key={x.id} value={x.text as any}>\n                  {x.text}\n                </Select.Option>\n              )),\n              pathOr([], ['options'])\n            )(setting)}\n          </Select>\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n","import React from 'react'\nimport { Form } from 'antd'\nimport Input from '@/components/input'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\nimport { ReportTemplateSetting, ReportTemplateProps } from '@/constants/types'\n\ninterface Setting extends ReportTemplateSetting {}\n\nexport default function TemplateSectionHeader(props: ReportTemplateProps) {\n  const { item, editModalVisible, handleEditModalVisible, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({\n    item,\n    onUpdate,\n  })\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputTextModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper\n        titleVisible\n        bodyVisible={false}\n        title={setting.text}\n        onEdit={handleEditModalVisible}></TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputTextModal({\n  onOk,\n  onCancel,\n  item,\n  ...props\n}: ModalProps<Setting>) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal<Setting>\n      {...props}\n      title={\n        <>\n          <div>\n            Section Header\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for section.\n            </div>\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\n\nfunction ReportTemplateCloze() {\n  return <div></div>\n}\n\nexport const html = `\n  <div>\n    Cloze test\n  </div>\n`\n\nexport const Component = ReportTemplateCloze\n\nexport default ReportTemplateCloze\n","import { map, mergeAll } from 'ramda'\nimport {\n  CalendarOutlined,\n  ClockCircleOutlined,\n  OrderedListOutlined,\n  UnorderedListOutlined,\n  FontSizeOutlined,\n  DatabaseOutlined,\n  NumberOutlined,\n  BoldOutlined,\n  FontColorsOutlined,\n} from '@ant-design/icons'\nimport { uuid } from '@/utils/webHelper'\nimport TemplateInputText from '@/components/report-template-input-text'\nimport TemplateInputNumber from '@/components/report-template-input-number'\nimport TemplateMultipleSelection from '@/components/report-template-multiple-selection'\nimport TemplateSingleSelection from '@/components/report-template-single-selection'\nimport TemplateDate from '@/components/report-template-date'\nimport TemplateTime from '@/components/report-template-time'\nimport TemplateSelect from '@/components/report-template-select'\nimport TempldateSectionHeader from '@/components/report-template-section-header'\nimport * as Cloze from '@/components/report-template-cloze'\nconst { compose } = require('ramda')\n\ninterface ReportTemplateListItem {\n  id: React.Key\n  type: string\n  name: string\n  Component: React.Component\n  inline: boolean\n}\n\nconst reportTemplateList = [\n  {\n    id: uuid(),\n    componentType: 'header',\n    name: 'Section Header',\n    inline: false,\n    icon: BoldOutlined,\n    Component: TempldateSectionHeader,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateInputText',\n    name: 'Text',\n    inline: false,\n    icon: FontSizeOutlined,\n    Component: TemplateInputText,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateInputNumber',\n    name: 'Number',\n    inline: false,\n    icon: NumberOutlined,\n    Component: TemplateInputNumber,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateSelect',\n    name: 'Drop-down List',\n    inline: false,\n    icon: DatabaseOutlined,\n    Component: TemplateSelect,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateMultipleSelection',\n    name: 'Multiple Selection List',\n    inline: false,\n    icon: UnorderedListOutlined,\n    Component: TemplateMultipleSelection,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateSingleSelection',\n    name: 'Single Selection List',\n    inline: false,\n    icon: OrderedListOutlined,\n    Component: TemplateSingleSelection,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateDate',\n    name: 'Date',\n    inline: false,\n    icon: CalendarOutlined,\n    Component: TemplateDate,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateTime',\n    name: 'Time',\n    inline: false,\n    icon: ClockCircleOutlined,\n    Component: TemplateTime,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateCloze',\n    name: 'Cloze',\n    inline: true,\n    icon: FontColorsOutlined,\n    html: Cloze.html,\n    Component: Cloze.Component,\n  },\n]\n\nexport const reportTemplateById = compose(\n  mergeAll,\n  map((x: ReportTemplateListItem) => ({ [x.type]: x }))\n)(reportTemplateList)\n\nexport default reportTemplateList\n","import React from 'react'\nimport { Radio } from 'antd'\nimport { RadioProps } from 'antd/lib/radio'\nimport styled from 'styled-components'\n\nconst StyledRadio = styled(Radio)`\n  &.ant-radio-wrapper {\n    color: ${p => p.theme.darkGrey};\n\n    span.ant-radio + * {\n      padding-left: 16px;\n    }\n\n    .ant-radio-inner,\n    .ant-radio-checked .ant-radio-inner {\n      border-color: ${p => p.theme.primary};\n    }\n\n    .ant-radio-inner::after {\n      background: ${p => p.theme.primary};\n    }\n\n    &:hover,\n    .ant-radio:hover .ant-radio-inner,\n    .ant-radio-input:focus + .ant-radio-inner {\n      border-color: ${p => p.theme.primary};\n    }\n  }\n`\n\ninterface Props extends RadioProps {\n  css?: React.CSSProperties\n}\n\nclass RadioComponent extends React.Component<Props, any> {\n  public static Group = Radio.Group\n\n  public static displayName = 'Radio'\n\n  public render() {\n    return <StyledRadio {...this.props} />\n  }\n}\n\nexport default RadioComponent\n","export * from './monitors';\nexport * from './hooksApi';\nexport * from './options';\nexport * from './connectors';","export * from './DragSource';\nexport * from './DropTarget';\nexport * from './DragLayer';\nexport * from './interfaces';","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isValidType(type, allowArray) {\n  return typeof type === 'string' || _typeof(type) === 'symbol' || !!allowArray && Array.isArray(type) && type.every(function (t) {\n    return isValidType(t, false);\n  });\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../common/DndContext';\nimport { isPlainObject } from '../utils/js_utils';\nimport { isRefable, checkDecoratorArguments } from './utils';\nexport function DragLayer(collect) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  checkDecoratorArguments('DragLayer', 'collect[, options]', collect, options);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. ' + 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);\n  return function decorateLayer(DecoratedComponent) {\n    var Decorated = DecoratedComponent;\n    var _options$arePropsEqua = options.arePropsEqual,\n        arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n    var displayName = Decorated.displayName || Decorated.name || 'Component';\n\n    var DragLayerContainer =\n    /** @class */\n    function () {\n      var DragLayerContainer = /*#__PURE__*/function (_React$Component) {\n        _inherits(DragLayerContainer, _React$Component);\n\n        var _super = _createSuper(DragLayerContainer);\n\n        function DragLayerContainer() {\n          var _this;\n\n          _classCallCheck(this, DragLayerContainer);\n\n          _this = _super.apply(this, arguments);\n          _this.isCurrentlyMounted = false;\n          _this.ref = React.createRef();\n\n          _this.handleChange = function () {\n            if (!_this.isCurrentlyMounted) {\n              return;\n            }\n\n            var nextState = _this.getCurrentState();\n\n            if (!shallowEqual(nextState, _this.state)) {\n              _this.setState(nextState);\n            }\n          };\n\n          return _this;\n        }\n\n        _createClass(DragLayerContainer, [{\n          key: \"getDecoratedComponentInstance\",\n          value: function getDecoratedComponentInstance() {\n            invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n            return this.ref.current;\n          }\n        }, {\n          key: \"shouldComponentUpdate\",\n          value: function shouldComponentUpdate(nextProps, nextState) {\n            return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n          }\n        }, {\n          key: \"componentDidMount\",\n          value: function componentDidMount() {\n            this.isCurrentlyMounted = true;\n            this.handleChange();\n          }\n        }, {\n          key: \"componentWillUnmount\",\n          value: function componentWillUnmount() {\n            this.isCurrentlyMounted = false;\n\n            if (this.unsubscribeFromOffsetChange) {\n              this.unsubscribeFromOffsetChange();\n              this.unsubscribeFromOffsetChange = undefined;\n            }\n\n            if (this.unsubscribeFromStateChange) {\n              this.unsubscribeFromStateChange();\n              this.unsubscribeFromStateChange = undefined;\n            }\n          }\n        }, {\n          key: \"render\",\n          value: function render() {\n            var _this2 = this;\n\n            return React.createElement(DndContext.Consumer, null, function (_ref) {\n              var dragDropManager = _ref.dragDropManager;\n\n              if (dragDropManager === undefined) {\n                return null;\n              }\n\n              _this2.receiveDragDropManager(dragDropManager); // Let componentDidMount fire to initialize the collected state\n\n\n              if (!_this2.isCurrentlyMounted) {\n                return null;\n              }\n\n              return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.state, {\n                ref: isRefable(Decorated) ? _this2.ref : null\n              }));\n            });\n          }\n        }, {\n          key: \"receiveDragDropManager\",\n          value: function receiveDragDropManager(dragDropManager) {\n            if (this.manager !== undefined) {\n              return;\n            }\n\n            this.manager = dragDropManager;\n            invariant(_typeof(dragDropManager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n            var monitor = this.manager.getMonitor();\n            this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n            this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n          }\n        }, {\n          key: \"getCurrentState\",\n          value: function getCurrentState() {\n            if (!this.manager) {\n              return {};\n            }\n\n            var monitor = this.manager.getMonitor();\n            return collect(monitor, this.props);\n          }\n        }]);\n\n        return DragLayerContainer;\n      }(React.Component);\n\n      DragLayerContainer.displayName = \"DragLayer(\".concat(displayName, \")\");\n      DragLayerContainer.DecoratedComponent = DecoratedComponent;\n      return DragLayerContainer;\n    }();\n\n    return hoistStatics(DragLayerContainer, DecoratedComponent);\n  };\n}","export default function getDisplayName(Component: any) {\n  return (\n    Component.displayName ||\n    Component.name ||\n    (typeof Component === 'string' && Component.length > 0\n      ? Component\n      : 'Unknown')\n  )\n}\n","import React from 'react'\nimport { includes, pathOr } from 'ramda'\nimport { XYCoord } from 'react-dnd'\nimport { isNil, mapIndexed } from '@/utils/webHelper'\nimport Snippet from '@/components/snippet'\nimport { SnippetProps } from '@/constants/types'\nconst { compose } = require('ramda')\n\n/* prettier-ignore */\nconst REPORT_TEMPLATE_BUILDER_CLASSNAME = 'report-template-builder__main-content'\nconst UI_DRAGGABLE_CLASSNAME = 'ui-draggable'\n\nconst hasClassName = (nodes: Element[], className: string) => {\n  return nodes.find(\n    n => !isNil(n.className) && includes(className)(n.className)\n  )\n}\n\nexport function canMoveSnippet(\n  element: Element | null,\n  className = REPORT_TEMPLATE_BUILDER_CLASSNAME\n) {\n  let elem = element\n\n  const nodes: Element[] = []\n  nodes.push(elem as Element)\n\n  while (elem?.parentNode) {\n    nodes.unshift(elem.parentNode as Element)\n    elem = elem.parentNode as Element\n  }\n\n  if (\n    hasClassName(nodes, 'report-template-builder-contentarea--fixed-layout') ||\n    hasClassName(nodes, 'snippet-drawer-menu')\n  ) {\n    return false\n  }\n  if (\n    hasClassName(nodes, className) ||\n    hasClassName(nodes, UI_DRAGGABLE_CLASSNAME)\n  ) {\n    return true\n  }\n\n  return false\n}\n\nfunction findSnippet(\n  element: HTMLElement,\n  className = UI_DRAGGABLE_CLASSNAME\n): HTMLElement | null {\n  if (element.classList.contains(className)) {\n    return element\n  }\n  return element.parentElement && findSnippet(element.parentElement, className)\n}\n\nexport function getPlaceHolderIndex(clientOffset: XYCoord) {\n  const hoverElement = document.elementFromPoint(clientOffset.x, clientOffset.y)\n\n  // find ui-draggable classname\n  const overSnippet = findSnippet(hoverElement as NonNullable<HTMLElement>)\n\n  const snippetIndex = overSnippet && overSnippet.dataset.index\n  const placeholderIndex = overSnippet ? Number(overSnippet.dataset.index) : -1\n\n  const isOverSnippet = !isNil(snippetIndex)\n\n  return {\n    overSnippet,\n    placeholderIndex,\n    isOverSnippet: isOverSnippet,\n  }\n}\n\nexport function renderSnippets(props: { [key: string]: any } = {}) {\n  return (snippetList?: SnippetProps[]) =>\n    compose(\n      mapIndexed((item: SnippetProps, idx: number) => (\n        <Snippet\n          {...props}\n          key={item.id}\n          wrapperId={`${item.id}`}\n          item={item}\n          draggable={false}\n          tabSize={item.tabSize}>\n          {item.inline ? (\n            <div\n              id={`${item.id}`}\n              className={`${item.id}`}\n              css={{ padding: 16 }}\n              dangerouslySetInnerHTML={{ __html: item.html }}\n            />\n          ) : (\n            <item.Component\n              id={item.id}\n              className={item.id}\n              item={item}\n              index={idx}\n            />\n          )}\n        </Snippet>\n      )),\n      pathOr([], [])\n    )(snippetList)\n}\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];\nvar REQUIRED_SPEC_METHODS = ['beginDrag'];\n\nvar SourceImpl = /*#__PURE__*/function () {\n  function SourceImpl(spec, monitor, ref) {\n    var _this = this;\n\n    _classCallCheck(this, SourceImpl);\n\n    this.props = null;\n\n    this.beginDrag = function () {\n      if (!_this.props) {\n        return;\n      }\n\n      var item = _this.spec.beginDrag(_this.props, _this.monitor, _this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', item);\n      }\n\n      return item;\n    };\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(SourceImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.canDrag) {\n        return true;\n      }\n\n      return this.spec.canDrag(this.props, this.monitor);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, sourceId) {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.isDragging) {\n        return sourceId === globalMonitor.getSourceId();\n      }\n\n      return this.spec.isDragging(this.props, this.monitor);\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      if (!this.props) {\n        return;\n      }\n\n      if (!this.spec.endDrag) {\n        return;\n      }\n\n      this.spec.endDrag(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }]);\n\n  return SourceImpl;\n}();\n\nexport function createSourceFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  REQUIRED_SPEC_METHODS.forEach(function (key) {\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  return function createSource(monitor, ref) {\n    return new SourceImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { checkDecoratorArguments } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { registerSource } from '../common/registration';\nimport { DragSourceMonitorImpl } from '../common/DragSourceMonitorImpl';\nimport { SourceConnector } from '../common/SourceConnector';\nimport { isValidType } from '../utils/isValidType';\nimport { createSourceFactory } from './createSourceFactory';\n/**\n * Decorates a component as a dragsource\n * @param type The dragsource type\n * @param spec The drag source specification\n * @param collect The props collector function\n * @param options DnD options\n */\n\nexport function DragSource(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DragSource', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type), 'Expected \"type\" provided as the first argument to DragSource to be ' + 'a string, or a function that returns a string given the current props. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DragSource to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', spec);\n  var createSource = createSourceFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DragSource to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DragSource to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  return function decorateSource(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DragSource',\n      createHandler: createSource,\n      registerHandler: registerSource,\n      createConnector: function createConnector(backend) {\n        return new SourceConnector(backend);\n      },\n      createMonitor: function createMonitor(manager) {\n        return new DragSourceMonitorImpl(manager);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\n\nvar TargetImpl = /*#__PURE__*/function () {\n  function TargetImpl(spec, monitor, ref) {\n    _classCallCheck(this, TargetImpl);\n\n    this.props = null;\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(TargetImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"receiveMonitor\",\n    value: function receiveMonitor(monitor) {\n      this.monitor = monitor;\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      if (!this.spec.canDrop) {\n        return true;\n      }\n\n      return this.spec.canDrop(this.props, this.monitor);\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      if (!this.spec.hover || !this.props) {\n        return;\n      }\n\n      this.spec.hover(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      if (!this.spec.drop) {\n        return undefined;\n      }\n\n      var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(typeof dropResult === 'undefined' || isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);\n      }\n\n      return dropResult;\n    }\n  }]);\n\n  return TargetImpl;\n}();\n\nexport function createTargetFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);\n  });\n  return function createTarget(monitor, ref) {\n    return new TargetImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { registerTarget } from '../common/registration';\nimport { isValidType } from '../utils/isValidType';\nimport { TargetConnector } from '../common/TargetConnector';\nimport { DropTargetMonitorImpl } from '../common/DropTargetMonitorImpl';\nimport { checkDecoratorArguments } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { createTargetFactory } from './createTargetFactory';\nexport function DropTarget(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type, true), 'Expected \"type\" provided as the first argument to DropTarget to be ' + 'a string, an array of strings, or a function that returns either given ' + 'the current props. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DropTarget to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', spec);\n  var createTarget = createTargetFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DropTarget to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DropTarget to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  return function decorateTarget(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DropTarget',\n      createHandler: createTarget,\n      registerHandler: registerTarget,\n      createMonitor: function createMonitor(manager) {\n        return new DropTargetMonitorImpl(manager);\n      },\n      createConnector: function createConnector(backend) {\n        return new TargetConnector(backend);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { isFunction, noop } from '../utils/js_utils';\n/**\n * Provides a set of static methods for creating Disposables.\n * @param {Function} action Action to run during the first call to dispose.\n * The action is guaranteed to be run at most once.\n */\n\nvar Disposable =\n/** @class */\nfunction () {\n  var Disposable = /*#__PURE__*/function () {\n    function Disposable(action) {\n      _classCallCheck(this, Disposable);\n\n      this.isDisposed = false;\n      this.action = isFunction(action) ? action : noop;\n    }\n    /**\n     * Validates whether the given object is a disposable\n     * @param {Object} Object to test whether it has a dispose method\n     * @returns {Boolean} true if a disposable object, else false.\n     */\n\n\n    _createClass(Disposable, [{\n      key: \"dispose\",\n\n      /** Performs the task of cleaning up resources. */\n      value: function dispose() {\n        if (!this.isDisposed) {\n          this.action();\n          this.isDisposed = true;\n        }\n      }\n    }], [{\n      key: \"isDisposable\",\n      value: function isDisposable(d) {\n        return Boolean(d && isFunction(d.dispose));\n      }\n    }, {\n      key: \"_fixup\",\n      value: function _fixup(result) {\n        return Disposable.isDisposable(result) ? result : Disposable.empty;\n      }\n      /**\n       * Creates a disposable object that invokes the specified action when disposed.\n       * @param {Function} dispose Action to run during the first call to dispose.\n       * The action is guaranteed to be run at most once.\n       * @return {Disposable} The disposable object that runs the given action upon disposal.\n       */\n\n    }, {\n      key: \"create\",\n      value: function create(action) {\n        return new Disposable(action);\n      }\n    }]);\n\n    return Disposable;\n  }();\n  /**\n   * Gets the disposable that does nothing when disposed.\n   */\n\n\n  Disposable.empty = {\n    dispose: noop\n  };\n  return Disposable;\n}();\n\nexport { Disposable };\n/**\n * Represents a group of disposable resources that are disposed together.\n * @constructor\n */\n\nexport var CompositeDisposable = /*#__PURE__*/function () {\n  function CompositeDisposable() {\n    _classCallCheck(this, CompositeDisposable);\n\n    this.isDisposed = false;\n\n    for (var _len = arguments.length, disposables = new Array(_len), _key = 0; _key < _len; _key++) {\n      disposables[_key] = arguments[_key];\n    }\n\n    this.disposables = disposables;\n  }\n  /**\n   * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n   * @param {Any} item Disposable to add.\n   */\n\n\n  _createClass(CompositeDisposable, [{\n    key: \"add\",\n    value: function add(item) {\n      if (this.isDisposed) {\n        item.dispose();\n      } else {\n        this.disposables.push(item);\n      }\n    }\n    /**\n     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n     * @param {Any} item Disposable to remove.\n     * @returns {Boolean} true if found; false otherwise.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      var shouldDispose = false;\n\n      if (!this.isDisposed) {\n        var idx = this.disposables.indexOf(item);\n\n        if (idx !== -1) {\n          shouldDispose = true;\n          this.disposables.splice(idx, 1);\n          item.dispose();\n        }\n      }\n\n      return shouldDispose;\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group but\n     *  does not dispose the CompositeDisposable.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.isDisposed) {\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i = 0; _i < len; _i++) {\n          currentDisposables[_i].dispose();\n        }\n      }\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i2 = 0; _i2 < len; _i2++) {\n          currentDisposables[_i2].dispose();\n        }\n      }\n    }\n  }]);\n\n  return CompositeDisposable;\n}();\n/**\n * Represents a disposable resource whose underlying disposable resource can\n * be replaced by another disposable resource, causing automatic disposal of\n * the previous underlying disposable resource.\n */\n\nexport var SerialDisposable = /*#__PURE__*/function () {\n  function SerialDisposable() {\n    _classCallCheck(this, SerialDisposable);\n\n    this.isDisposed = false;\n  }\n  /**\n   * Gets the underlying disposable.\n   * @returns {Any} the underlying disposable.\n   */\n\n\n  _createClass(SerialDisposable, [{\n    key: \"getDisposable\",\n    value: function getDisposable() {\n      return this.current;\n    }\n  }, {\n    key: \"setDisposable\",\n    value: function setDisposable(value) {\n      var shouldDispose = this.isDisposed;\n\n      if (!shouldDispose) {\n        var old = this.current;\n        this.current = value;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n\n      if (shouldDispose && value) {\n        value.dispose();\n      }\n    }\n    /** Performs the task of cleaning up resources. */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var old = this.current;\n        this.current = undefined;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n    }\n  }]);\n\n  return SerialDisposable;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { DndContext } from '../common/DndContext';\nimport { isPlainObject } from '../utils/js_utils';\nimport { Disposable, CompositeDisposable, SerialDisposable } from './disposables';\nimport { isRefable } from './utils';\nexport function decorateHandler(_ref) {\n  var DecoratedComponent = _ref.DecoratedComponent,\n      createHandler = _ref.createHandler,\n      createMonitor = _ref.createMonitor,\n      createConnector = _ref.createConnector,\n      registerHandler = _ref.registerHandler,\n      containerDisplayName = _ref.containerDisplayName,\n      getType = _ref.getType,\n      collect = _ref.collect,\n      options = _ref.options;\n  var _options$arePropsEqua = options.arePropsEqual,\n      arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n  var Decorated = DecoratedComponent;\n  var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n  var DragDropContainer =\n  /** @class */\n  function () {\n    var DragDropContainer = /*#__PURE__*/function (_React$Component) {\n      _inherits(DragDropContainer, _React$Component);\n\n      var _super = _createSuper(DragDropContainer);\n\n      function DragDropContainer(props) {\n        var _this;\n\n        _classCallCheck(this, DragDropContainer);\n\n        _this = _super.call(this, props);\n        _this.decoratedRef = React.createRef();\n\n        _this.handleChange = function () {\n          var nextState = _this.getCurrentState();\n\n          if (!shallowEqual(nextState, _this.state)) {\n            _this.setState(nextState);\n          }\n        };\n\n        _this.disposable = new SerialDisposable();\n\n        _this.receiveProps(props);\n\n        _this.dispose();\n\n        return _this;\n      }\n\n      _createClass(DragDropContainer, [{\n        key: \"getHandlerId\",\n        value: function getHandlerId() {\n          return this.handlerId;\n        }\n      }, {\n        key: \"getDecoratedComponentInstance\",\n        value: function getDecoratedComponentInstance() {\n          invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n          return this.decoratedRef.current;\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.disposable = new SerialDisposable();\n          this.currentType = undefined;\n          this.receiveProps(this.props);\n          this.handleChange();\n        }\n      }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate(prevProps) {\n          if (!arePropsEqual(this.props, prevProps)) {\n            this.receiveProps(this.props);\n            this.handleChange();\n          }\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.dispose();\n        }\n      }, {\n        key: \"receiveProps\",\n        value: function receiveProps(props) {\n          if (!this.handler) {\n            return;\n          }\n\n          this.handler.receiveProps(props);\n          this.receiveType(getType(props));\n        }\n      }, {\n        key: \"receiveType\",\n        value: function receiveType(type) {\n          if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {\n            return;\n          }\n\n          if (type === this.currentType) {\n            return;\n          }\n\n          this.currentType = type;\n\n          var _registerHandler = registerHandler(type, this.handler, this.manager),\n              _registerHandler2 = _slicedToArray(_registerHandler, 2),\n              handlerId = _registerHandler2[0],\n              unregister = _registerHandler2[1];\n\n          this.handlerId = handlerId;\n          this.handlerMonitor.receiveHandlerId(handlerId);\n          this.handlerConnector.receiveHandlerId(handlerId);\n          var globalMonitor = this.manager.getMonitor();\n          var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, {\n            handlerIds: [handlerId]\n          });\n          this.disposable.setDisposable(new CompositeDisposable(new Disposable(unsubscribe), new Disposable(unregister)));\n        }\n      }, {\n        key: \"dispose\",\n        value: function dispose() {\n          this.disposable.dispose();\n\n          if (this.handlerConnector) {\n            this.handlerConnector.receiveHandlerId(null);\n          }\n        }\n      }, {\n        key: \"getCurrentState\",\n        value: function getCurrentState() {\n          if (!this.handlerConnector) {\n            return {};\n          }\n\n          var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);\n\n          if (process.env.NODE_ENV !== 'production') {\n            invariant(isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' + '%s for %s to return a plain object of props to inject. ' + 'Instead, received %s.', containerDisplayName, displayName, nextState);\n          }\n\n          return nextState;\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return React.createElement(DndContext.Consumer, null, function (_ref2) {\n            var dragDropManager = _ref2.dragDropManager;\n\n            _this2.receiveDragDropManager(dragDropManager);\n\n            if (typeof requestAnimationFrame !== 'undefined') {\n              requestAnimationFrame(function () {\n                var _this2$handlerConnect;\n\n                return (_this2$handlerConnect = _this2.handlerConnector) === null || _this2$handlerConnect === void 0 ? void 0 : _this2$handlerConnect.reconnect();\n              });\n            }\n\n            return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.getCurrentState(), {\n              // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.\n              ref: isRefable(Decorated) ? _this2.decoratedRef : null\n            }));\n          });\n        }\n      }, {\n        key: \"receiveDragDropManager\",\n        value: function receiveDragDropManager(dragDropManager) {\n          if (this.manager !== undefined) {\n            return;\n          }\n\n          invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n          if (dragDropManager === undefined) {\n            return;\n          }\n\n          this.manager = dragDropManager;\n          this.handlerMonitor = createMonitor(dragDropManager);\n          this.handlerConnector = createConnector(dragDropManager.getBackend());\n          this.handler = createHandler(this.handlerMonitor, this.decoratedRef);\n        }\n      }]);\n\n      return DragDropContainer;\n    }(React.Component);\n\n    DragDropContainer.DecoratedComponent = DecoratedComponent;\n    DragDropContainer.displayName = \"\".concat(containerDisplayName, \"(\").concat(displayName, \")\");\n    return DragDropContainer;\n  }();\n\n  return hoistStatics(DragDropContainer, DecoratedComponent);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector = /*#__PURE__*/function () {\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dragSourceRef = null;\n    this.dragSourceOptionsInternal = null; // The drag preview may either be attached via ref or connect function\n\n    this.dragPreviewRef = null;\n    this.dragPreviewOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDragSource = null;\n    this.lastConnectedDragSourceOptions = null;\n    this.lastConnectedDragPreview = null;\n    this.lastConnectedDragPreviewOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    this.sourceId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    this.targetId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dropTargetRef = null;\n    this.dropTargetOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDropTarget = null;\n    this.lastConnectedDropTargetOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }]);\n\n  return TargetConnector;\n}();","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","// This icon file is generated automatically.\nvar LeftOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z\" } }] }, \"name\": \"left\", \"theme\": \"outlined\" };\nexport default LeftOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LeftOutlinedSvg from \"@ant-design/icons-svg/es/asn/LeftOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar LeftOutlined = function LeftOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: LeftOutlinedSvg\n  }));\n};\n\nLeftOutlined.displayName = 'LeftOutlined';\nexport default React.forwardRef(LeftOutlined);","// This icon file is generated automatically.\nvar RightOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z\" } }] }, \"name\": \"right\", \"theme\": \"outlined\" };\nexport default RightOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport RightOutlinedSvg from \"@ant-design/icons-svg/es/asn/RightOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar RightOutlined = function RightOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: RightOutlinedSvg\n  }));\n};\n\nRightOutlined.displayName = 'RightOutlined';\nexport default React.forwardRef(RightOutlined);","// This icon file is generated automatically.\nvar EditOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z\" } }] }, \"name\": \"edit\", \"theme\": \"outlined\" };\nexport default EditOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EditOutlinedSvg from \"@ant-design/icons-svg/es/asn/EditOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EditOutlined = function EditOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: EditOutlinedSvg\n  }));\n};\n\nEditOutlined.displayName = 'EditOutlined';\nexport default React.forwardRef(EditOutlined);","import React from 'react'\nimport styled from 'styled-components'\nimport {\n  EditOutlined,\n  DeleteOutlined,\n  RightOutlined,\n  LeftOutlined,\n} from '@ant-design/icons'\nimport cx from 'classnames'\nimport { Tooltip } from 'antd'\n\ntype Props = {\n  editable?: boolean\n  tabIndex: number\n  onEdit: () => void\n  onDelete: () => void\n  onShift: (shift: number) => void\n}\n\nconst ToolbarWrapper = styled.div`\n  position: absolute;\n  top: 8px;\n  right: 15px;\n  visibility: hidden;\n  transition: visibility 0s, opacity 0.3s, max-height 0.6s linear;\n  opacity: 0;\n  z-index: 1;\n\n  &.is--over {\n    visibility: visible;\n    transition: visibility 0s, opacity 0.3s, max-height 0.6s linear;\n    opacity: 0.8;\n  }\n`\n\nexport const SHIFT_TYPES = {\n  LEFT: -1,\n  RIGHT: 1,\n}\n\nexport default function SnippetToolbar({\n  tabIndex,\n  onEdit,\n  onDelete,\n  onShift,\n  editable = true,\n}: Props) {\n  const handleShift = (shift: number) => () => {\n    onShift(shift)\n  }\n\n  return (\n    <ToolbarWrapper\n      className={cx('text-primary', { 'is--over': tabIndex === 1 })}>\n      <Tooltip title=\"向左縮排\">\n        <LeftOutlined\n          className=\"mr-2 cursor-pointer\"\n          onClick={handleShift(SHIFT_TYPES.LEFT)}\n        />\n      </Tooltip>\n      <Tooltip title=\"向右縮排\">\n        <RightOutlined\n          className=\"mr-2 cursor-pointer\"\n          onClick={handleShift(SHIFT_TYPES.RIGHT)}\n        />\n      </Tooltip>\n      {editable && (\n        <Tooltip title=\"編輯\">\n          <EditOutlined className=\"mr-2 cursor-pointer\" onClick={onEdit} />\n        </Tooltip>\n      )}\n      <Tooltip title=\"刪除\">\n        <DeleteOutlined className=\"cursor-pointer\" onClick={onDelete} />\n      </Tooltip>\n    </ToolbarWrapper>\n  )\n}\n\nexport { SnippetToolbar }\n","/* eslint-disable no-undef */\nimport React from 'react'\nimport { clone, is, equals } from 'ramda'\nimport envStore from '@/constants/env'\nimport hoist from 'hoist-non-react-statics'\nimport getDisplayName from '@/utils/get-display-name'\n\nlet defaultConfig = {\n  block_formats: 'Heading 1=h1;Heading 2=h2;Heading 3=h3;Paragraph=p',\n  inline: true,\n  menubar: false,\n  external_plugins: {\n    custom_format: '/js/tinymce_plugins/custom_format/plugin.js',\n    utils: '/js/tinymce_plugins/utils/plugin.js',\n    component_plugin: '/js/tinymce_plugins/component_plugin/plugin.js',\n  },\n  fontsize_formats: '10px 12px 14px 16px 18px 20px 24px 32px 36px',\n  force_br_newlines: true,\n  force_p_newlines: false,\n  forced_root_block: 'div',\n  plugins: 'image textcolor lists emoticons link table media code',\n  tinymce: `${envStore.publicUrl}/js/tinymce/4.9.2/tinymce.min.js`,\n  link_title: false,\n  table_toolbar:\n    'tablemergecells tablesplitcells | tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol',\n  textcolor_cols: '5',\n  content_security_policy: '',\n  allow_unsafe_link_target: true,\n  relative_urls: false,\n  convert_urls: false,\n  valid_elements: '*[*]',\n  valid_children:\n    'h1[div|strong|b],h2[div|strong|b],h3[div|strong|b],p[div|strong|b]',\n  toolbar1:\n    'undo redo | custom-formatselect fontsizeselect | bold italic underline strikethrough forecolor removeformat | align numlist bullist outdent indent | link | upload-image image_options |fontawesome | component-list',\n}\n\nexport default function withTinyMCE(ComposedComponent) {\n  class withTinyMCE extends React.Component {\n    static displayName = `withTinyMCE(${getDisplayName(ComposedComponent)})`\n\n    static defaultProps = {\n      inline: false,\n    }\n\n    state = {\n      top: 0,\n      tabIndex: -1,\n      editor: null,\n      toolbarMouseOver: false,\n      toolbarVisible: false,\n    }\n\n    componentDidMount() {\n      if (this.props.inline) {\n        console.log(this.props.item)\n        this.initialize(this.props.item)\n      }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n      if (!this.props.isDragging && prevProps.isDragging) {\n        this.setState({ toolbarVisible: false })\n      }\n      if (!this.props.inline) {\n        return\n      }\n      if (!equals(this.props.id, prevProps.id)) {\n        this.initialize(this.props.item)\n      }\n      if (!equals(this.props.item?.html, prevProps.item?.html)) {\n        this.state.editor.setContent(this.props.item?.html)\n      }\n    }\n\n    initialize = snippet => {\n      if (this._get(snippet.id)) {\n        this.remove(snippet.id)\n      }\n\n      const _config = clone(snippet.config || defaultConfig)\n\n      tinymce.init({\n        ..._config,\n        selector: `#${snippet.id}`,\n        language_url: '/js/tinymce_lang/zh_TW.js',\n        content: snippet.html,\n        setup: editor => {\n          editor.on('blur', e => this.onEditorBlur(e))\n          editor.on('focus', e => this.onEditorFocus(e))\n\n          if (is(Function, _config.execInit)) {\n            _config.execInit(editor)\n          }\n\n          if (snippet.html) {\n            editor.on('init', () => editor.setContent(snippet.html))\n          }\n        },\n        init_instance_callback: editor => {\n          if (editor) {\n            this.setState({ editor })\n          }\n          editor.undoManager.add()\n        },\n      })\n    }\n\n    onEditorBlur = e => {\n      // const { updateSnippet, index } = this.props\n      // if (updateSnippet) {\n      //   updateSnippet(e.target.getContent(), index)\n      // }\n      console.log('blur')\n    }\n\n    onEditorFocus = () => {\n      // const { index } = this.props\n      // $(`.sort-item`).removeClass(s.focus)\n      // $(`.sort-item:nth-child(${index + 1})`).addClass(s.focus)\n      console.log('focus')\n    }\n\n    onClick = () => {\n      const { toolbarVisible } = this.state\n\n      if (!toolbarVisible) {\n        const snippetEl = document.getElementById(this.props.id)\n        const top = snippetEl.offsetTop + 30\n\n        this.setState({ toolbarVisible: true, tabIndex: 1, top })\n      }\n    }\n\n    onBlur = () => {\n      const { toolbarVisible, toolbarMouseOver } = this.state\n      if (toolbarVisible && !toolbarMouseOver) {\n        this.setState({ toolbarVisible: false, tabIndex: -1 })\n      }\n    }\n\n    _get = id => {\n      return tinymce.get(id)\n    }\n\n    remove = id => {\n      tinymce.remove(this._get(id || this.props.id))\n    }\n\n    render() {\n      return <ComposedComponent {...this.state} {...this.props} />\n    }\n  }\n\n  return hoist(withTinyMCE, ComposedComponent)\n}\n","import React from 'react'\nimport { DragSource, ConnectDragPreview, ConnectDragSource } from 'react-dnd'\nimport { getEmptyImage } from 'react-dnd-html5-backend'\nimport { mergeRight } from 'ramda'\nimport cx from 'classnames'\nimport { confirm } from '@/utils/message'\nimport { SnippetProps } from '@/constants/types'\nimport ItemTypes from '@/constants/item-types'\nimport SnippetToolbar from './snippet-toolbar'\nimport theme from '../theme'\nimport withTinyMCE from './withTinyMCE'\nconst { compose } = require('ramda')\n\ntype Props = {\n  id?: React.Key\n  wrapperId?: string\n  className?: string\n  style?: React.CSSProperties\n  index?: number\n  tabSize?: number\n  isDragging?: boolean\n  draggable?: boolean\n  inline?: boolean\n  fromMenu?: boolean\n  item: SnippetProps\n  connectDragPreview?: ConnectDragPreview\n  connectDragSource?: ConnectDragSource\n  children?: React.ReactNode\n  findSnippet?(id: React.Key): { index: number; snippet: SnippetProps }\n  shiftSnippet?(id: React.Key, shift: number): any\n  removeSnippet?(index: number): void\n}\n\ntype State = {\n  tabIndex: number\n  editModalVisible: boolean\n}\n\nconst withDragSource = DragSource(\n  ItemTypes.BOARD,\n  {\n    beginDrag(props: Props) {\n      return {\n        ...props,\n        fromMenu: false,\n        originalIndex: (props as any).findSnippet(props.id).index,\n      }\n    },\n    canDrag(props: Props) {\n      return !!(props.draggable && !props.fromMenu)\n    },\n  },\n  (connect, monitor) => ({\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n    isDragging: monitor.isDragging(),\n  })\n)\n\nclass Snippet extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props)\n\n    this.state = {\n      tabIndex: -1,\n      editModalVisible: false,\n    }\n  }\n\n  componentDidMount = () => {\n    const { connectDragPreview } = this.props\n    if (connectDragPreview) {\n      connectDragPreview(getEmptyImage() /* { anchorX: 0.2, anchorY: 0.1 } */)\n    }\n  }\n\n  handleShift = (shift: number) => {\n    const { id, shiftSnippet } = this.props\n\n    if (shiftSnippet && id) {\n      shiftSnippet(id, shift)\n    }\n  }\n\n  handleRemove = () => {\n    confirm({\n      content: '刪除後將無法還原，確認繼續？',\n      title: '確認要刪除這個模版?',\n      onOk: () => {\n        ;(this.props as any).removeSnippet(this.props.index)\n      },\n      onCancel() {},\n    })\n  }\n\n  handleEditModalVisible = () => {\n    this.setState(prev => ({ editModalVisible: !prev.editModalVisible }))\n  }\n\n  _onMouseOver = () => {\n    this.setState({ tabIndex: 1 })\n  }\n\n  _onMouseOut = () => {\n    this.setState({ tabIndex: -1 })\n  }\n\n  render() {\n    const {\n      props: {\n        connectDragSource = (node: any) => node,\n        connectDragPreview = (node: any) => node,\n        wrapperId,\n        index,\n        draggable,\n        style = {},\n        className = 'mb-3',\n        item,\n      },\n      state: { tabIndex, editModalVisible },\n    } = this\n\n    const styles = mergeRight(\n      getItemStyles({ ...this.props, ...this.state }),\n      style\n    )\n\n    return connectDragSource(\n      connectDragPreview(\n        <div\n          id={wrapperId}\n          style={styles}\n          className={cx(\n            'ui-sortable',\n            { 'ui-draggable': draggable },\n            className\n          )}\n          tabIndex={tabIndex}\n          onMouseOver={this._onMouseOver}\n          onMouseOut={this._onMouseOut}\n          data-index={index}>\n          {draggable && (\n            <SnippetToolbar\n              tabIndex={tabIndex}\n              editable={!item.inline}\n              onEdit={this.handleEditModalVisible}\n              onDelete={this.handleRemove}\n              onShift={this.handleShift}\n            />\n          )}\n          {React.Children.map(this.props.children, child =>\n            React.cloneElement(child as any, {\n              editModalVisible,\n              handleEditModalVisible: this.handleEditModalVisible,\n            })\n          )}\n        </div>\n      )\n    )\n  }\n}\n\nfunction getItemStyles(props: Partial<Props & State>): React.CSSProperties {\n  const { isDragging, tabIndex, draggable, tabSize = 0 } = props\n\n  const isFocus = tabIndex === 1\n\n  return {\n    ...(isFocus ? { borderRadius: 3 } : {}),\n    ...(draggable\n      ? { border: `1px dashed ${draggable ? '#e7e7e7' : 'transparent'}` }\n      : {\n          outlineColor: isFocus ? theme.purple150 : 'transparent',\n        }),\n    cursor: 'default',\n    position: 'relative',\n    display: isDragging ? 'none' : 'block',\n    marginLeft: tabSize * 50,\n  }\n}\n\nexport default compose(withDragSource, withTinyMCE)(Snippet) as typeof Snippet\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { findDOMNode } from 'react-dom'\nimport { DndContext } from 'react-dnd'\nimport throttle from 'lodash.throttle'\nimport raf from 'raf'\nimport hoist from 'hoist-non-react-statics'\nimport getDisplayName from '@/utils/get-display-name'\n\nfunction noop() {}\n\nfunction intBetween(min, max, val) {\n  return Math.floor(Math.min(max, Math.max(min, val)))\n}\n\nfunction getCoords(evt) {\n  if (evt.type === 'touchmove') {\n    return {\n      x: evt.changedTouches[0].clientX,\n      y: evt.changedTouches[0].clientY,\n    }\n  }\n\n  return { x: evt.clientX, y: evt.clientY }\n}\n\nconst DEFAULT_BUFFER = 150\n\nexport function createHorizontalStrength(_buffer) {\n  return function defaultHorizontalStrength({ x, w, y, h }, point) {\n    const buffer = Math.min(w / 2, _buffer)\n    const inRange = point.x >= x && point.x <= x + w\n    const inBox = inRange && point.y >= y && point.y <= y + h\n\n    if (inBox) {\n      if (point.x < x + buffer) {\n        return (point.x - x - buffer) / buffer\n      } else if (point.x > x + w - buffer) {\n        return -(x + w - point.x - buffer) / buffer\n      }\n    }\n\n    return 0\n  }\n}\n\nexport function createVerticalStrength(_buffer) {\n  return function defaultVerticalStrength({ y, h, x, w }, point) {\n    const buffer = Math.min(h / 2, _buffer)\n    const inRange = point.y >= y && point.y <= y + h\n    const inBox = inRange && point.x >= x && point.x <= x + w\n\n    if (inBox) {\n      if (point.y < y + buffer) {\n        return (point.y - y - buffer) / buffer\n      } else if (point.y > y + h - buffer) {\n        return -(y + h - point.y - buffer) / buffer\n      }\n    }\n\n    return 0\n  }\n}\n\nexport const defaultHorizontalStrength = createHorizontalStrength(\n  DEFAULT_BUFFER\n)\n\nexport const defaultVerticalStrength = createVerticalStrength(DEFAULT_BUFFER)\n\nexport default function createScrollingComponent(WrappedComponent) {\n  class ScrollingComponent extends React.Component {\n    static displayName = `Scrolling(${getDisplayName(WrappedComponent)})`\n\n    static propTypes = {\n      onScrollChange: PropTypes.func,\n      verticalStrength: PropTypes.func,\n      horizontalStrength: PropTypes.func,\n      strengthMultiplier: PropTypes.number,\n    }\n\n    static defaultProps = {\n      useScroll: true,\n      onScrollChange: noop,\n      verticalStrength: defaultVerticalStrength,\n      horizontalStrength: defaultHorizontalStrength,\n      strengthMultiplier: 30,\n    }\n\n    static contextType = DndContext\n\n    constructor(props, ctx) {\n      super(props, ctx)\n\n      this.scaleX = 0\n      this.scaleY = 0\n      this.frame = null\n\n      this.attached = false\n      this.dragging = false\n    }\n\n    componentDidMount() {\n      if (this.props.useScroll) {\n        this._initial()\n      }\n    }\n\n    _initial() {\n      // window.document.body.addEventListener('dragover', this.handleEvent);\n      this.container = findDOMNode(this.wrappedInstance)\n      this.container.addEventListener('dragover', this.handleEvent)\n      // touchmove events don't seem to work across siblings, so we unfortunately\n      // have to attach the listeners to the body\n      window.document.body.addEventListener('touchmove', this.handleEvent)\n\n      this.clearMonitorSubscription = this.context.dragDropManager\n        .getMonitor()\n        .subscribeToStateChange(() => this.handleMonitorChange())\n    }\n\n    componentWillUnmount() {\n      if (this.props.useScroll) {\n        this._remove()\n      }\n    }\n\n    _remove() {\n      // window.document.body.removeEventListener('dragover', this.handleEvent);\n      this.container.removeEventListener('dragover', this.handleEvent)\n      window.document.body.removeEventListener('touchmove', this.handleEvent)\n      this.clearMonitorSubscription()\n      this.stopScrolling()\n    }\n\n    handleEvent = evt => {\n      if (this.dragging && !this.attached) {\n        this.attach()\n        this.updateScrolling(evt)\n      }\n    }\n\n    handleMonitorChange() {\n      const isDragging = this.context.dragDropManager.getMonitor().isDragging()\n\n      if (!this.dragging && isDragging) {\n        this.dragging = true\n      } else if (this.dragging && !isDragging) {\n        this.dragging = false\n        this.stopScrolling()\n      }\n    }\n\n    attach() {\n      this.attached = true\n      window.document.body.addEventListener('dragover', this.updateScrolling)\n      window.document.body.addEventListener('touchmove', this.updateScrolling)\n    }\n\n    detach() {\n      this.attached = false\n      window.document.body.removeEventListener('dragover', this.updateScrolling)\n      window.document.body.removeEventListener(\n        'touchmove',\n        this.updateScrolling\n      )\n    }\n\n    // Update scaleX and scaleY every 100ms or so\n    // and start scrolling if necessary\n    updateScrolling = throttle(\n      evt => {\n        const {\n          left: x,\n          top: y,\n          width: w,\n          height: h,\n        } = this.container.getBoundingClientRect()\n        const box = { x, y, w, h }\n        const coords = getCoords(evt)\n\n        // calculate strength\n        this.scaleX = this.props.horizontalStrength(box, coords)\n        this.scaleY = this.props.verticalStrength(box, coords)\n\n        // start scrolling if we need to\n        if (!this.frame && (this.scaleX || this.scaleY)) {\n          this.startScrolling()\n        }\n      },\n      100,\n      { trailing: false }\n    )\n\n    startScrolling() {\n      let i = 0\n      const tick = () => {\n        const { scaleX, scaleY, container } = this\n        const { strengthMultiplier, onScrollChange } = this.props\n\n        // stop scrolling if there's nothing to do\n        if (strengthMultiplier === 0 || scaleX + scaleY === 0) {\n          this.stopScrolling()\n          return\n        }\n\n        // there's a bug in safari where it seems like we can't get\n        // mousemove events from a container that also emits a scroll\n        // event that same frame. So we double the strengthMultiplier and only adjust\n        // the scroll position at 30fps\n        if (i++ % 2) {\n          const {\n            scrollLeft,\n            scrollTop,\n            scrollWidth,\n            scrollHeight,\n            clientWidth,\n            clientHeight,\n          } = container\n\n          const newLeft = scaleX\n            ? (container.scrollLeft = intBetween(\n                0,\n                scrollWidth - clientWidth,\n                scrollLeft + scaleX * strengthMultiplier\n              ))\n            : scrollLeft\n\n          const newTop = scaleY\n            ? (container.scrollTop = intBetween(\n                0,\n                scrollHeight - clientHeight,\n                scrollTop + scaleY * strengthMultiplier\n              ))\n            : scrollTop\n\n          onScrollChange(newLeft, newTop)\n        }\n        this.frame = raf(tick)\n      }\n\n      tick()\n    }\n\n    stopScrolling() {\n      this.detach()\n      this.scaleX = 0\n      this.scaleY = 0\n\n      if (this.frame) {\n        raf.cancel(this.frame)\n        this.frame = null\n      }\n    }\n\n    render() {\n      const {\n        // not passing down these props\n        strengthMultiplier,\n        verticalStrength,\n        horizontalStrength,\n        onScrollChange,\n        ...props\n      } = this.props\n\n      return (\n        <WrappedComponent\n          ref={ref => {\n            this.wrappedInstance = ref\n          }}\n          {...props}\n        />\n      )\n    }\n  }\n\n  return hoist(ScrollingComponent, WrappedComponent)\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport cx from 'classnames'\nimport withScroll, { createVerticalStrength } from './withScroll'\n\ninterface Props {\n  className?: string\n  useScroll?: boolean\n}\n\nconst DndScrollableElement = styled.div`\n  height: 85vh;\n  padding-top: 0;\n  overflow-y: scroll;\n\n  .report-template-builder {\n    &__main-content {\n      min-height: 371.25mm;\n      margin: 0 auto;\n      padding: 16px;\n      box-sizing: border-box;\n      max-width: 100%;\n      background: #fff;\n      border-top-right-radius: 16px;\n      border-bottom-left-radius: 16px;\n      border-bottom-right-radius: 16px;\n    }\n\n    &__contentarea {\n      min-height: 348.75mm;\n    }\n\n    &__contentarea--fixed-layout {\n      min-height: auto;\n    }\n\n    &__snippet-toolbar {\n      visibility: hidden;\n    }\n  }\n\n  .ui-draggable {\n    &:focus,\n    &:active {\n      outline: 0;\n\n      .course-builder__snippet-toolbar {\n        visibility: visible;\n        opacity: 1;\n        transition: visibility 0s, opacity 0.3s, max-height 0.6s linear;\n      }\n    }\n  }\n\n  &.is--preview {\n    height: auto;\n  }\n`\n\nconst ScrollableComponent = withScroll(DndScrollableElement)\n\nconst vStrength = createVerticalStrength(150)\n\nexport default class ReactDndProvider extends React.Component<Props> {\n  static defaultProps = {\n    useScroll: true,\n  }\n\n  render() {\n    const { className, useScroll } = this.props\n\n    return (\n      <ScrollableComponent\n        useScroll={useScroll}\n        verticalStrength={vStrength}\n        strengthMultiplier={100}\n        className={cx('report-template-builder', className)}>\n        {this.props.children}\n      </ScrollableComponent>\n    )\n  }\n}\n","import React from 'react'\nimport { ModalProps } from 'antd/lib/modal'\nimport { length, __, gt, keys, map, pathOr } from 'ramda'\nimport Modal from '@/components/modal'\nimport { Snippets } from '@/hooks/useReportTemplate'\nimport { renderSnippets } from '@/components/snippet-utils'\nconst { compose } = require('ramda')\n\ninterface Props extends ModalProps {\n  snippetList?: Snippets\n}\n\nexport default function SnippetPreviewModal({ onCancel, snippetList }: Props) {\n  return (\n    <Modal\n      visible\n      style={{ top: 30 }}\n      maskClosable={false}\n      className=\"ant-modal-header--border-none\"\n      keyboard={false}\n      width=\"85%\"\n      onCancel={onCancel}\n      footer={false}>\n      {compose(\n        map((key: string) => (\n          <div key={key}>\n            {compose(gt(__, 0), length, pathOr([], [key]))(snippetList) && (\n              <h2 className=\"my-2\">{key}</h2>\n            )}\n            {compose(renderSnippets(), pathOr([], [key]))(snippetList)}\n          </div>\n        )),\n        keys\n      )(snippetList)}\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { ColumnProps, TableProps, TablePaginationConfig } from 'antd/lib/table'\nimport { SpinProps } from 'antd/lib/spin'\nimport { merge } from 'ramda'\nimport { DataSource } from '@/constants/types'\nimport Table from '@/components/table'\n\ntype Props<T> = Omit<TableProps<T>, 'dataSource'> & {\n  columns: ColumnProps<T>[]\n  className?: string\n  pageNum?: number\n  dataSource: DataSource<T>\n  onChange?: (pagination: TablePaginationConfig) => any\n  loading?: boolean | SpinProps\n  rowSelection?: {\n    selectedRowKeys: any[]\n    onChange: (selectedRowKeys: any, selectedRows: any) => void\n  }\n}\n\nexport default function QueryTable<T>({\n  columns,\n  className,\n  pageNum = 1,\n  dataSource,\n  onChange,\n  loading = false,\n  rowSelection,\n  pagination,\n  ...props\n}: Props<T>) {\n  const handleTableChange = ({ current, pageSize }: TablePaginationConfig) => {\n    if (onChange) {\n      onChange({ current, pageSize })\n    }\n  }\n\n  const paginationConfig = React.useMemo(\n    () =>\n      merge<any, any>(pagination, {\n        current: pageNum,\n        pageSize: 10,\n        total: dataSource.total,\n        showSizeChanger: false,\n      }) as TablePaginationConfig,\n    [dataSource.total, pagination, pageNum]\n  )\n\n  return (\n    <Table\n      rowKey=\"id\"\n      dataSource={dataSource.content}\n      columns={columns as any}\n      pagination={paginationConfig}\n      onChange={handleTableChange}\n      rowSelection={rowSelection}\n      loading={loading}\n      className={className}\n      {...props}\n    />\n  )\n}\n","// This icon file is generated automatically.\nvar DeleteOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z\" } }] }, \"name\": \"delete\", \"theme\": \"outlined\" };\nexport default DeleteOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DeleteOutlinedSvg from \"@ant-design/icons-svg/es/asn/DeleteOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DeleteOutlined = function DeleteOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: DeleteOutlinedSvg\n  }));\n};\n\nDeleteOutlined.displayName = 'DeleteOutlined';\nexport default React.forwardRef(DeleteOutlined);"],"sourceRoot":""}