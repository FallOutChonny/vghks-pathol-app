{"version":3,"sources":["components/snippet-preview-modal.tsx","components/snippet-drag-preview.js","components/snippet-drag-layer.tsx","../node_modules/@ant-design/icons-svg/es/asn/MinusOutlined.js","../node_modules/@ant-design/icons/es/icons/MinusOutlined.js","containers/report-template-editor/report-template-builder.tsx"],"names":["compose","require","SnippetPreviewWrapper","styled","div","SnippetPreviewModal","item","onCancel","useForm","form","snippetList","pathOr","visible","style","top","maskClosable","className","keyboard","width","footer","key","color","onClick","is","Array","renderSnippets","map","gt","__","length","background","theme","darkGrey","keys","SnippetDragPreview","React","Component","layerStyles","position","pointerEvents","zIndex","left","height","getItemStyles","props","initialOffset","currentOffset","display","x","y","transform","WebkitTransform","DragLayer","monitor","getItem","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","isDragging","element","document","elementFromPoint","canDrop","canMoveSnippet","ItemTypes","BOARD","SNIPPET","renderItem","MinusOutlined","ref","AntdIcon","Object","assign","icon","MinusOutlinedSvg","displayName","whiteSpace","ReportTemplateBuilder","useTitle","useBreadcrumb","name","params","match","useReportTemplate","id","category","reportTemplate","handleTabChange","handleTabEdit","handleTabMove","handleTabNameChange","handleSnippetUpdate","useEffect","setFieldsValue","JSON","stringify","useReportPreview","isPreview","handlePreview","useCreateOrUpdateTemplate","onCompleted","response","history","push","replace","data","REPORT_TEMPLATE_EDIT","console","log","success","creating","handleAdd","updating","handleUpdate","handleSave","status","validateFields","then","values","setting","mergeAll","categoryName","handleConfirm","useRouteLeaveConfirm","REPORT_TEMPLATE_LIST","handleExport","useExportTemplate","filename","useHeaderContent","spinning","initialValues","gutter","span","defaultActiveKey","expandIconPosition","expandIcon","isActive","Panel","header","Item","noStyle","rules","required","type","activeKey","onChange","onEdit","moveTabNode","TabPane","closable","tab","contentEditable","suppressContentEditableWarning","spellCheck","draggable","onSnippetUpdate"],"mappings":"0TAUQA,EAAYC,EAAQ,IAApBD,QAMFE,EAAwBC,UAAOC,IAAV,mGAAGD,CAAH,8HAeZ,SAASE,EAAT,GAAyD,IAA1BC,EAAyB,EAAzBA,KAAMC,EAAmB,EAAnBA,SAAmB,EACtD,IAAKC,UAAbC,EAD8D,oBAG/DC,EAAcC,YAAO,GAAI,CAAC,WAAYL,GAE5C,OACE,kBAAC,IAAD,CACEM,SAAO,EACPC,MAAO,CAAEC,IAAK,IACdC,cAAc,EACdC,UAAU,gCACVC,UAAU,EACVC,MAAM,MACNX,SAAUA,EACVY,OAAQ,CACN,kBAAC,IAAD,CAAQC,IAAI,aAAaC,MAAM,UAAUC,QAASf,GAAlD,kBAIF,uBAAME,KAAMA,GACV,kBAACP,EAAD,KACGqB,YAAGC,MAAOd,GACPe,cAAiBf,GACjBV,EACE0B,aAAI,SAACN,GAAD,OACF,yBAAKA,IAAKA,GACPpB,EACC2B,YAAGC,IAAI,GACPC,IACAlB,YAAO,GAAI,CAACS,IAHbpB,CAICU,IACA,wBACEG,MAAO,CAAEiB,WAAYC,IAAMC,SAAUd,MAAO,OAC5CF,UAAU,oCACTI,GAGJpB,EAAQyB,cAAkBd,YAAO,GAAI,CAACS,IAAtCpB,CAA6CU,OAGlDuB,IAjBFjC,CAkBEU,Q,wGCrEKwB,E,uKAKjB,OAAO,kC,GALqCC,IAAMC,W,SCIhDC,EAAmC,CACvCC,SAAU,QACVC,cAAe,OACfC,OAAQ,IACRC,KAAM,EACN3B,IAAK,EACLI,MAAO,OACPwB,OAAQ,QAWV,SAASC,EAAcC,GAAwB,IACrCC,EAAiCD,EAAjCC,cAAeC,EAAkBF,EAAlBE,cAEvB,IAAKD,IAAkBC,EACrB,MAAO,CACLC,QAAS,QAL+B,IASpCC,EAASF,EAATE,EAAGC,EAAMH,EAANG,EAELC,EAAS,oBAAgBF,EAAhB,eAAwBC,EAAxB,OACf,MAAO,CACLC,YACAC,gBAAiBD,GAuCNE,yBAAU,SAAAC,GAAO,MAAK,CACnC/C,KAAM+C,EAAQC,UACdC,SAAUF,EAAQG,cAClBX,cAAeQ,EAAQI,+BACvBX,cAAeO,EAAQK,wBACvBC,WAAYN,EAAQM,gBALPP,EAnCoC,SAAAR,GAAU,IACnDW,EAAwCX,EAAxCW,SAAUI,EAA8Bf,EAA9Be,WAAYb,EAAkBF,EAAlBE,cAY9B,IAAKa,EACH,OAAO,KAGT,IAAKb,EACH,OAAO,KAGT,IAAMc,EAAUC,SAASC,iBAAiBhB,EAAcE,EAAGF,EAAcG,GAErEc,GAAU,EAKd,OAJIH,IACFG,EAAUC,YAAeJ,IAIzB,yBAAK5C,UAAU,sCAAsCH,MAAOwB,GAC1D,yBAAKxB,MAAO8B,EAAcC,IA3B9B,YAAwD,IAAlCmB,EAAiC,EAAjCA,QACpB,OAAQR,GACN,KAAKU,IAAUC,MACf,KAAKD,IAAUE,QACb,OAAO,kBAAC,EAAD,CAAoBJ,QAASA,IACtC,QACE,OAAO,MAqB0BK,CAAW,CAAEL,kB,6CCvEvCM,EADK,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,gGAAoG,KAAQ,QAAS,MAAS,Y,QCKrRA,EAAgB,SAAuBzB,EAAO0B,GAChD,OAAOnC,gBAAoBoC,IAAUC,OAAOC,OAAO,GAAI7B,EAAO,CAC5D0B,IAAKA,EACLI,KAAMC,MAIVN,EAAcO,YAAc,gBACbzC,iBAAiBkC,I,0bCaxBrE,EAAYC,EAAQ,IAApBD,Q,qHAqImD,CAAEkB,MAAO,K,sHAQT,CAAEA,MAAO,K,sHAQT,CAAEA,MAAO,K,uHAuCrC,CAAE2D,WAAY,WA6B9BC,UArNf,SAA+BlC,GAC7BmC,YAAS,8CAETC,YAAc,CAAC,CAAEC,KAAM,4BAAU,CAAEA,KAAM,gDAHE,IAKnCC,EAAWtC,EAAMuC,MAAjBD,OALmC,EAgBvCE,YAAkB,CAAEC,GAAIH,EAAOG,KARjCC,EARyC,EAQzCA,SACAC,EATyC,EASzCA,eACA7E,EAVyC,EAUzCA,YACA8E,EAXyC,EAWzCA,gBACAC,EAZyC,EAYzCA,cACAC,EAbyC,EAazCA,cACAC,EAdyC,EAczCA,oBACAC,EAfyC,EAezCA,oBAGFzD,IAAM0D,WAAU,WACdpF,GAAKqF,eAAeP,KACnB,CAACQ,KAAKC,UAAUT,KApBwB,MAsBRU,cAtBQ,mBAsBpCC,EAtBoC,KAsBzBC,EAtByB,QAwB5B,IAAK3F,UAAbC,GAxBoC,wBA0Bb2F,YAA0B,CACtDC,YAAa,SAAAC,GACXC,IAAQC,KAAKC,YAAQ,MAAD,OAAQH,QAAR,IAAQA,OAAR,EAAQA,EAAUI,KAAKzB,KAA9BwB,CAAoCE,MACjDC,QAAQC,IAAIP,GACZ,IAAQQ,QAAQ,6DA9BuB,qBA0BpCC,GA1BoC,MA0B1BC,GA1B0B,SAkCVZ,YAA0B,CACzDC,YAAa,kBAAM,IAAQS,QAAQ,6DAnCM,qBAkCpCG,GAlCoC,MAkC1BC,GAlC0B,MAsCrCC,GAAa,eAACC,EAAD,uDAAU,IAAV,OAAkB,WACnC3G,GAAK4G,iBAAiBC,MAAK,SAAAC,KACG,OAAdhC,QAAc,IAAdA,OAAA,EAAAA,EAAgBF,IAAK6B,GAAeF,IAE1C,uCACHzB,GACAgC,GAFE,IAGLH,SACAI,QAASxH,EACPyH,IACA/F,aAAI,SAACN,GAAD,sBACDA,EAAMpB,EACL0B,aAAI,cAAGU,UAAH,EAAcsC,KAAd,IAAuB1B,EAAvB,uDAAC,eACAA,GADD,IAEF0E,aAActG,OAEhBT,YAAO,GAAI,CAACS,IALPpB,CAMLU,OAEJuB,IAXOjC,CAYPU,WAKFiH,GAAgBC,YAAqBC,KAErCC,GAAeC,YAAkB,CACrCC,SAAU,2BACVtB,KAAK,2BAAMnB,GAAP,IAAuBiC,QAAS9G,MAsCtC,OAnCAuH,YACE,yBAAKjH,UAAU,eACb,kBAAC,IAAD,CACEK,MAAM,UACNL,UAAU,8CACVM,QAAS6F,GAAW,MAHtB,gBAMA,kBAAC,IAAD,CACE9F,MAAM,UACNL,UAAU,8CACVM,QAAS6F,GAAW,MAHtB,4BAMA,kBAAC,IAAD,CACE9F,MAAM,UACNL,UAAU,8CACVM,QAASqG,IAHX,gBAMA,kBAAC,IAAD,CACEtG,MAAM,UACNL,UAAU,8CACVM,QAASwG,IAHX,gBAMA,kBAAC,IAAD,CACEzG,MAAM,UACNL,UAAU,8CACVM,QAAS6E,GAHX,kBAUF,kBAAC,IAAD,KACGD,GACC,kBAAC,IAAD,CACE5F,KAAI,2BAAOiF,GAAP,IAAuBiC,QAAS9G,IACpCH,SAAU4F,IAGd,kBAAC,IAAD,MACA,uBAAM+B,SAAUnB,IAAYE,IAC1B,kBAAC,IAAD,KACE,uBAAMxG,KAAMA,GAAM0H,cAAa,eAAO5C,IACpC,uBAAK6C,OAAQ,GAAIpH,UAAU,iBACzB,uBAAKqH,KAAM,GACT,kBAAC,IAAD,CACEC,iBAAkB,CAAC,EAAG,GACtBC,mBAAmB,QACnBvH,UAAU,6BACVwH,WAAY,qBAAGC,SACF,kBAAC,IAAD,MAAoB,kBAAC,IAAD,QAEjC,kBAAC,IAASC,MAAV,CAAgBC,OAAO,2BAAOvH,IAAK,GACjC,uBAAKJ,UAAU,8BACb,uBAAKqH,KAAM,GAAIrH,UAAU,QACvB,qBAAKA,UAAU,gBAAf,iBAGA,sBAAM4H,KAAN,CAAWC,SAAO,EAAC5D,KAAK,OAAO6D,MAAO,CAACA,IAAMC,WAC3C,kBAAC,IAAD,CAAO/H,UAAU,YAGrB,uBAAKqH,KAAM,GAAIrH,UAAU,QACvB,qBAAKA,UAAU,gBAAf,iBAGA,sBAAM4H,KAAN,CAAWC,SAAO,EAAC5D,KAAK,eACtB,kBAAC,IAAD,CAAOjE,UAAU,YAGrB,uBAAKqH,KAAM,GAAIrH,UAAU,QACvB,qBAAKA,UAAU,gBAAf,uBAGA,sBAAM4H,KAAN,CACEC,SAAO,EACP5D,KAAK,SACL6D,MAAO,CAACA,IAAMC,WACd,kBAAC,IAAD,CAAO/H,UAAU,cAKzB,kBAAC,IAAS0H,MAAV,CAAgBC,OAAO,qBAAMvH,IAAK,GAChC,2BACE,uBAAKiH,KAAM,IACT,kBAAC,IAAD,WAMV,kBAAC,IAAD,CACEW,KAAK,gBACLC,UAAW3D,EACX4D,SAAU1D,EACV2D,OAAQ1D,EACR2D,YAAa1D,EACb1E,UAAU,UACThB,EACC0B,aAAI,SAACN,GAAD,OACF,kBAAC,IAAKiI,QAAN,CACEC,UAAQ,EACRlI,IAAKA,EACLmI,IACE,qBACEC,iBAAe,EACfC,gCAA8B,EAC9BC,YAAY,EACZ1I,UAAU,eAEVkI,SAAUvD,EAAoBvE,IAG7BA,IAGL,uBACEiH,KAAM,GACNrH,UAAU,yCACV,kBAAC,IAAD,CACE2I,WAAYzD,EACZxF,YAAaA,EAAYU,GACzBwI,gBAAiBhE,SAKzB3D,IA7BDjC,CA8BCU","file":"static/js/7.8ee56bfc.chunk.js","sourcesContent":["import React from 'react'\nimport { Form } from 'antd'\nimport { ModalProps } from 'antd/lib/modal'\nimport styled from 'styled-components'\nimport { length, __, gt, keys, map, pathOr, is } from 'ramda'\nimport Modal from '@/components/modal'\nimport { ReportTemplate, PhraseTemplate, SnippetProps } from '@/constants/types'\nimport { renderSnippets } from '@/components/snippet-utils'\nimport Button from '@/components/button'\nimport theme from '../theme'\nconst { compose } = require('ramda')\n\ninterface Props extends ModalProps {\n  item?: ReportTemplate | PhraseTemplate | null\n}\n\nconst SnippetPreviewWrapper = styled.div`\n  .ant-card-head {\n    min-height: auto;\n  }\n\n  .ant-card-head-title {\n    padding-top: 0;\n  }\n\n  .ant-card-body {\n    padding-top: 12px;\n    padding-bottom: 8px;\n  }\n`\n\nexport default function SnippetPreviewModal({ item, onCancel }: Props) {\n  const [form] = Form.useForm()\n\n  const snippetList = pathOr({}, ['setting'], item)\n\n  return (\n    <Modal\n      visible\n      style={{ top: 30 }}\n      maskClosable={false}\n      className=\"ant-modal-header--border-none\"\n      keyboard={false}\n      width=\"65%\"\n      onCancel={onCancel}\n      footer={[\n        <Button key=\"btn-cancel\" color=\"outline\" onClick={onCancel}>\n          確認\n        </Button>,\n      ]}>\n      <Form form={form}>\n        <SnippetPreviewWrapper>\n          {is(Array, snippetList)\n            ? renderSnippets()(snippetList as SnippetProps[])\n            : compose(\n                map((key: string) => (\n                  <div key={key}>\n                    {compose(\n                      gt(__, 0),\n                      length,\n                      pathOr([], [key])\n                    )(snippetList) && (\n                      <h2\n                        style={{ background: theme.darkGrey, width: '50%' }}\n                        className=\"bg-darkGrey text-white pl-3 my-2\">\n                        {key}\n                      </h2>\n                    )}\n                    {compose(renderSnippets(), pathOr([], [key]))(snippetList)}\n                  </div>\n                )),\n                keys\n              )(snippetList)}\n        </SnippetPreviewWrapper>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\n// import { envStore } from '@/constants/env'\n\nexport default class SnippetDragPreview extends React.Component {\n  render() {\n    // const dropType = this.props.canDrop ? 'allow' : 'forbid'\n    // const url = `${envStore.publicUrl}/images/icon-drag-${dropType}-drop@2x.png`\n\n    return <div>{/* <img width={160} src={url} alt={url} /> */}</div>\n  }\n}\n","import React from 'react'\nimport { XYCoord, DragLayer } from 'react-dnd'\nimport { Identifier } from 'dnd-core'\nimport ItemTypes from '@/constants/item-types'\nimport SnippetDragPreview from '@/components/snippet-drag-preview'\nimport { canMoveSnippet } from './snippet-utils'\n\nconst layerStyles: React.CSSProperties = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  zIndex: 100,\n  left: 0,\n  top: 0,\n  width: '100%',\n  height: '100%',\n}\n\ninterface DragLayerProps {\n  item?: any\n  itemType?: Identifier | null\n  initialOffset?: XYCoord | null\n  currentOffset?: XYCoord | null\n  isDragging?: boolean\n}\n\nfunction getItemStyles(props: DragLayerProps) {\n  const { initialOffset, currentOffset } = props\n\n  if (!initialOffset || !currentOffset) {\n    return {\n      display: 'none',\n    }\n  }\n\n  const { x, y } = currentOffset\n\n  const transform = `translate(${x}px, ${y}px)`\n  return {\n    transform,\n    WebkitTransform: transform,\n  }\n}\n\nconst SnippetDragLayer: React.FC<DragLayerProps> = props => {\n  const { itemType, isDragging, currentOffset } = props\n\n  function renderItem({ canDrop }: { canDrop: boolean }) {\n    switch (itemType) {\n      case ItemTypes.BOARD:\n      case ItemTypes.SNIPPET:\n        return <SnippetDragPreview canDrop={canDrop} />\n      default:\n        return null\n    }\n  }\n\n  if (!isDragging) {\n    return null\n  }\n\n  if (!currentOffset) {\n    return null\n  }\n\n  const element = document.elementFromPoint(currentOffset.x, currentOffset.y)\n\n  let canDrop = false\n  if (element) {\n    canDrop = canMoveSnippet(element)\n  }\n\n  return (\n    <div className=\"report-template-builder__drag-layer\" style={layerStyles}>\n      <div style={getItemStyles(props)}>{renderItem({ canDrop })}</div>\n    </div>\n  )\n}\n\nexport default DragLayer(monitor => ({\n  item: monitor.getItem(),\n  itemType: monitor.getItemType(),\n  initialOffset: monitor.getInitialSourceClientOffset(),\n  currentOffset: monitor.getSourceClientOffset(),\n  isDragging: monitor.isDragging(),\n}))(SnippetDragLayer)\n","// This icon file is generated automatically.\nvar MinusOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"minus\", \"theme\": \"outlined\" };\nexport default MinusOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport MinusOutlinedSvg from \"@ant-design/icons-svg/es/asn/MinusOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar MinusOutlined = function MinusOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: MinusOutlinedSvg\n  }));\n};\n\nMinusOutlined.displayName = 'MinusOutlined';\nexport default React.forwardRef(MinusOutlined);","import React from 'react'\nimport { Row, Col, Form, message, Spin } from 'antd'\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons'\nimport { RouteComponentProps } from 'react-router-dom'\nimport { keys, map, mergeAll, pathOr, replace } from 'ramda'\nimport { Page } from '@/components/layout'\nimport Button from '@/components/button'\nimport Input from '@/components/input'\nimport useRouteLeaveConfirm from '@/hooks/useRouteLeaveConfirm'\nimport useTitle from '@/hooks/useTitle'\nimport { useBreadcrumb, useHeaderContent } from '@/hooks/useApp'\nimport Tabs from '@/components/draggable-tabs'\nimport ReactDndProvider from '@/components/snippet-scrollable-container'\nimport SnippetListMenu from '@/components/snippet-list-menu'\nimport SnippetDragLayer from '@/components/snippet-drag-layer'\nimport SnippetsContainer from '@/components/snippets-container'\nimport SnippetPreviewModal from '@/components/snippet-preview-modal'\nimport Collapse from '@/components/collapse'\nimport {\n  useReportPreview,\n  useReportTemplate,\n  useCreateOrUpdateTemplate,\n  useExportTemplate,\n} from '@/services/reportTemplate'\nimport history from '@/utils/history'\nimport { rules } from '@/utils/form'\nimport { REPORT_TEMPLATE_EDIT, REPORT_TEMPLATE_LIST } from '@/constants/routes'\nconst { compose } = require('ramda')\n\ninterface Props extends RouteComponentProps<{ id: string }> {}\n\nfunction ReportTemplateBuilder(props: Props) {\n  useTitle('結構式報告模版')\n\n  useBreadcrumb([{ name: '報告模版' }, { name: '結構式報告模版' }])\n\n  const { params } = props.match\n\n  const {\n    category,\n    reportTemplate,\n    snippetList,\n    handleTabChange,\n    handleTabEdit,\n    handleTabMove,\n    handleTabNameChange,\n    handleSnippetUpdate,\n  } = useReportTemplate({ id: params.id })\n\n  React.useEffect(() => {\n    form.setFieldsValue(reportTemplate)\n  }, [JSON.stringify(reportTemplate)]) // eslint-disable-line\n\n  const [isPreview, handlePreview] = useReportPreview()\n\n  const [form] = Form.useForm()\n\n  const [creating, handleAdd] = useCreateOrUpdateTemplate({\n    onCompleted: response => {\n      history.push(replace(':id', response?.data.name)(REPORT_TEMPLATE_EDIT))\n      console.log(response)\n      message.success('報告模版已建立成功')\n    },\n  })\n\n  const [updating, handleUpdate] = useCreateOrUpdateTemplate({\n    onCompleted: () => message.success('報告模版已儲存成功'),\n  })\n\n  const handleSave = (status = 'f') => () => {\n    form.validateFields().then(values => {\n      let handler = reportTemplate?.id ? handleUpdate : handleAdd\n\n      handler({\n        ...reportTemplate,\n        ...values,\n        status,\n        setting: compose(\n          mergeAll,\n          map((key: string) => ({\n            [key]: compose(\n              map(({ Component, icon, ...x }) => ({\n                ...x,\n                categoryName: key,\n              })),\n              pathOr([], [key])\n            )(snippetList),\n          })),\n          keys\n        )(snippetList),\n      })\n    })\n  }\n\n  const handleConfirm = useRouteLeaveConfirm(REPORT_TEMPLATE_LIST)\n\n  const handleExport = useExportTemplate({\n    filename: '報告模版',\n    data: { ...reportTemplate, setting: snippetList },\n  })\n\n  useHeaderContent(\n    <div className=\"inline-flex\">\n      <Button\n        color=\"outline\"\n        className=\"ml-6 bg-transparent text-white border-white\"\n        onClick={handleSave('s')}>\n        發佈\n      </Button>\n      <Button\n        color=\"outline\"\n        className=\"ml-6 bg-transparent text-white border-white\"\n        onClick={handleSave('f')}>\n        暫存草稿\n      </Button>\n      <Button\n        color=\"outline\"\n        className=\"ml-6 bg-transparent text-white border-white\"\n        onClick={handleConfirm}>\n        放棄\n      </Button>\n      <Button\n        color=\"outline\"\n        className=\"ml-6 bg-transparent text-white border-white\"\n        onClick={handleExport}>\n        匯出\n      </Button>\n      <Button\n        color=\"outline\"\n        className=\"ml-6 bg-transparent text-white border-white\"\n        onClick={handlePreview}>\n        預覽\n      </Button>\n    </div>\n  )\n\n  return (\n    <ReactDndProvider>\n      {isPreview && (\n        <SnippetPreviewModal\n          item={{ ...reportTemplate, setting: snippetList }}\n          onCancel={handlePreview}\n        />\n      )}\n      <SnippetDragLayer />\n      <Spin spinning={creating || updating}>\n        <Page>\n          <Form form={form} initialValues={{ ...reportTemplate }}>\n            <Row gutter={48} className=\"pt-2 relative\">\n              <Col span={5}>\n                <Collapse\n                  defaultActiveKey={[1, 2]}\n                  expandIconPosition=\"right\"\n                  className=\"shadow-2xl header-pl-clear\"\n                  expandIcon={({ isActive }) =>\n                    isActive ? <MinusOutlined /> : <PlusOutlined />\n                  }>\n                  <Collapse.Panel header=\"模版資訊\" key={1}>\n                    <Row className=\"mb-2 text-sm text-darkGrey\">\n                      <Col span={24} className=\"mb-3\">\n                        <div className=\"inline-block\" css={{ width: 60 }}>\n                          名稱:\n                        </div>\n                        <Form.Item noStyle name=\"name\" rules={[rules.required]}>\n                          <Input className=\"w-2/3\" />\n                        </Form.Item>\n                      </Col>\n                      <Col span={24} className=\"my-3\">\n                        <div className=\"inline-block\" css={{ width: 60 }}>\n                          描述:\n                        </div>\n                        <Form.Item noStyle name=\"description\">\n                          <Input className=\"w-2/3\" />\n                        </Form.Item>\n                      </Col>\n                      <Col span={24} className=\"my-3\">\n                        <div className=\"inline-block\" css={{ width: 60 }}>\n                          創作者:\n                        </div>\n                        <Form.Item\n                          noStyle\n                          name=\"author\"\n                          rules={[rules.required]}>\n                          <Input className=\"w-2/3\" />\n                        </Form.Item>\n                      </Col>\n                    </Row>\n                  </Collapse.Panel>\n                  <Collapse.Panel header=\"工具列\" key={2}>\n                    <Row>\n                      <Col span={24}>\n                        <SnippetListMenu />\n                      </Col>\n                    </Row>\n                  </Collapse.Panel>\n                </Collapse>\n              </Col>\n              <Tabs\n                type=\"editable-card\"\n                activeKey={category}\n                onChange={handleTabChange}\n                onEdit={handleTabEdit}\n                moveTabNode={handleTabMove}\n                className=\"flex-1\">\n                {compose(\n                  map((key: string) => (\n                    <Tabs.TabPane\n                      closable\n                      key={key}\n                      tab={\n                        <span\n                          contentEditable\n                          suppressContentEditableWarning\n                          spellCheck={false}\n                          className=\"outline-none\"\n                          css={{ whiteSpace: 'nowrap' }}\n                          onChange={handleTabNameChange(key)}\n                          // onBlur={handleTabNameChange(key)}\n                        >\n                          {key}\n                        </span>\n                      }>\n                      <Col\n                        span={19}\n                        className=\"report-template-builder__main-content\">\n                        <SnippetsContainer\n                          draggable={!isPreview}\n                          snippetList={snippetList[key]}\n                          onSnippetUpdate={handleSnippetUpdate}\n                        />\n                      </Col>\n                    </Tabs.TabPane>\n                  )),\n                  keys\n                )(snippetList)}\n              </Tabs>\n            </Row>\n          </Form>\n        </Page>\n      </Spin>\n    </ReactDndProvider>\n  )\n}\n\nexport default ReportTemplateBuilder\n"],"sourceRoot":""}