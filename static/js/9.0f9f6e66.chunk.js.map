{"version":3,"sources":["../node_modules/@ant-design/icons-svg/es/asn/MinusOutlined.js","../node_modules/@ant-design/icons/es/icons/MinusOutlined.js","components/snippet-drag-preview.js","components/snippet-drag-layer.tsx","containers/report-template-editor/report-template-builder.tsx","../node_modules/react-dnd-html5-backend/dist/esm/getEmptyImage.js","../node_modules/react-dnd/dist/esm/index.js","components/input.tsx","hooks/useReportTemplate.ts","utils/form.ts","../node_modules/react-dnd/dist/esm/utils/js_utils.js","../node_modules/react-dnd/dist/esm/decorators/utils.js","components/checkbox.tsx","../../src/index.ts","components/app-footer.tsx","hooks/useVisible.ts","utils/message.tsx","../node_modules/react-dnd/dist/esm/common/registration.js","../node_modules/react-dnd/dist/esm/utils/isRef.js","../node_modules/react-dnd/dist/esm/utils/cloneWithRef.js","../node_modules/react-dnd/dist/esm/common/wrapConnectorHooks.js","constants/item-types.ts","components/layout.tsx","hooks/useTitle.ts","components/modal.tsx","components/table.tsx","components/select.tsx","components/report-template-modal.tsx","components/report-template-wrapper.tsx","components/report-template-input-text.tsx","components/input-number.tsx","components/report-template-input-number.tsx","components/editable-table.tsx","components/report-template-selection-modal.tsx","components/report-template-multiple-selection.tsx","components/radio.tsx","components/report-template-single-selection.tsx","components/datepicker.tsx","components/report-template-date.tsx","components/report-template-time.tsx","components/report-template-select.tsx","components/report-template-section-header.tsx","components/report-template-list.tsx","../node_modules/react-dnd/dist/esm/interfaces/index.js","../node_modules/react-dnd/dist/esm/decorators/index.js","../node_modules/react-dnd/dist/esm/utils/isValidType.js","../node_modules/react-dnd/dist/esm/decorators/DragLayer.js","components/snippet-utils.ts","../node_modules/rc-collapse/es/PanelContent.js","../node_modules/rc-collapse/es/Panel.js","../node_modules/rc-collapse/es/openAnimationFactory.js","../node_modules/rc-collapse/es/Collapse.js","../node_modules/rc-collapse/es/index.js","../node_modules/react-dnd/dist/esm/decorators/createSourceFactory.js","../node_modules/react-dnd/dist/esm/decorators/DragSource.js","../node_modules/react-dnd/dist/esm/decorators/createTargetFactory.js","../node_modules/react-dnd/dist/esm/decorators/DropTarget.js","../node_modules/react-dnd/dist/esm/decorators/disposables.js","../node_modules/react-dnd/dist/esm/decorators/decorateHandler.js","../node_modules/react-dnd/dist/esm/common/SourceConnector.js","../node_modules/react-dnd/dist/esm/common/DragSourceMonitorImpl.js","../node_modules/react-dnd/dist/esm/common/DropTargetMonitorImpl.js","../node_modules/react-dnd/dist/esm/common/TargetConnector.js","../node_modules/lodash.throttle/index.js","../node_modules/@ant-design/icons-svg/es/asn/LeftOutlined.js","../node_modules/@ant-design/icons/es/icons/LeftOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/RightOutlined.js","../node_modules/@ant-design/icons/es/icons/RightOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/EditOutlined.js","../node_modules/@ant-design/icons/es/icons/EditOutlined.js","components/snippet-toolbar.tsx","components/snippet.tsx","components/collapse.ts","../node_modules/antd/lib/collapse/style/css.js","../node_modules/antd/lib/collapse/index.js","../node_modules/antd/lib/collapse/Collapse.js","../node_modules/antd/lib/collapse/CollapsePanel.js","../node_modules/antd/lib/_util/openAnimation.js","components/withScroll.js","components/snippet-scrollable-container.tsx","components/snippet-preview-modal.tsx","components/tabs.ts","components/draggable-tabs.js","components/snippet-list-menu-item.tsx","components/snippet-list-menu.tsx","components/snippet-block-placeholder.ts","components/snippets-container.tsx","../node_modules/@ant-design/icons-svg/es/asn/DeleteOutlined.js","../node_modules/@ant-design/icons/es/icons/DeleteOutlined.js"],"names":["MinusOutlined","props","ref","React","AntdIcon","Object","assign","icon","MinusOutlinedSvg","displayName","SnippetDragPreview","Component","layerStyles","position","pointerEvents","zIndex","left","top","width","height","getItemStyles","initialOffset","currentOffset","display","x","y","transform","WebkitTransform","DragLayer","monitor","item","getItem","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","isDragging","element","document","elementFromPoint","canDrop","canMoveSnippet","className","style","ItemTypes","BOARD","SNIPPET","renderItem","compose","require","whiteSpace","ReportTemplateBuilder","useTitle","useBreadcrumb","href","REPORT_TEMPLATE_LIST","name","params","match","useReportTemplate","id","category","snippetList","handleTabChange","handleTabEdit","handleTabMove","handleTabNameChange","handleSnippetUpdate","useState","setTemplateInfo","useReportPreview","isPreview","handlePreview","useHeaderContent","color","onClick","handleInputChange","field","evt","prev","target","value","onCancel","gutter","span","defaultActiveKey","expandIconPosition","expandIcon","isActive","PlusOutlined","Panel","header","key","onChange","type","activeKey","onEdit","moveTabNode","map","TabPane","closable","tab","contentEditable","suppressContentEditableWarning","spellCheck","draggable","onSnippetUpdate","keys","emptyImage","getEmptyImage","Image","src","borderLess","css","p","theme","primary","StyledInput","styled","secondary","TextArea","faker","snippetCategoryOfReport","CLINICAL_HISTORY","HIGHT_RISK_REASONS","DATA_OF_PRIOR_SIMILAR_STUDY","IMAGING_PROTOCOL","TUMOR_LOCATION","fakeReportTemplateList","Array","from","length","_","idx","lorem","word","author","findName","status","statusName","createdAt","moment","createdAtStr","format","updatedAt","updatedAtStr","description","setting","mergeAll","path","reportTemplateById","pathOr","fakeSetting","defaultSnippetsOfReport","values","snippetsOfReportState","atomFamily","default","find","propEq","Number","reportTemplateListState","atom","content","total","reportPreviewState","categoryState","head","useReportTemplates","useRecoilState","_snippetList","useEffect","setSnippetList","JSON","stringify","setCategory","handleTabAdd","last","inc","getNumberFromString","Rlast","sort","a","b","handleTabRemove","targetKey","confirm","title","onOk","omit","filter","snippetById","e","action","order","snippetKeys","orderA","indexOf","orderB","newTabName","innerHTML","data","flatten","setIsPreview","useToggleReportPreview","state","useUpdateSnippet","options","onUpdate","defaultValue","setSetting","handleOk","createFormItemLayout","label","wrapper","labelCol","xs","sm","wrapperCol","thosandSeprartor","formatter","replace","parser","currency","percent","max","rules","required","message","number","account","pattern","RegExp","password","_typeof","obj","Symbol","iterator","constructor","prototype","isFunction","input","noop","isPlainObject","isObjectLike","getPrototypeOf","proto","getDecoratedComponent","instanceRef","currentRef","current","decoratedRef","isRefable","C","render","_item$$$typeof","$$typeof","toString","isRefForwardingComponent","checkDecoratorArguments","functionName","signature","CheckboxGroup","Group","StyledCheckbox","CheckboxComponent","forwardRef","shallowEqual","objA","objB","compare","compareContext","compareResult","keysA","keysB","bHasOwnProperty","valueA","valueB","AppFooter","Footer","background","useVisible","onRequestOpen","visible","setVisible","handleVisible","handleClose","marginTop","marginBottom","okText","cancelText","centered","autoFocusButton","okButtonProps","minWidth","marginRight","cancelButtonProps","modalDefaultProps","registerTarget","manager","registry","getRegistry","targetId","addTarget","removeTarget","registerSource","source","sourceId","addSource","removeSource","isRef","hasOwnProperty","call","setRef","node","cloneWithRef","newRef","previousRef","invariant","cloneElement","throwIfCompositeComponentElement","Error","concat","wrapConnectorHooks","hooks","wrappedHooks","forEach","hook","endsWith","wrappedHook","elementOrNode","arguments","undefined","isValidElement","wrapHookToRecognizeElement","CARD","borderTopLeftRadius","borderTopRightRadius","Page","children","Content","cx","DEFAULT_USE_TITLE_OPTIONS","restoreOnUnmount","prevTitleRef","useRef","envStore","appTitle","_title","StyledModal","ModalComponent","this","error","success","info","StyledTable","pagination","TableComponent","editable","columns","onAddRowClick","isRowDeletable","onDeleteRowClick","isCanEdit","_columns","useMemo","canEdit","placement","__","r","locale","emptyText","image","PRESENTED_IMAGE_SIMPLE","Column","StyledSelect","SelectComponent","Option","TemplateModal","maskClosable","keyboard","footer","StyledCard","TemplateWrapper","onDelete","titleVisible","bodyVisible","FontColorsOutlined","isNil","InputTextModal","useForm","form","validateFields","then","labelAlign","initialValues","Item","valuePropName","StyledInputNumber","attrs","min","ThousandSeprartorInput","CurrencyInput","PercentInput","InputNumberModal","EditableTable","onRowAdd","onRowDelete","triggerChange","changedValue","rowKey","size","dataSource","uuid","text","selected","freetext","TemplateSelectionModal","v","noStyle","align","invoker","ReportTemplateMultipleSelection","editModalVisible","handleEditModalVisible","bodyStyle","paddingLeft","mapIndexed","defaultChecked","bordered","placeholder","StyledRadio","darkGrey","RadioComponent","ReportTemplateSingleSelection","StyledDatePicker","StyledTimePicker","DatePickerComponent","InputDateModal","allowClear","picker","InputTimeModal","reportTemplateList","componentType","BoldOutlined","FontSizeOutlined","inputProps","tooltip","multipleLine","autoSize","minRows","NumberOutlined","units","DatabaseOutlined","UnorderedListOutlined","TemplateMultipleSelection","OrderedListOutlined","TemplateSingleSelection","CalendarOutlined","ClockCircleOutlined","isValidType","allowArray","isArray","every","t","_classCallCheck","instance","Constructor","TypeError","_defineProperties","i","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","o","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","apply","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","collect","DecoratedComponent","Decorated","_options$arePropsEqua","arePropsEqual","DragLayerContainer","_React$Component","_super","_this","isCurrentlyMounted","handleChange","nextState","getCurrentState","setState","nextProps","unsubscribeFromOffsetChange","unsubscribeFromStateChange","_this2","DndContext","Consumer","_ref","dragDropManager","receiveDragDropManager","getMonitor","subscribeToOffsetChange","subscribeToStateChange","hoistStatics","hasClassName","nodes","n","includes","elem","push","parentNode","unshift","getPlaceHolderIndex","clientOffset","overSnippet","findSnippet","classList","contains","parentElement","snippetIndex","dataset","index","placeholderIndex","isOverSnippet","getDisplayName","defineProperties","_defineProperty","PanelContent","_Component","forceRender","_classnames","_isActived","_props","prefixCls","destroyInactivePanel","role","contentCls","classnames","child","createElement","CollapsePanel","_temp","_len","args","_key","handleItemClick","_this$props","onItemClick","panelKey","handleKeyPress","keyCode","which","_classNames2","headerClass","showArrow","disabled","accordion","extra","headerCls","classNames","itemCls","tabIndex","onKeyPress","Animate","showProp","exclusive","component","animation","openAnimation","defaultProps","animate","show","transitionName","done","cssAnimation","start","offsetHeight","active","end","enter","leave","getActiveKeysArray","currentActiveKey","String","Collapse","_initialiseProps","openAnimationFactory","_classNames","collapseClassName","getItems","newState","onClickItem","arr","arr2","_toConsumableArray","splice","setActiveKey","getNewChild","_props2","_child$props","toArray","ALLOWED_SPEC_METHODS","REQUIRED_SPEC_METHODS","SourceImpl","spec","beginDrag","canDrag","globalMonitor","getSourceId","endDrag","createSourceFactory","join","DragSource","getType","createSource","decorateHandler","containerDisplayName","createHandler","registerHandler","createConnector","backend","SourceConnector","createMonitor","DragSourceMonitorImpl","TargetImpl","hover","drop","createTargetFactory","DropTarget","createTarget","DropTargetMonitorImpl","TargetConnector","Disposable","isDisposed","d","Boolean","dispose","isDisposable","empty","CompositeDisposable","disposables","shouldDispose","len","currentDisposables","_i","_i2","SerialDisposable","old","_slicedToArray","_arrayWithHoles","_arr","_n","_d","_e","_s","next","err","_iterableToArrayLimit","minLen","_arrayLikeToArray","slice","test","_unsupportedIterableToArray","_nonIterableRest","DragDropContainer","disposable","receiveProps","handlerId","currentType","prevProps","handler","receiveType","handlerMonitor","handlerConnector","_registerHandler2","unregister","receiveHandlerId","unsubscribe","handlerIds","setDisposable","_ref2","requestAnimationFrame","_this2$handlerConnect","reconnect","getBackend","dragSource","clearDragSource","dragSourceOptions","dragSourceRef","dragSourceNode","reconnectDragSource","dragPreview","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","dragSourceOptionsInternal","dragPreviewOptionsInternal","lastConnectedHandlerId","lastConnectedDragSource","lastConnectedDragSourceOptions","lastConnectedDragPreview","lastConnectedDragPreviewOptions","newHandlerId","didChange","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","dragSourceUnsubscribe","connectDragSource","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","dragPreviewUnsubscribe","connectDragPreview","get","set","isCallingCanDrag","isCallingIsDragging","internalMonitor","canDragSource","isDraggingSource","listener","isOverTarget","getTargetIds","isSourcePublic","canDropOnTarget","getDropResult","didDrop","getInitialClientOffset","getClientOffset","getDifferenceFromInitialOffset","isCallingCanDrop","dropTarget","clearDropTarget","dropTargetOptions","dropTargetRef","dropTargetNode","dropTargetOptionsInternal","lastConnectedDropTarget","lastConnectedDropTargetOptions","didDropTargetChange","didOptionsChange","disconnectDropTarget","unsubscribeDropTarget","connectDropTarget","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","global","freeSelf","root","Function","objectToString","nativeMax","Math","nativeMin","now","debounce","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","thisArg","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","toNumber","isObject","cancel","clearTimeout","flush","isSymbol","other","valueOf","isBinary","module","exports","LeftOutlined","LeftOutlinedSvg","RightOutlined","RightOutlinedSvg","EditOutlined","EditOutlinedSvg","ToolbarWrapper","div","SHIFT_TYPES","SnippetToolbar","onShift","handleShift","shift","DeleteOutlined","withDragSource","fromMenu","originalIndex","connect","Snippet","componentDidMount","shiftSnippet","handleRemove","removeSnippet","_onMouseOver","_onMouseOut","wrapperId","styles","mergeRight","tabSize","isFocus","borderRadius","border","outlineColor","purple150","cursor","marginLeft","onMouseOver","onMouseOut","data-index","Children","StyledCollapse","_interopRequireDefault","_default","_interopRequireWildcard","_extends2","_defineProperty2","_rcCollapse","_RightOutlined","_CollapsePanel","_configProvider","_openAnimation","_reactNode","_React$useContext","useContext","ConfigContext","getPrefixCls","direction","customizePrefixCls","_props$className","ghost","iconPosition","getIconPosition","appear","panelProps","rotate","renderExpandIcon","_props$showArrow","collapsePanelClassName","_cssAnimation","_raf","requestAnimationFrameId","opacity","intBetween","val","floor","createVerticalStrength","_buffer","point","h","w","buffer","defaultHorizontalStrength","defaultVerticalStrength","ScrollableComponent","WrappedComponent","ScrollingComponent","ctx","handleEvent","dragging","attached","attach","updateScrolling","throttle","container","getBoundingClientRect","box","coords","changedTouches","clientX","clientY","getCoords","scaleX","horizontalStrength","scaleY","verticalStrength","frame","startScrolling","useScroll","_initial","findDOMNode","wrappedInstance","addEventListener","window","body","clearMonitorSubscription","context","handleMonitorChange","_remove","removeEventListener","stopScrolling","tick","strengthMultiplier","onScrollChange","scrollLeft","scrollTop","scrollWidth","scrollHeight","clientWidth","clientHeight","raf","detach","contextType","hoist","withScroll","vStrength","ReactDndProvider","SnippetPreviewModal","gt","bg","TabNode","isOver","draggingItem","withDropTarget","dragKey","hoverKey","WrapTabNode","DraggableTabs","newOrder","c","dragIndex","hoverIndex","renderTabBar","DefaultTabBar","Tabs","rest","SnippetListMenuItem","SnippetListMenuWrapper","comp","SnippetListMenu","handleSnippetDrop","handleSnippetMove","hoverBoundingRect","hoverMiddleY","bottom","equals","SnippetsContainer","atIndex","handleFindSnippet","snippet","newList","isPlaced","s","droppedItem","nextIndex","insert","handleSnippetRemove","remove","handleSnippetShift","cond","always","lt","T","identity","add","update","isPlaceHold","cardList","withRouter","DeleteOutlinedSvg"],"mappings":"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","file":"static/js/9.0f9f6e66.chunk.js","sourcesContent":["// This icon file is generated automatically.\nvar MinusOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"minus\", \"theme\": \"outlined\" };\nexport default MinusOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport MinusOutlinedSvg from \"@ant-design/icons-svg/es/asn/MinusOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar MinusOutlined = function MinusOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: MinusOutlinedSvg\n  }));\n};\n\nMinusOutlined.displayName = 'MinusOutlined';\nexport default React.forwardRef(MinusOutlined);","import React from 'react'\n// import { envStore } from '@/constants/env'\n\nexport default class SnippetDragPreview extends React.Component {\n  render() {\n    // const dropType = this.props.canDrop ? 'allow' : 'forbid'\n    // const url = `${envStore.publicUrl}/images/icon-drag-${dropType}-drop@2x.png`\n\n    return <div>{/* <img width={160} src={url} alt={url} /> */}</div>\n  }\n}\n","import React from 'react'\nimport { XYCoord, DragLayer } from 'react-dnd'\nimport { Identifier } from 'dnd-core'\nimport ItemTypes from '@/constants/item-types'\nimport SnippetDragPreview from '@/components/snippet-drag-preview'\nimport { canMoveSnippet } from './snippet-utils'\n\nconst layerStyles: React.CSSProperties = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  zIndex: 100,\n  left: 0,\n  top: 0,\n  width: '100%',\n  height: '100%',\n}\n\ninterface DragLayerProps {\n  item?: any\n  itemType?: Identifier | null\n  initialOffset?: XYCoord | null\n  currentOffset?: XYCoord | null\n  isDragging?: boolean\n}\n\nfunction getItemStyles(props: DragLayerProps) {\n  const { initialOffset, currentOffset } = props\n\n  if (!initialOffset || !currentOffset) {\n    return {\n      display: 'none',\n    }\n  }\n\n  const { x, y } = currentOffset\n\n  const transform = `translate(${x}px, ${y}px)`\n  return {\n    transform,\n    WebkitTransform: transform,\n  }\n}\n\nconst SnippetDragLayer: React.FC<DragLayerProps> = props => {\n  const { itemType, isDragging, currentOffset } = props\n\n  function renderItem({ canDrop }: { canDrop: boolean }) {\n    switch (itemType) {\n      case ItemTypes.BOARD:\n      case ItemTypes.SNIPPET:\n        return <SnippetDragPreview canDrop={canDrop} />\n      default:\n        return null\n    }\n  }\n\n  if (!isDragging) {\n    return null\n  }\n\n  if (!currentOffset) {\n    return null\n  }\n\n  const element = document.elementFromPoint(currentOffset.x, currentOffset.y)\n\n  let canDrop = false\n  if (element) {\n    canDrop = canMoveSnippet(element)\n  }\n\n  return (\n    <div className=\"report-template-builder__drag-layer\" style={layerStyles}>\n      <div style={getItemStyles(props)}>{renderItem({ canDrop })}</div>\n    </div>\n  )\n}\n\nexport default DragLayer(monitor => ({\n  item: monitor.getItem(),\n  itemType: monitor.getItemType(),\n  initialOffset: monitor.getInitialSourceClientOffset(),\n  currentOffset: monitor.getSourceClientOffset(),\n  isDragging: monitor.isDragging(),\n}))(SnippetDragLayer)\n","import React from 'react'\nimport { Row, Col } from 'antd'\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons'\nimport { RouteComponentProps } from 'react-router-dom'\nimport { keys, map } from 'ramda'\nimport { Page } from '@/components/layout'\nimport Button from '@/components/button'\nimport Input from '@/components/input'\nimport useTitle from '@/hooks/useTitle'\nimport { useBreadcrumb, useHeaderContent } from '@/hooks/useApp'\nimport { useReportTemplate, useReportPreview } from '@/hooks/useReportTemplate'\nimport { REPORT_TEMPLATE_LIST } from '@/constants/routes'\nimport Tabs from '@/components/draggable-tabs'\nimport ReactDndProvider from '@/components/snippet-scrollable-container'\nimport SnippetListMenu from '@/components/snippet-list-menu'\nimport SnippetDragLayer from '@/components/snippet-drag-layer'\nimport SnippetsContainer from '@/components/snippets-container'\nimport SnippetPreviewModal from '@/components/snippet-preview-modal'\nimport Collapse from '@/components/collapse'\nconst { compose } = require('ramda')\n\ninterface Props extends RouteComponentProps<{ id: string }> {}\n\nfunction ReportTemplateBuilder(props: Props) {\n  useTitle('結構式報告模版編輯')\n\n  useBreadcrumb([\n    { href: REPORT_TEMPLATE_LIST, name: '結構式報告' },\n    { name: '結構式報告模版編輯' },\n  ])\n\n  const { params } = props.match\n\n  const {\n    category,\n    snippetList,\n    handleTabChange,\n    handleTabEdit,\n    handleTabMove,\n    handleTabNameChange,\n    handleSnippetUpdate,\n  } = useReportTemplate(params.id)\n\n  const [, setTemplateInfo] = React.useState({})\n\n  // React.useEffect(() => {\n  //   console.log(\n  //     JSON.stringify(\n  //       compose(\n  //         mergeAll,\n  //         map((key: string) => ({\n  //           [key]: compose(\n  //             map(omit(['Component'])),\n  //             pathOr([], [key])\n  //           )(snippetList),\n  //         })),\n  //         keys\n  //       )(snippetList)\n  //     )\n  //   )\n  // }, [JSON.stringify(snippetList)]) // eslint-disable-line\n\n  const [isPreview, handlePreview] = useReportPreview()\n\n  const handleSave = () => {}\n\n  useHeaderContent(\n    <div className=\"inline-flex\">\n      <Button\n        color=\"outline\"\n        className=\"bg-transparent text-white border-white\">\n        發佈\n      </Button>\n      <Button\n        color=\"outline\"\n        className=\"ml-6 bg-transparent text-white border-white\"\n        onClick={handleSave}>\n        儲存\n      </Button>\n      <Button\n        color=\"outline\"\n        className=\"ml-6 bg-transparent text-white border-white\"\n        onClick={handlePreview}>\n        預覽\n      </Button>\n    </div>\n  )\n\n  const handleInputChange = (field: string) => (\n    evt: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    setTemplateInfo(prev => ({ ...prev, [field]: evt.target.value }))\n  }\n\n  return (\n    <ReactDndProvider>\n      {isPreview && (\n        <SnippetPreviewModal\n          snippetList={snippetList}\n          onCancel={handlePreview}\n        />\n      )}\n      <SnippetDragLayer />\n      <Page>\n        <Row gutter={48} className=\"pt-2 relative\">\n          <Col span={5}>\n            <Collapse\n              defaultActiveKey={[1, 2]}\n              expandIconPosition=\"right\"\n              className=\"shadow-2xl header-pl-clear\"\n              expandIcon={({ isActive }) =>\n                isActive ? <MinusOutlined /> : <PlusOutlined />\n              }>\n              <Collapse.Panel header=\"模版資訊\" key={1}>\n                <Row className=\"mb-2 text-sm text-darkGrey\">\n                  <Col span={24} className=\"mb-3\">\n                    <div className=\"inline-block\" css={{ width: 60 }}>\n                      名稱:\n                    </div>\n                    <Input\n                      className=\"w-2/3\"\n                      onChange={handleInputChange('name')}\n                    />\n                  </Col>\n                  <Col span={24} className=\"my-3\">\n                    <div className=\"inline-block\" css={{ width: 60 }}>\n                      描述:\n                    </div>\n                    <Input\n                      className=\"w-2/3\"\n                      onChange={handleInputChange('description')}\n                    />\n                  </Col>\n                  <Col span={24} className=\"my-3\">\n                    <div className=\"inline-block\" css={{ width: 60 }}>\n                      創作者:\n                    </div>\n                    <Input\n                      className=\"w-2/3\"\n                      onChange={handleInputChange('author')}\n                    />\n                  </Col>\n                </Row>\n              </Collapse.Panel>\n              <Collapse.Panel header=\"工具列\" key={2}>\n                <Row>\n                  <Col span={24}>\n                    <SnippetListMenu />\n                  </Col>\n                </Row>\n              </Collapse.Panel>\n            </Collapse>\n          </Col>\n          <Tabs\n            type=\"editable-card\"\n            activeKey={category}\n            onChange={handleTabChange}\n            onEdit={handleTabEdit}\n            moveTabNode={handleTabMove}\n            className=\"flex-1\">\n            {compose(\n              map((key: string) => (\n                <Tabs.TabPane\n                  closable\n                  key={key}\n                  tab={\n                    <span\n                      contentEditable\n                      suppressContentEditableWarning\n                      spellCheck={false}\n                      className=\"outline-none\"\n                      css={{ whiteSpace: 'nowrap' }}\n                      onChange={handleTabNameChange(key)}\n                      // onBlur={handleTabNameChange(key)}\n                    >\n                      {key}\n                    </span>\n                  }>\n                  <Col\n                    span={19}\n                    className=\"report-template-builder__main-content\">\n                    <SnippetsContainer\n                      draggable={!isPreview}\n                      snippetList={snippetList[key]}\n                      onSnippetUpdate={handleSnippetUpdate}\n                    />\n                  </Col>\n                </Tabs.TabPane>\n              )),\n              keys\n            )(snippetList)}\n          </Tabs>\n        </Row>\n      </Page>\n    </ReactDndProvider>\n  )\n}\n\nexport default ReportTemplateBuilder\n","var emptyImage;\nexport function getEmptyImage() {\n  if (!emptyImage) {\n    emptyImage = new Image();\n    emptyImage.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n  }\n\n  return emptyImage;\n}","export * from './common';\nexport * from './interfaces';\nexport * from './hooks';\nexport * from './decorators';","import { Input } from 'antd'\nimport styled, { css } from 'styled-components'\n\nconst borderLess = css`\n  &.ant-input-borderless {\n    border: none;\n    border-bottom: 1px solid ${p => p.theme.primary};\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  &:active:not(.ant-input-borderless) {\n    box-shadow: 0 0 0 1px ${p => p.theme.primary};\n  }\n`\n\nconst StyledInput = styled(Input)`\n  &.ant-input-affix-wrapper .ant-input,\n  &.ant-input {\n    border-color: ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    ${borderLess};\n  }\n`\n\nconst Search = styled(Input.Search)`\n  &.ant-input-search {\n    .ant-input {\n      border-color: ${p => p.theme.primary};\n\n      &:hover,\n      &:focus {\n        border-color: ${p => p.theme.secondary};\n      }\n\n      &:focus {\n        box-shadow: 0 0 0 1px ${p => p.theme.primary};\n      }\n    }\n\n    .anticon-search {\n      font-size: 20px;\n      color: ${p => p.theme.primary};\n    }\n  }\n`\n\nconst TextArea = styled(Input.TextArea)`\n  &.ant-input {\n    resize: none;\n    border: 1px solid ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    ${borderLess};\n  }\n`\n\nexport { StyledInput as Input, TextArea, Search }\n\nexport default StyledInput\n","import React from 'react'\nimport { atom, atomFamily, useRecoilState } from 'recoil'\nimport {\n  find,\n  mergeAll,\n  map,\n  values,\n  head,\n  keys,\n  path,\n  pathOr,\n  propEq,\n  sort,\n  last as Rlast,\n  omit,\n  inc,\n  filter,\n  flatten,\n  length,\n} from 'ramda'\nimport moment from 'moment'\nimport fakeSetting from '@/mocks/fake-snippet-setting.json'\nimport { reportTemplateById } from '@/components/report-template-list'\nimport { getNumberFromString } from '@/utils/webHelper'\nimport { confirm } from '@/utils/message'\nimport { SnippetProps, ReportTemplateSetting } from '@/constants/types'\nconst { compose } = require('ramda')\nconst faker = require('faker')\n\ntype Snippets = { [key: string]: SnippetProps[] }\n\n// 模版分類\nconst snippetCategoryOfReport = {\n  CLINICAL_HISTORY: 'Clinical History',\n  HIGHT_RISK_REASONS: 'Hight Risk Reasons',\n  DATA_OF_PRIOR_SIMILAR_STUDY: 'Data of prior similar study',\n  IMAGING_PROTOCOL: 'Imaging Protocal',\n  TUMOR_LOCATION: 'Tumor Location/Size',\n}\n\nconst fakeReportTemplateList = Array.from({ length: 100 }).map((_, idx) => ({\n  id: idx + 1,\n  name: faker.lorem.word(),\n  author: faker.name.findName(),\n  status: 1,\n  statusName: '已發佈',\n  createdAt: moment(),\n  createdAtStr: moment().format('YYYY/MM/DD HH:mm'),\n  updatedAt: moment(),\n  updatedAtStr: moment().format('YYYY/MM/DD HH:mm'),\n  description: faker.lorem.word(),\n  setting: compose(\n    mergeAll,\n    map((key: string) => ({\n      [key]: compose(\n        map((x: any) => ({\n          ...x,\n          Component: path([x.type, 'Component'])(reportTemplateById),\n        })),\n        pathOr([], [key])\n      )(fakeSetting),\n    })),\n    keys\n  )(fakeSetting) as { [key: string]: any[] },\n}))\n\nconst defaultSnippetsOfReport = compose(\n  mergeAll,\n  map((key: string) => ({ [key]: [] })),\n  values\n)(snippetCategoryOfReport)\n\nconst snippetsOfReportState = atomFamily<Snippets, React.Key | undefined>({\n  key: 'reportSnippetsState',\n  default: id =>\n    compose(\n      pathOr(defaultSnippetsOfReport, ['setting']),\n      find(propEq('id', Number(id)))\n    )(fakeReportTemplateList),\n})\n\nconst reportTemplateListState = atom({\n  key: 'reportTemplateListState',\n  default: {\n    content: fakeReportTemplateList,\n    total: 100,\n  },\n})\n\nconst reportPreviewState = atom({\n  key: 'reportPreviewState',\n  default: false,\n})\n\nconst categoryState = atom<string>({\n  key: 'categoryState',\n  default: compose(head, values)(snippetCategoryOfReport),\n})\n\n// 報告模版清單\nexport function useReportTemplates() {\n  return useRecoilState(reportTemplateListState)\n}\n\n// 模版報告資料\nexport function useReportTemplate(id?: React.Key) {\n  const [_snippetList] = useRecoilState(snippetsOfReportState(id))\n\n  React.useEffect(() => {\n    setSnippetList(_snippetList)\n  }, [JSON.stringify(_snippetList)]) // eslint-disable-line\n\n  const [snippetList, setSnippetList] = React.useState<Snippets>(_snippetList)\n\n  const [category, setCategory] = useRecoilState(categoryState)\n\n  const handleSnippetUpdate = (data: any[]) => {\n    setSnippetList(prev => ({ ...prev, [category]: data }))\n  }\n\n  const handleTabChange = (activeKey: string) => {\n    setCategory(activeKey)\n  }\n\n  const handleTabMove = (order: string[]) => {\n    const snippetKeys = keys(snippetList)\n\n    setSnippetList(\n      compose(\n        mergeAll,\n        map((key: string) => ({ [key]: snippetList[key] })),\n        sort((a: string, b: string) => {\n          const orderA = order.indexOf(a)\n          const orderB = order.indexOf(b)\n\n          if (orderA !== -1 && orderB !== -1) {\n            return orderA - orderB\n          }\n          if (orderA !== -1) {\n            return -1\n          }\n          if (orderB !== -1) {\n            return 1\n          }\n\n          const ia = snippetKeys.indexOf(a)\n          const ib = snippetKeys.indexOf(b)\n\n          return ia - ib\n        }),\n        keys\n      )(snippetList)\n    )\n  }\n\n  const handleTabAdd = () => {\n    const last = compose(\n      inc,\n      pathOr(0, []),\n      getNumberFromString,\n      Rlast,\n      sort((a: any, b: any) => a - b),\n      keys\n    )(snippetList)\n\n    setSnippetList(prev => ({ ...prev, [`新標籤頁${last}`]: [] }))\n    setCategory(`新標籤頁${last}`)\n  }\n\n  const handleTabRemove = (targetKey: string) => {\n    confirm({\n      title: '確認要刪除此頁籤嗎？',\n      content: '刪除會連同模版資料一起刪除，確認繼續？',\n      onOk: () => {\n        setSnippetList(prev => omit([targetKey], prev))\n\n        if (category === targetKey) {\n          setCategory(\n            compose(\n              Rlast,\n              filter((key: string) => key !== targetKey),\n              keys\n            )(snippetList)\n          )\n        }\n      },\n    })\n  }\n\n  const handleTabNameChange = (targetKey: string) => (\n    evt: React.FocusEvent<HTMLSpanElement>\n  ) => {\n    const newTabName = evt.target.innerHTML\n\n    setSnippetList(prev =>\n      compose(\n        mergeAll,\n        map((key: string) => ({\n          [key === targetKey ? newTabName : key]: prev[key],\n        })),\n        keys\n      )(prev)\n    )\n    setCategory(newTabName)\n  }\n\n  const handleTabEdit = (\n    e:\n      | string\n      | React.MouseEvent<Element, MouseEvent>\n      | React.KeyboardEvent<Element>,\n    action: 'add' | 'remove'\n  ) => {\n    const handler = action === 'add' ? handleTabAdd : handleTabRemove\n\n    handler(e as string)\n  }\n\n  let snippetById: { [key: string]: SnippetProps } = {}\n\n  return {\n    category,\n    snippetList,\n    setCategory,\n    setSnippetList,\n    handleTabEdit,\n    handleTabChange,\n    handleTabMove,\n    handleTabAdd,\n    handleTabRemove,\n    handleTabNameChange,\n    handleSnippetUpdate,\n    total: compose(length, flatten, values)(snippetList),\n    snippetById: compose(\n      map((x: SnippetProps) => (snippetById[x.id] = x)),\n      flatten,\n      values\n    )(snippetList),\n  }\n}\n\n// 切換編輯/檢視模式\nexport function useReportPreview() {\n  const [isPreview, setIsPreview] = useRecoilState(reportPreviewState)\n\n  return [isPreview, () => setIsPreview(prev => !prev)] as [boolean, () => void]\n}\n\n// 更方便切換編輯/檢視模式\nexport function useToggleReportPreview(state: boolean = false) {\n  const [isPreview, setIsPreview] = useRecoilState(reportPreviewState)\n\n  React.useEffect(() => {\n    setIsPreview(state)\n\n    return () => {\n      setIsPreview(false)\n    }\n  }, [state]) // eslint-disable-line\n\n  return [isPreview, () => setIsPreview(prev => !prev)] as [boolean, () => void]\n}\n\nexport function useUpdateSnippet<T = ReportTemplateSetting>(options: {\n  item: SnippetProps\n  onUpdate: (data: any) => void\n  defaultValue?: any\n}) {\n  const { item, onUpdate, defaultValue = {} } = options\n\n  const [setting, setSetting] = React.useState<T>(\n    pathOr(defaultValue, ['setting'], item) as T\n  )\n\n  const handleOk = (values: T) => {\n    setSetting(values)\n    onUpdate({ ...item, setting: values })\n  }\n\n  return { setting, handleOk }\n}\n","import { ReactText } from 'react'\n\nexport const createFormItemLayout = (label: number = 3, wrapper?: number) => ({\n  labelCol: {\n    xs: { span: label },\n    sm: { span: label },\n  },\n  wrapperCol: {\n    xs: { span: wrapper || 24 - label },\n    sm: { span: wrapper || 24 - label },\n  },\n})\n\nexport const thosandSeprartor = {\n  formatter: (value: number | string | undefined) => {\n    if (!value) {\n      return value as string\n    }\n    return `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n  },\n  parser: (value: string | undefined) =>\n    (value ? value.replace(/\\$\\s?|(,*)/g, '') : value) as ReactText,\n}\n\nexport const currency = {\n  formatter: (value: number | string | undefined) => {\n    if (!value) {\n      return value as string\n    }\n    return `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n  },\n  parser: (value: string | undefined) =>\n    (value ? value.replace(/\\$\\s?|(,*)/g, '') : value) as ReactText,\n}\n\nexport const percent = {\n  // min: 0,\n  max: 100,\n  formatter: (value: number | string | undefined) => {\n    if (!value) {\n      return value as string\n    }\n    return `${value}%`\n  },\n  parser: (value: string | undefined) =>\n    (value ? value.replace('%', '') : value) as ReactText,\n}\n\nexport const rules = {\n  required: { required: true, message: '此欄位必填' },\n  number: {\n    required: false,\n    type: 'number',\n    message: '請填寫數字',\n    transform(value: any) {\n      if (!value) {\n        return value\n      }\n      return Number(value)\n    },\n  },\n  account: {\n    required: true,\n    message: '欄位長度為8~128字元,特殊符號-,_',\n    pattern: new RegExp(/^.{8,128}$/),\n  },\n  password: {\n    required: true,\n    message: '密碼長度為6~128字元',\n    pattern: new RegExp(/^.{6,128}$/),\n  },\n}\n","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\nexport function isFunction(input) {\n  return typeof input === 'function';\n}\nexport function noop() {// noop\n}\n\nfunction isObjectLike(input) {\n  return _typeof(input) === 'object' && input !== null;\n}\n\nexport function isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}","export function getDecoratedComponent(instanceRef) {\n  var currentRef = instanceRef.current;\n\n  if (currentRef == null) {\n    return null;\n  } else if (currentRef.decoratedRef) {\n    // go through the private field in decorateHandler to avoid the invariant hit\n    return currentRef.decoratedRef.current;\n  } else {\n    return currentRef;\n  }\n}\nexport function isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nexport function isRefForwardingComponent(C) {\n  var _item$$$typeof;\n\n  var item = C;\n  return (item === null || item === void 0 ? void 0 : (_item$$$typeof = item.$$typeof) === null || _item$$$typeof === void 0 ? void 0 : _item$$$typeof.toString()) === 'Symbol(react.forward_ref)';\n}\nexport function isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nexport function checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}","import React from 'react'\nimport { Checkbox } from 'antd'\nimport { CheckboxProps } from 'antd/lib/checkbox'\nimport styled from 'styled-components'\nimport { RefProps } from '@/constants/types'\n\nconst CheckboxGroup = Checkbox.Group\n\nconst StyledCheckbox = styled(Checkbox)`\n  .ant-checkbox-checked .ant-checkbox-inner {\n    background-color: ${p => p.theme.primary};\n    border-color: ${p => p.theme.primary};\n  }\n\n  &.ant-checkbox-wrapper:hover .ant-checkbox-inner,\n  .ant-checkbox:hover .ant-checkbox-inner,\n  .ant-checkbox-input:focus + .ant-checkbox-inner {\n    border-color: ${p => p.theme.primary};\n  }\n\n  .ant-checkbox-checked .ant-checkbox-inner:after {\n    border: 2px solid #fff;\n    border-top: 0;\n    border-left: 0;\n  }\n\n  .ant-checkbox-inner {\n    border: 1px solid ${p => p.theme.secondary};\n  }\n\n  &.is--normal {\n    font-size: 14px !important;\n    font-weight: normal !important;\n  }\n`\n\ntype Props = RefProps & CheckboxProps\n\nconst CheckboxComponent: React.ElementType<Props> = React.forwardRef<\n  typeof StyledCheckbox,\n  Props\n>(({ ...props }, ref) => <StyledCheckbox forwardRef={ref} {...props} />)\n\nCheckboxComponent.displayName = 'Checkbox'\n\nexport { CheckboxComponent as Checkbox, CheckboxGroup }\n\nexport default CheckboxComponent\n","export function shallowEqual<T>(\n  objA: T,\n  objB: T,\n  compare?: (a: T, b: T, key?: string) => boolean | void,\n  compareContext?: any\n) {\n  var compareResult = compare\n    ? compare.call(compareContext, objA, objB)\n    : void 0;\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = (objA as any)[key];\n    var valueB = (objB as any)[key];\n\n    compareResult = compare\n      ? compare.call(compareContext, valueA, valueB, key)\n      : void 0;\n\n    if (\n      compareResult === false ||\n      (compareResult === void 0 && valueA !== valueB)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import React from 'react'\nimport { Layout } from 'antd'\n\nexport default function AppFooter() {\n  return (\n    <Layout.Footer\n      className=\"pb-6 text-center text-gray-600 border-t border-gray-400\"\n      style={{ background: 'rgb(221, 228, 237)' }}>\n      2020 高雄榮總數位病理平台\n    </Layout.Footer>\n  )\n}\n","import React from 'react'\n\ntype Props = {\n  /**\n   * 開關 Modal 時希望處理的事情\n   */\n  onRequestOpen?: () => any\n}\n\nexport default function useVisible({ onRequestOpen }: Props = {}) {\n  const [visible, setVisible] = React.useState(false)\n\n  const handleVisible: any = (evt: React.MouseEvent<HTMLElement>) => {\n    setVisible(prev => !prev)\n\n    if (onRequestOpen) {\n      onRequestOpen()\n    }\n  }\n\n  const handleClose = () => {\n    setVisible(false)\n  }\n\n  return [visible, handleVisible, handleClose]\n}\n","import React from 'react'\nimport { Modal } from 'antd'\nimport { ModalProps, ModalFuncProps } from 'antd/lib/modal'\n\nexport const modalDefaultProps = (\n  content?: React.ReactNode,\n  props?: ModalProps\n): ModalFuncProps => ({\n  content: (\n    <div\n      className=\"text-darkGrey font-medium\"\n      css={{ marginTop: 16, marginBottom: 30 }}>\n      {content}\n    </div>\n  ),\n  icon: null,\n  width: 440,\n  okText: '刪除',\n  cancelText: '取消',\n  centered: true,\n  // maskStyle: {\n  //   background: theme.modal.maskDarken,\n  // },\n  autoFocusButton: null,\n  okButtonProps: {\n    className: 'c-btn is--danger',\n    style: { minWidth: 80, marginRight: 24 },\n  },\n  cancelButtonProps: {\n    className: 'c-btn is--outline mr-0 float-right',\n    style: { minWidth: 80 },\n  },\n  ...props,\n})\n\nexport const confirm = ({\n  onOk,\n  onCancel,\n  content = '刪除後將無法還原，確認繼續？',\n  ...props\n}: ModalFuncProps) => {\n  Modal.confirm({\n    ...modalDefaultProps(content),\n    ...props,\n    onOk: () => {\n      if (onOk) {\n        onOk()\n      }\n    },\n    onCancel() {\n      if (onCancel) {\n        onCancel()\n      }\n    },\n  })\n}\n","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}","import { cloneElement } from 'react';\nimport { invariant } from '@react-dnd/invariant';\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nexport function cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","import { isValidElement } from 'react';\nimport { cloneWithRef } from '../utils/cloneWithRef';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}","export default {\n  CARD: 'card',\n  BOARD: 'board',\n  SNIPPET: 'snippet',\n}\n","import React from 'react'\nimport { Layout } from 'antd'\nimport cx from 'classnames'\nimport AppFooter from '@/components/app-footer'\nimport theme from '../theme'\n\ninterface PageProps {\n  children: React.ReactNode\n  style?: React.CSSProperties\n  className?: string\n}\n\nexport function Page({ children, style, className = 'pr-16' }: PageProps) {\n  return (\n    <>\n      <Layout.Content\n        style={{\n          background: `linear-gradient(-90deg,#42c2b8,${theme.primary})`,\n        }}>\n        <div\n          className={cx('pl-8 pt-6 pb-12', className)}\n          style={style}\n          css={{\n            background: 'rgb(221, 228, 237)',\n            borderTopLeftRadius: 32,\n            borderTopRightRadius: 32,\n          }}>\n          {children}\n        </div>\n      </Layout.Content>\n      <AppFooter />\n    </>\n  )\n}\n","import React from 'react'\nimport { replace } from 'ramda'\nimport { envStore } from '@/constants/env'\n\nexport interface UseTitleOptions {\n  restoreOnUnmount?: boolean\n}\n\nconst DEFAULT_USE_TITLE_OPTIONS: UseTitleOptions = {\n  restoreOnUnmount: false,\n}\n\nfunction useTitle(\n  title: string,\n  options: UseTitleOptions = DEFAULT_USE_TITLE_OPTIONS\n) {\n  const prevTitleRef = React.useRef(document.title)\n  document.title = replace(/%s/, title)(envStore.appTitle)\n  React.useEffect(() => {\n    if (options && options.restoreOnUnmount) {\n      return () => {\n        document.title = prevTitleRef.current // eslint-disable-line\n      }\n    } else {\n      return\n    }\n  }, []) // eslint-disable-line\n}\n\nexport default typeof document !== 'undefined'\n  ? useTitle\n  : (_title: string) => {}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Modal } from 'antd'\nimport { ModalProps } from 'antd/lib/modal'\n\nconst StyledModal = styled(Modal)`\n  animation-duration: 0s !important;\n  transition: none !important;\n\n  .ant-modal-header--border-none {\n    border-bottom: none;\n  }\n\n  .ant-modal-footer {\n    padding-top: 14px;\n    padding-bottom: 14px;\n  }\n`\n\nexport default class ModalComponent extends React.Component<ModalProps, any> {\n  static confirm = Modal.confirm\n  static error = Modal.error\n  static success = Modal.success\n  static info = Modal.info\n\n  render() {\n    return <StyledModal {...this.props}>{this.props.children}</StyledModal>\n  }\n}\n","import React from 'react'\nimport { Table, Empty, Tooltip } from 'antd'\nimport { TableProps } from 'antd/lib/table'\nimport { CloseOutlined, PlusOutlined } from '@ant-design/icons'\nimport styled from 'styled-components'\n\nconst StyledTable: any = styled(Table)`\n  &.ant-table-wrapper {\n    .ant-pagination-prev .ant-pagination-item-link,\n    .ant-pagination-next .ant-pagination-item-link {\n      border-color: ${p => p.theme.pagination};\n      border-radius: 6px;\n      color: ${p => p.theme.pagination};\n    }\n\n    .ant-pagination-item {\n      border-color: ${p => p.theme.pagination};\n    }\n\n    .ant-pagination-item a {\n      color: ${p => p.theme.pagination};\n    }\n\n    .ant-pagination-item-active,\n    .ant-pagination-item-active:focus,\n    .ant-pagination-item:hover {\n      border-color: ${p => p.theme.pagination};\n      background: ${p => p.theme.pagination};\n\n      a {\n        color: #fff;\n      }\n    }\n\n    .ant-table-pagination.ant-pagination {\n      margin-top: 32px;\n    }\n\n    .ant-pagination-prev:hover .ant-pagination-item-link,\n    .ant-pagination-next:hover .ant-pagination-item-link {\n      border-color: ${p => p.theme.pagination};\n      background: ${p => p.theme.pagination};\n      color: #fff;\n    }\n\n    .ant-pagination-simple-pager {\n      color: ${p => p.theme.pagination};\n    }\n  }\n\n  .ant-table-tbody > tr > td {\n    height: 40px;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    line-height: 1em;\n    color: #4a4a4a;\n    background: #f0f2f5;\n    border-bottom: 1px solid #e9e9e9;\n  }\n\n  .ant-table-thead > tr > th {\n    background: rgb(39, 189, 179);\n    border-bottom: 1px solid #e9e9e9;\n    color: #fff;\n    font-weight: 600;\n    font-size: 16px;\n  }\n`\n\ntype Props<T> = TableProps<T> & {\n  editable?: boolean\n  isRowDeletable?: (row: T) => boolean\n  onAddRowClick?: (param?: any) => any\n  onDeleteRowClick?: (param?: any) => any\n  isCanEdit?: any\n}\n\nfunction TableComponent<T = any>({\n  editable = false,\n  columns = [],\n  onAddRowClick,\n  isRowDeletable = () => true,\n  onDeleteRowClick,\n  isCanEdit = '',\n  ...props\n}: Props<T>) {\n  const _columns = React.useMemo(() => {\n    let canEdit: boolean = true\n    if (!editable) {\n      return columns\n    }\n    if (isCanEdit !== '') {\n      canEdit = isCanEdit\n    }\n\n    const handleRowDelete = (key: React.Key) => () => {\n      if (onDeleteRowClick) {\n        onDeleteRowClick(key)\n      }\n    }\n\n    return [\n      {\n        title: (\n          <Tooltip placement=\"topLeft\" title=\"新增\">\n            <PlusOutlined\n              className=\"ml-1 relative\"\n              style={{ top: -3 }}\n              onClick={canEdit ? onAddRowClick : undefined}\n            />\n          </Tooltip>\n        ),\n        width: 50,\n        render: (_: any, __: any, idx: number) => (\n          <div className=\"text-center\">#{idx + 1}</div>\n        ),\n      },\n      ...columns,\n      {\n        width: 50,\n        render: (_: any, r: any, idx: number) => (\n          <Tooltip placement=\"topLeft\" title=\"刪除\">\n            <CloseOutlined\n              onClick={isRowDeletable(r) ? handleRowDelete(r.id) : undefined}\n            />\n          </Tooltip>\n        ),\n      },\n    ]\n  }, [columns, editable]) // eslint-disable-line\n\n  return (\n    <StyledTable\n      columns={_columns}\n      locale={{\n        emptyText: (\n          <Empty\n            image={Empty.PRESENTED_IMAGE_SIMPLE}\n            description={\n              <span>\n                <span className=\"d-block\">\n                  尚無資料，請點選「＋新增」新增資料。\n                </span>\n              </span>\n            }\n          />\n        ),\n      }}\n      {...props}>\n      {props.children}\n    </StyledTable>\n  )\n}\n\nTableComponent.displayName = 'Table'\nTableComponent.Column = Table.Column\n\nexport default TableComponent\n","import React from 'react'\nimport { Select } from 'antd'\nimport { SelectProps } from 'antd/lib/select'\nimport styled from 'styled-components'\n\nconst StyledSelect: any = styled(Select)`\n  &.ant-select {\n    &.ant-select-single:not(.ant-select-customize-input) .ant-select-selector,\n    .ant-select-selection:hover,\n    .ant-select-selection:active,\n    .ant-select-selection:focus {\n      border-color: ${p => p.theme.primary};\n    }\n\n    .ant-select-selection {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    .ant-select-selection:active,\n    .ant-select-selection:focus {\n      box-shadow: none;\n    }\n\n    .ant-select-arrow {\n      color: ${p => p.theme.primary};\n    }\n\n    .ant-select-arrow-icon {\n      position: relative;\n      top: -1px;\n      font-size: 14px;\n    }\n\n    &.ant-select-borderless .ant-select-selector {\n      position: relative;\n      bottom: 1px;\n      border: 0;\n      border-bottom: 1px solid ${p => p.theme.primary} !important;\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n    }\n  }\n\n  &.ant-select.is--outline {\n    > .ant-select-selector {\n      background: transparent;\n      border: 1px solid #fff;\n      color: #fff;\n\n      &:active,\n      &:focus,\n      &:hover {\n        border: 1px solid #fff;\n      }\n    }\n\n    .ant-select-selection-placeholder,\n    .ant-select-arrow {\n      color: #fff;\n    }\n\n    .ant-select-selection-placeholder {\n      opacity: 1;\n      left: 30%;\n    }\n  }\n\n  &.ant-select.is--transparent {\n    &.ant-select-focused > .ant-select-selector {\n      border: 1px solid #666a8f;\n    }\n\n    > .ant-select-selector {\n      background: transparent;\n      border: 1px solid #666a8f;\n      color: #a9b6d8;\n\n      &:active,\n      &:focus,\n      &:hover {\n        border: 1px solid #666a8f;\n      }\n    }\n\n    .ant-select-arrow {\n      color: #a9b6d8;\n    }\n  }\n`\n\nclass SelectComponent<T = any> extends React.Component<SelectProps<T>, any> {\n  public static Option = Select.Option\n\n  public static displayName = 'Select'\n\n  render() {\n    return <StyledSelect {...this.props}>{this.props.children}</StyledSelect>\n  }\n}\n\nexport default SelectComponent\n","import React from 'react'\nimport { ModalProps as AntModalProps } from 'antd/lib/modal'\nimport Modal from '@/components/modal'\nimport Button from '@/components/button'\n\nexport interface ModalProps<T = any>\n  extends Omit<AntModalProps, 'onOk' | 'onCancel'> {\n  item?: T\n  onOk?: (data?: any) => void\n  onCancel: () => void\n  children?: React.ReactNode\n}\n\nfunction TemplateModal<T = any>({\n  onCancel,\n  onOk,\n  item,\n  children,\n  ...props\n}: ModalProps<T>) {\n  const handleOk = () => {\n    if (onOk) {\n      onOk()\n    }\n  }\n  return (\n    <Modal\n      visible\n      onCancel={onCancel}\n      width={650}\n      maskClosable={false}\n      keyboard={false}\n      footer={[\n        <Button\n          key=\"btn-cancel\"\n          color=\"outline\"\n          style={{ minWidth: 80, marginRight: 16 }}\n          onClick={onCancel}>\n          取消\n        </Button>,\n        <Button\n          key=\"btn-save\"\n          color=\"primary\"\n          style={{ minWidth: 80 }}\n          onClick={handleOk}>\n          儲存\n        </Button>,\n      ]}\n      {...props}>\n      {children}\n    </Modal>\n  )\n}\n\nexport { TemplateModal as Modal }\n\nexport default TemplateModal\n","import React from 'react'\nimport cx from 'classnames'\nimport { Card } from 'antd'\nimport { CardProps } from 'antd/lib/card'\nimport { FontColorsOutlined } from '@ant-design/icons'\nimport styled from 'styled-components'\nimport { useReportPreview } from '@/hooks/useReportTemplate'\nimport { isNil } from '@/utils/webHelper'\n\nconst StyledCard = styled(Card)`\n  &.ant-card {\n    border-radius: 10px;\n    border: none;\n    cursor: move;\n  }\n\n  .ant-card-head {\n    padding-left: 18px;\n    border-bottom: none;\n    color: ${p => p.theme.primary};\n    font-size: 14px;\n    font-weight: 600;\n  }\n\n  &.ant-card-head--hide .ant-card-head {\n    display: none;\n  }\n\n  &.ant-card-body--hide {\n    .ant-card-head {\n      padding-bottom: 16px;\n      border-bottom: 1px dashed #f0f0f0;\n    }\n\n    .ant-card-body {\n      display: none;\n    }\n  }\n\n  &.is--preview .ant-card-head {\n    min-height: auto;\n  }\n\n  &.is--preview .ant-card-head-title {\n    padding-top: 0;\n  }\n\n  &.is--preview .ant-card-body {\n    padding-top: 12px;\n    padding-bottom: 8px;\n  }\n\n  .ant-card-head-title {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding-bottom: 0;\n  }\n\n  .ant-card-body {\n    padding-top: 6px;\n    padding-left: 26px;\n    padding-bottom: 20px;\n  }\n`\n\ninterface Props extends CardProps {\n  titleVisible?: boolean\n  bodyVisible?: boolean\n  onEdit?: () => void\n  onDelete?: () => void\n}\n\nfunction TemplateWrapper({\n  title,\n  children,\n  onDelete,\n  onEdit,\n  titleVisible = false,\n  bodyVisible = true,\n  ...props\n}: Props) {\n  const [isPreview] = useReportPreview()\n\n  return (\n    <StyledCard\n      title={\n        <div className=\"flex items-center\">\n          {!isPreview && <FontColorsOutlined className=\"mr-3\" />}\n          {title || '預設標題 (可點鉛筆圖示可進行編輯)'}\n        </div>\n      }\n      className={cx({\n        'ant-card-head--hide': isNil(title) && !titleVisible,\n        'ant-card-body--hide': !bodyVisible,\n        // 'is--preview': isPreview,\n      })}\n      {...props}>\n      {children}\n    </StyledCard>\n  )\n}\n\nexport default TemplateWrapper\n","import React from 'react'\nimport { Form } from 'antd'\nimport { Input, TextArea } from '@/components/input'\nimport Checkbox from '@/components/checkbox'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateSetting, ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\n\ninterface Setting extends ReportTemplateSetting {\n  defaultValue?: string\n  multipleLine?: boolean\n}\n\nexport default function ReportTemplateInputText(props: ReportTemplateProps) {\n  const { editModalVisible, handleEditModalVisible, onUpdate, item } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({ item, onUpdate })\n\n  const inputProps = {\n    bordered: false,\n    className: 'w-2/3',\n    placeholder: setting.tooltip || '輸入內容',\n    defaultValue: setting.defaultValue,\n  }\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputTextModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          {setting.multipleLine ? (\n            <TextArea {...inputProps} autoSize={{ minRows: 3 }} />\n          ) : (\n            <Input {...inputProps} />\n          )}\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputTextModal({\n  onOk,\n  onCancel,\n  item,\n  ...props\n}: ModalProps<Setting>) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal<Setting>\n      {...props}\n      title={\n        <>\n          <div>\n            Text\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for description something.\n            </div>\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Default Value\" name=\"defaultValue\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n        <Form.Item\n          label=\"Multiple Lines\"\n          name=\"multipleLine\"\n          valuePropName=\"checked\">\n          <Checkbox />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { InputNumber } from 'antd'\nimport { InputNumberProps } from 'antd/lib/input-number'\nimport styled from 'styled-components'\nimport { RefProps } from '@/constants/types'\nimport { percent, currency, thosandSeprartor } from '@/utils/form'\n\ntype Props = RefProps & InputNumberProps & { bordered?: boolean }\n\nconst StyledInputNumber = styled(InputNumber).attrs({\n  min: 0 as any, // dont know why error\n})<Props>`\n  &.ant-input-number {\n    border-color: ${p => p.theme.primary};\n\n    ::placeholder {\n      color: red;\n    }\n  }\n\n  &.ant-input-number-focused,\n  &.ant-input-number:focus,\n  &.ant-input-number:hover {\n    border-color: ${p => p.theme.primary};\n  }\n\n  &.ant-input-number-focused:not(.ant-input-number-borderless),\n  &.ant-input-number:focus:not(.ant-input-number-borderless) {\n    box-shadow: 0 0 0 1px ${p => p.theme.primary};\n  }\n\n  &.ant-input-number-borderless,\n  &.ant-input-number-borderless:hover,\n  &.ant-input-number-borderless:focus,\n  &.ant-input-number-borderless-focused,\n  &.ant-input-number-borderless-disabled,\n  &.ant-input-number-borderless[disabled] {\n    border: none;\n    border-bottom: 1px solid ${p => p.theme.primary};\n  }\n`\n\nexport const ThousandSeprartorInput = React.forwardRef<\n  typeof InputNumber,\n  Props\n>(({ ...props }, ref) => (\n  <StyledInputNumber forwardRef={ref} {...props} {...thosandSeprartor} />\n))\n\nexport const CurrencyInput = React.forwardRef<typeof InputNumber, Props>(\n  ({ ...props }, ref) => (\n    <StyledInputNumber forwardRef={ref} {...props} {...currency} />\n  )\n)\n\nexport const PercentInput = React.forwardRef<typeof InputNumber, Props>(\n  ({ ...props }, ref) => (\n    <StyledInputNumber forwardRef={ref} {...props} {...percent} />\n  )\n)\n\nThousandSeprartorInput.displayName = 'ThousandSeprartorInput'\n\nCurrencyInput.displayName = 'CurrencyInput'\n\nPercentInput.displayName = 'PercentInput'\n\nexport { StyledInputNumber as InputNumber }\n\nexport default StyledInputNumber\n","import React from 'react'\nimport { Form } from 'antd'\nimport Input from '@/components/input'\nimport InputNumber from '@/components/input-number'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateSetting, ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\n\ninterface Setting extends ReportTemplateSetting {\n  defaultValue?: number\n  max?: number\n  min?: number\n  units?: string\n}\n\nexport default function ReportTemplateInputNumber(props: ReportTemplateProps) {\n  const { editModalVisible, handleEditModalVisible, item, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({ item, onUpdate })\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputNumberModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <InputNumber\n            style={{ width: '33.333333%' }}\n            className=\"ant-input-number-borderless\"\n            defaultValue={setting.defaultValue}\n            min={setting.min}\n            max={setting.max}\n            formatter={value => `${setting.units || ''} ${value}`}\n            placeholder={setting.tooltip || '輸入數值'}\n          />\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputNumberModal({ onOk, onCancel, item, ...props }: ModalProps) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal\n      {...props}\n      title={\n        <>\n          <div>\n            Number\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for input number.\n            </div>\n          </div>\n        </>\n      }\n      onOk={handleOk}\n      onCancel={onCancel}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Default Value\" name=\"defaultValue\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Minimum Value\" name=\"min\">\n          <InputNumber />\n        </Form.Item>\n        <Form.Item label=\"Maximum Value\" name=\"max\">\n          <InputNumber />\n        </Form.Item>\n        <Form.Item label=\"Units\" name=\"units\">\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","// tslint:disable: quotemark no-implicit-dependencies no-shadowed-variable no-var-requires\nimport React from 'react'\nimport { TableProps } from 'antd/lib/table'\nimport { FormInstance } from 'antd/lib/form'\nimport Table from '@/components/table'\n\ntype EditableTableProps<T> = Omit<TableProps<T>, 'onChange'> & {\n  value?: T[]\n  form: FormInstance\n  onChange?(changedValue: T[] | null): void\n  onRowAdd: (form: FormInstance) => any\n  onRowDelete: (value: { id: React.Key; form: FormInstance }) => any\n}\n\nexport default function EditableTable<T = any>({\n  form,\n  value,\n  onChange,\n  onRowAdd,\n  onRowDelete,\n  ...props\n}: EditableTableProps<T>) {\n  const triggerChange = (changedValue: T[]) => {\n    if (onChange) {\n      onChange(changedValue)\n    }\n  }\n\n  const handleAdd = () => {\n    triggerChange(onRowAdd(form))\n  }\n\n  const handleDelete = (id: string) => {\n    triggerChange(onRowDelete({ id, form }))\n  }\n\n  return (\n    <Table\n      {...props}\n      rowKey=\"id\"\n      pagination={false}\n      size=\"small\"\n      dataSource={value as any}\n      onAddRowClick={handleAdd}\n      onDeleteRowClick={handleDelete}\n      editable={true}\n    />\n  )\n}\n","import React from 'react'\nimport { Form } from 'antd'\nimport { ColumnProps } from 'antd/lib/table'\nimport { FormInstance } from 'antd/lib/form'\nimport { concat, __, pathOr, invoker, filter } from 'ramda'\nimport Input from '@/components/input'\nimport Checkbox from '@/components/checkbox'\nimport EditableTable from '@/components/editable-table'\nimport { uuid } from '@/utils/webHelper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateSetting } from '@/constants/types'\nimport { Modal, ModalProps } from './report-template-modal'\nconst { compose } = require('ramda')\n\nexport interface Setting extends ReportTemplateSetting {\n  options?: Option[]\n}\n\nexport type Option = {\n  id: React.Key\n  text?: string\n  selected?: boolean\n  freetext?: boolean\n}\n\nexport const defaultValue: Setting = {\n  options: [\n    {\n      id: uuid(),\n      text: '預設選項 1',\n      selected: true,\n      freetext: false,\n    },\n    {\n      id: uuid(),\n      text: '預設選項 2',\n      selected: true,\n      freetext: false,\n    },\n    {\n      id: uuid(),\n      text: '預設選項 3',\n      selected: true,\n      freetext: false,\n    },\n  ],\n}\n\nexport function TemplateSelectionModal({\n  onCancel,\n  onOk,\n  item,\n  ...props\n}: ModalProps) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  const handleRowAdd = (form: FormInstance) => {\n    return compose(\n      concat(__, [\n        {\n          id: uuid(),\n          text: undefined,\n          selected: true,\n          freetext: false,\n        },\n      ]),\n      pathOr([], ['options']),\n      invoker(0, 'getFieldsValue')()\n    )(form)\n  }\n\n  const handleRowDelete = ({\n    id,\n    form,\n  }: {\n    id: React.Key\n    form: FormInstance\n  }) => {\n    return compose(\n      filter((x: any) => x.id !== id),\n      pathOr([], ['options']),\n      invoker(0, 'getFieldsValue')()\n    )(form)\n  }\n\n  const columns: ColumnProps<Option>[] = [\n    {\n      title: '選項名稱',\n      render: (v, r, idx) => (\n        <Form.Item noStyle name={['options', idx, 'text']}>\n          <Input />\n        </Form.Item>\n      ),\n    },\n    {\n      title: '是否可選',\n      align: 'center',\n      render: (v, r, idx) => (\n        <Form.Item\n          noStyle\n          name={['options', idx, 'selected']}\n          valuePropName=\"checked\">\n          <Checkbox />\n        </Form.Item>\n      ),\n    },\n    {\n      title: '是否可輸入',\n      align: 'center',\n      render: (v, r, idx) => (\n        <Form.Item\n          noStyle\n          name={['options', idx, 'freetext']}\n          valuePropName=\"checked\">\n          <Checkbox />\n        </Form.Item>\n      ),\n    },\n  ]\n\n  return (\n    <Modal\n      {...props}\n      title={\n        <>\n          <div>Single Selection List</div>\n          <div className=\"mt-1 text-sm text-gray-600\">\n            Typically used for shorter lists so that all responses are visible\n            as radio buttons. Only allow a single selection.\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(3, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Options\" />\n        <Form.Item noStyle name=\"options\">\n          <EditableTable\n            columns={columns}\n            form={form}\n            onRowAdd={handleRowAdd}\n            onRowDelete={handleRowDelete}\n          />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { Form } from 'antd'\nimport cx from 'classnames'\nimport { pathOr } from 'ramda'\nimport { Checkbox, CheckboxGroup } from '@/components/checkbox'\nimport Input from '@/components/input'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport {\n  TemplateSelectionModal,\n  Setting,\n  Option,\n  defaultValue,\n} from '@/components/report-template-selection-modal'\nimport { mapIndexed } from '@/utils/webHelper'\nimport { ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\nconst { compose } = require('ramda')\n\nfunction ReportTemplateMultipleSelection(props: ReportTemplateProps) {\n  const { item, editModalVisible, handleEditModalVisible, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({\n    item,\n    onUpdate,\n    defaultValue,\n  })\n\n  return (\n    <>\n      {editModalVisible && (\n        <TemplateSelectionModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n          title={\n            <>\n              <div>Multiple Selection List</div>\n              <div className=\"mt-1 text-sm text-gray-600\">\n                typically used for shorter lists so that all responses are\n                visible as checkboxes. Allows Multiple selections.\n              </div>\n            </>\n          }\n        />\n      )}\n      <TemplateWrapper\n        title={setting.text || ''}\n        bodyStyle={{ paddingLeft: 36 }}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <CheckboxGroup>\n            {compose(\n              mapIndexed((x: Option, idx: number) => (\n                <Checkbox\n                  key={x.id}\n                  className={cx('block ml-0', { 'mt-1': idx > 0 })}\n                  defaultChecked={false}\n                  value={`${idx}`}>\n                  {x.text}\n                  {x.freetext && (\n                    <Input\n                      bordered={false}\n                      size=\"small\"\n                      placeholder=\"輸入備註\"\n                      className=\"ml-4 w-1/3\"\n                    />\n                  )}\n                </Checkbox>\n              )),\n              pathOr([], ['options'])\n            )(setting)}\n          </CheckboxGroup>\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nexport default ReportTemplateMultipleSelection\n","import React from 'react'\nimport { Radio } from 'antd'\nimport { RadioProps } from 'antd/lib/radio'\nimport styled from 'styled-components'\n\nconst StyledRadio = styled(Radio)`\n  &.ant-radio-wrapper {\n    color: ${p => p.theme.darkGrey};\n\n    span.ant-radio + * {\n      padding-left: 16px;\n    }\n\n    .ant-radio-inner,\n    .ant-radio-checked .ant-radio-inner {\n      border-color: ${p => p.theme.primary};\n    }\n\n    .ant-radio-inner::after {\n      background: ${p => p.theme.primary};\n    }\n\n    &:hover,\n    .ant-radio:hover .ant-radio-inner,\n    .ant-radio-input:focus + .ant-radio-inner {\n      border-color: ${p => p.theme.primary};\n    }\n  }\n`\n\ninterface Props extends RadioProps {\n  css?: React.CSSProperties\n}\n\nclass RadioComponent extends React.Component<Props, any> {\n  public static Group = Radio.Group\n\n  public static displayName = 'Radio'\n\n  public render() {\n    return <StyledRadio {...this.props} />\n  }\n}\n\nexport default RadioComponent\n","import React from 'react'\nimport cx from 'classnames'\nimport { Form } from 'antd'\nimport { pathOr } from 'ramda'\nimport Radio from '@/components/radio'\nimport Input from '@/components/input'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport {\n  TemplateSelectionModal,\n  Setting,\n  Option,\n  defaultValue,\n} from '@/components/report-template-selection-modal'\nimport { mapIndexed } from '@/utils/webHelper'\nimport { ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\nconst { compose } = require('ramda')\n\nfunction ReportTemplateSingleSelection(props: ReportTemplateProps) {\n  const { item, editModalVisible, handleEditModalVisible, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({\n    item,\n    onUpdate,\n    defaultValue,\n  })\n\n  return (\n    <>\n      {editModalVisible && (\n        <TemplateSelectionModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper\n        title={setting.text || ''}\n        bodyStyle={{ paddingLeft: 36 }}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <Radio.Group>\n            {compose(\n              mapIndexed((x: Option, idx: number) => (\n                <Radio\n                  key={x.id}\n                  className={cx('block', { 'mt-1': idx > 0 })}\n                  defaultChecked={false}\n                  value={`${idx}`}>\n                  {x.text}\n                  {x.freetext && (\n                    <Input\n                      size=\"small\"\n                      bordered={false}\n                      placeholder=\"輸入備註\"\n                      className=\"ml-3 w-1/3\"\n                    />\n                  )}\n                </Radio>\n              )),\n              pathOr([], ['options'])\n            )(setting)}\n          </Radio.Group>\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nexport default ReportTemplateSingleSelection\n","import React from 'react'\nimport styled, { css } from 'styled-components'\nimport { DatePicker, TimePicker } from 'antd'\nimport { DatePickerProps } from 'antd/lib/date-picker'\n\nconst borderLess = css`\n  &.ant-picker-borderless {\n    border: none;\n    border-bottom: 1px solid ${p => p.theme.primary} !important;\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  &.ant-picker-focused:not(.ant-picker-borderless) {\n    box-shadow: 0 0 0 1px ${p => p.theme.primary};\n  }\n`\n\nconst RangePicker = styled(DatePicker.RangePicker)`\n  &.ant-picker {\n    border: 1px solid ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    &.ant-picker-focused {\n      box-shadow: 0 0 0 1px ${p => p.theme.primary};\n    }\n  }\n`\n\nconst StyledDatePicker: any = styled(DatePicker)`\n  &.ant-picker {\n    border: 1px solid ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    .ant-picker-suffix {\n      color: ${p => p.theme.primary};\n    }\n\n    ${borderLess};\n  }\n`\n\nconst StyledTimePicker = styled(TimePicker)`\n  &.ant-picker {\n    border: 1px solid ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    .ant-picker-suffix {\n      color: ${p => p.theme.primary};\n    }\n\n    ${borderLess};\n  }\n`\n\nfunction DatePickerComponent(props: DatePickerProps) {\n  return <StyledDatePicker {...props} />\n}\n\nexport {\n  DatePickerComponent as DatePicker,\n  RangePicker,\n  StyledTimePicker as TimePicker,\n}\n\nexport default DatePickerComponent\n","import React from 'react'\nimport { Form } from 'antd'\nimport Input from '@/components/input'\nimport DatePicker from '@/components/datepicker'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\n\ntype Setting = {\n  text?: string\n  defaultValue?: moment.Moment\n  tooltip?: string\n}\n\nexport default function ReportTemplateDate(props: ReportTemplateProps) {\n  const { editModalVisible, handleEditModalVisible, item, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({ item, onUpdate })\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputDateModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <DatePicker\n            bordered={false}\n            className=\"w-1/3\"\n            placeholder={setting.tooltip || '選擇日期'}\n            defaultValue={setting.defaultValue}\n          />\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputDateModal({\n  onOk,\n  onCancel,\n  item,\n  ...props\n}: ModalProps<Setting>) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal<Setting>\n      {...props}\n      title={\n        <>\n          <div>\n            Date\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for target date.\n            </div>\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Default Value\" name=\"defaultValue\">\n          <DatePicker allowClear picker=\"date\" className=\"w-full\" />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { Form } from 'antd'\nimport Input from '@/components/input'\nimport { TimePicker } from '@/components/datepicker'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateSetting, ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\n\ninterface Setting extends ReportTemplateSetting {\n  defaultValue?: moment.Moment\n}\n\nexport default function ReportTemplateTime(props: ReportTemplateProps) {\n  const { editModalVisible, handleEditModalVisible, item, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({ item, onUpdate })\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputTimeModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <TimePicker\n            bordered={false}\n            className=\"w-1/3\"\n            placeholder={setting.tooltip || '選擇時間'}\n            defaultValue={setting.defaultValue}\n          />\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputTimeModal({\n  onOk,\n  onCancel,\n  item,\n  ...props\n}: ModalProps<Setting>) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal<Setting>\n      {...props}\n      title={\n        <>\n          <div>\n            Time\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for target time.\n            </div>\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Default Value\" name=\"defaultValue\">\n          <TimePicker allowClear format=\"HH:mm\" className=\"w-full\" />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { pathOr, map } from 'ramda'\nimport { Form } from 'antd'\nimport Select from '@/components/select'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport {\n  TemplateSelectionModal,\n  Option,\n  defaultValue,\n} from '@/components/report-template-selection-modal'\nimport { ReportTemplateSetting, ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\nconst { compose } = require('ramda')\n\ninterface Setting extends ReportTemplateSetting {\n  options?: Option[]\n  selectionType?: 'single' | 'multiple'\n}\n\nexport default function ReportTemplateSelect(props: ReportTemplateProps) {\n  const { item, editModalVisible, handleEditModalVisible, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({\n    item,\n    onUpdate,\n    defaultValue,\n  })\n\n  return (\n    <>\n      {editModalVisible && (\n        <TemplateSelectionModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n          title={\n            <>\n              <div>Drop-down List</div>\n              <div className=\"mt-1 text-sm text-gray-600\">\n                typically used for lists of greater than 6 or 7 options.\n              </div>\n            </>\n          }\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <Select\n            allowClear\n            bordered={false}\n            className=\"w-1/3\"\n            placeholder={setting.tooltip || '請選擇...'}>\n            {compose(\n              map((x: Option) => (\n                <Select.Option key={x.id} value={x.text as any}>\n                  {x.text}\n                </Select.Option>\n              )),\n              pathOr([], ['options'])\n            )(setting)}\n          </Select>\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n","import React from 'react'\nimport { Form } from 'antd'\nimport Input from '@/components/input'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport useVisible from '@/hooks/useVisible'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateSetting } from '@/constants/types'\n\ntype Props = {}\n\ninterface Setting extends ReportTemplateSetting {}\n\nexport default function TemplateSectionHeader(props: Props) {\n  const [setting, setSetting] = React.useState<Setting>({})\n\n  const [editModalVisible, handleEditModalVisible] = useVisible()\n\n  const handleOk = (values: Setting) => {\n    setSetting(values)\n  }\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputTextModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper\n        titleVisible\n        bodyVisible={false}\n        title={setting.text}\n        onEdit={handleEditModalVisible}></TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputTextModal({\n  onOk,\n  onCancel,\n  item,\n  ...props\n}: ModalProps<Setting>) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal<Setting>\n      {...props}\n      title={\n        <>\n          <div>\n            Section Header\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for section.\n            </div>\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import { map, mergeAll } from 'ramda'\nimport {\n  CalendarOutlined,\n  ClockCircleOutlined,\n  OrderedListOutlined,\n  UnorderedListOutlined,\n  FontSizeOutlined,\n  DatabaseOutlined,\n  NumberOutlined,\n  BoldOutlined,\n} from '@ant-design/icons'\nimport { uuid } from '@/utils/webHelper'\nimport TemplateInputText from '@/components/report-template-input-text'\nimport TemplateInputNumber from '@/components/report-template-input-number'\nimport TemplateMultipleSelection from '@/components/report-template-multiple-selection'\nimport TemplateSingleSelection from '@/components/report-template-single-selection'\nimport TemplateDate from '@/components/report-template-date'\nimport TemplateTime from '@/components/report-template-time'\nimport TemplateSelect from '@/components/report-template-select'\nimport TempldateSectionHeader from '@/components/report-template-section-header'\nconst { compose } = require('ramda')\n\ninterface ReportTemplateListItem {\n  id: React.Key\n  type: string\n  name: string\n  Component: React.Component\n}\n\nconst reportTemplateList = [\n  {\n    id: uuid(),\n    componentType: 'header',\n    name: 'Section Header',\n    icon: BoldOutlined,\n    Component: TempldateSectionHeader,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateInputText',\n    name: 'Text',\n    icon: FontSizeOutlined,\n    Component: TemplateInputText,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateInputNumber',\n    name: 'Number',\n    icon: NumberOutlined,\n    Component: TemplateInputNumber,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateSelect',\n    name: 'Drop-down List',\n    icon: DatabaseOutlined,\n    Component: TemplateSelect,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateMultipleSelection',\n    name: 'Multiple Selection List',\n    icon: UnorderedListOutlined,\n    Component: TemplateMultipleSelection,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateSingleSelection',\n    name: 'Single Selection List',\n    icon: OrderedListOutlined,\n    Component: TemplateSingleSelection,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateDate',\n    name: 'Date',\n    icon: CalendarOutlined,\n    Component: TemplateDate,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateTime',\n    name: 'Time',\n    icon: ClockCircleOutlined,\n    Component: TemplateTime,\n  },\n]\n\nexport const reportTemplateById = compose(\n  mergeAll,\n  map((x: ReportTemplateListItem) => ({ [x.type]: x }))\n)(reportTemplateList)\n\nexport default reportTemplateList\n","export * from './monitors';\nexport * from './hooksApi';\nexport * from './options';\nexport * from './connectors';","export * from './DragSource';\nexport * from './DropTarget';\nexport * from './DragLayer';\nexport * from './interfaces';","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isValidType(type, allowArray) {\n  return typeof type === 'string' || _typeof(type) === 'symbol' || !!allowArray && Array.isArray(type) && type.every(function (t) {\n    return isValidType(t, false);\n  });\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../common/DndContext';\nimport { isPlainObject } from '../utils/js_utils';\nimport { isRefable, checkDecoratorArguments } from './utils';\nexport function DragLayer(collect) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  checkDecoratorArguments('DragLayer', 'collect[, options]', collect, options);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. ' + 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);\n  return function decorateLayer(DecoratedComponent) {\n    var Decorated = DecoratedComponent;\n    var _options$arePropsEqua = options.arePropsEqual,\n        arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n    var displayName = Decorated.displayName || Decorated.name || 'Component';\n\n    var DragLayerContainer =\n    /** @class */\n    function () {\n      var DragLayerContainer = /*#__PURE__*/function (_React$Component) {\n        _inherits(DragLayerContainer, _React$Component);\n\n        var _super = _createSuper(DragLayerContainer);\n\n        function DragLayerContainer() {\n          var _this;\n\n          _classCallCheck(this, DragLayerContainer);\n\n          _this = _super.apply(this, arguments);\n          _this.isCurrentlyMounted = false;\n          _this.ref = React.createRef();\n\n          _this.handleChange = function () {\n            if (!_this.isCurrentlyMounted) {\n              return;\n            }\n\n            var nextState = _this.getCurrentState();\n\n            if (!shallowEqual(nextState, _this.state)) {\n              _this.setState(nextState);\n            }\n          };\n\n          return _this;\n        }\n\n        _createClass(DragLayerContainer, [{\n          key: \"getDecoratedComponentInstance\",\n          value: function getDecoratedComponentInstance() {\n            invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n            return this.ref.current;\n          }\n        }, {\n          key: \"shouldComponentUpdate\",\n          value: function shouldComponentUpdate(nextProps, nextState) {\n            return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n          }\n        }, {\n          key: \"componentDidMount\",\n          value: function componentDidMount() {\n            this.isCurrentlyMounted = true;\n            this.handleChange();\n          }\n        }, {\n          key: \"componentWillUnmount\",\n          value: function componentWillUnmount() {\n            this.isCurrentlyMounted = false;\n\n            if (this.unsubscribeFromOffsetChange) {\n              this.unsubscribeFromOffsetChange();\n              this.unsubscribeFromOffsetChange = undefined;\n            }\n\n            if (this.unsubscribeFromStateChange) {\n              this.unsubscribeFromStateChange();\n              this.unsubscribeFromStateChange = undefined;\n            }\n          }\n        }, {\n          key: \"render\",\n          value: function render() {\n            var _this2 = this;\n\n            return React.createElement(DndContext.Consumer, null, function (_ref) {\n              var dragDropManager = _ref.dragDropManager;\n\n              if (dragDropManager === undefined) {\n                return null;\n              }\n\n              _this2.receiveDragDropManager(dragDropManager); // Let componentDidMount fire to initialize the collected state\n\n\n              if (!_this2.isCurrentlyMounted) {\n                return null;\n              }\n\n              return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.state, {\n                ref: isRefable(Decorated) ? _this2.ref : null\n              }));\n            });\n          }\n        }, {\n          key: \"receiveDragDropManager\",\n          value: function receiveDragDropManager(dragDropManager) {\n            if (this.manager !== undefined) {\n              return;\n            }\n\n            this.manager = dragDropManager;\n            invariant(_typeof(dragDropManager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n            var monitor = this.manager.getMonitor();\n            this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n            this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n          }\n        }, {\n          key: \"getCurrentState\",\n          value: function getCurrentState() {\n            if (!this.manager) {\n              return {};\n            }\n\n            var monitor = this.manager.getMonitor();\n            return collect(monitor, this.props);\n          }\n        }]);\n\n        return DragLayerContainer;\n      }(React.Component);\n\n      DragLayerContainer.displayName = \"DragLayer(\".concat(displayName, \")\");\n      DragLayerContainer.DecoratedComponent = DecoratedComponent;\n      return DragLayerContainer;\n    }();\n\n    return hoistStatics(DragLayerContainer, DecoratedComponent);\n  };\n}","import { includes } from 'ramda'\nimport { XYCoord } from 'react-dnd'\nimport { isNil } from '@/utils/webHelper'\n\n/* prettier-ignore */\nconst REPORT_TEMPLATE_BUILDER_CLASSNAME = 'report-template-builder__main-content'\nconst UI_DRAGGABLE_CLASSNAME = 'ui-draggable'\n\nconst hasClassName = (nodes: Element[], className: string) => {\n  return nodes.find(\n    n => !isNil(n.className) && includes(className)(n.className)\n  )\n}\n\nexport function canMoveSnippet(\n  element: Element | null,\n  className = REPORT_TEMPLATE_BUILDER_CLASSNAME\n) {\n  let elem = element\n\n  const nodes: Element[] = []\n  nodes.push(elem as Element)\n\n  while (elem?.parentNode) {\n    nodes.unshift(elem.parentNode as Element)\n    elem = elem.parentNode as Element\n  }\n\n  if (\n    hasClassName(nodes, 'report-template-builder-contentarea--fixed-layout') ||\n    hasClassName(nodes, 'snippet-drawer-menu')\n  ) {\n    return false\n  }\n  if (\n    hasClassName(nodes, className) ||\n    hasClassName(nodes, UI_DRAGGABLE_CLASSNAME)\n  ) {\n    return true\n  }\n\n  return false\n}\n\nfunction findSnippet(\n  element: HTMLElement,\n  className = UI_DRAGGABLE_CLASSNAME\n): HTMLElement | null {\n  if (element.classList.contains(className)) {\n    return element\n  }\n  return element.parentElement && findSnippet(element.parentElement, className)\n}\n\nexport function getPlaceHolderIndex(clientOffset: XYCoord) {\n  const hoverElement = document.elementFromPoint(clientOffset.x, clientOffset.y)\n\n  // find ui-draggable classname\n  const overSnippet = findSnippet(hoverElement as NonNullable<HTMLElement>)\n\n  const snippetIndex = overSnippet && overSnippet.dataset.index\n  const placeholderIndex = overSnippet ? Number(overSnippet.dataset.index) : -1\n\n  const isOverSnippet = !isNil(snippetIndex)\n\n  return {\n    overSnippet,\n    placeholderIndex,\n    isOverSnippet: isOverSnippet,\n  }\n}\n\nexport default function getDisplayName(Component: any) {\n  return (\n    Component.displayName ||\n    Component.name ||\n    (typeof Component === 'string' && Component.length > 0\n      ? Component\n      : 'Unknown')\n  )\n}\n","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\nimport shallowEqual from 'shallowequal';\n\nvar PanelContent = function (_Component) {\n  _inherits(PanelContent, _Component);\n\n  function PanelContent() {\n    _classCallCheck(this, PanelContent);\n\n    return _possibleConstructorReturn(this, (PanelContent.__proto__ || Object.getPrototypeOf(PanelContent)).apply(this, arguments));\n  }\n\n  _createClass(PanelContent, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return this.props.forceRender || !shallowEqual(this.props, nextProps);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classnames;\n\n      this._isActived = this.props.forceRender || this._isActived || this.props.isActive;\n      if (!this._isActived) {\n        return null;\n      }\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          isActive = _props.isActive,\n          children = _props.children,\n          destroyInactivePanel = _props.destroyInactivePanel,\n          forceRender = _props.forceRender,\n          role = _props.role;\n\n      var contentCls = classnames(prefixCls + '-content', (_classnames = {}, _defineProperty(_classnames, prefixCls + '-content-active', isActive), _defineProperty(_classnames, prefixCls + '-content-inactive', !isActive), _classnames));\n      var child = !forceRender && !isActive && destroyInactivePanel ? null : React.createElement(\n        'div',\n        { className: prefixCls + '-content-box' },\n        children\n      );\n      return React.createElement(\n        'div',\n        {\n          className: contentCls,\n          role: role\n        },\n        child\n      );\n    }\n  }]);\n\n  return PanelContent;\n}(Component);\n\nexport default PanelContent;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport PanelContent from './PanelContent';\nimport Animate from 'rc-animate';\nimport shallowEqual from 'shallowequal';\n\nvar CollapsePanel = function (_Component) {\n  _inherits(CollapsePanel, _Component);\n\n  function CollapsePanel() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, CollapsePanel);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = CollapsePanel.__proto__ || Object.getPrototypeOf(CollapsePanel)).call.apply(_ref, [this].concat(args))), _this), _this.handleItemClick = function () {\n      var _this$props = _this.props,\n          onItemClick = _this$props.onItemClick,\n          panelKey = _this$props.panelKey;\n\n\n      if (typeof onItemClick === 'function') {\n        onItemClick(panelKey);\n      }\n    }, _this.handleKeyPress = function (e) {\n      if (e.key === 'Enter' || e.keyCode === 13 || e.which === 13) {\n        _this.handleItemClick();\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(CollapsePanel, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return !shallowEqual(this.props, nextProps);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames2;\n\n      var _props = this.props,\n          className = _props.className,\n          id = _props.id,\n          style = _props.style,\n          prefixCls = _props.prefixCls,\n          header = _props.header,\n          headerClass = _props.headerClass,\n          children = _props.children,\n          isActive = _props.isActive,\n          showArrow = _props.showArrow,\n          destroyInactivePanel = _props.destroyInactivePanel,\n          disabled = _props.disabled,\n          accordion = _props.accordion,\n          forceRender = _props.forceRender,\n          expandIcon = _props.expandIcon,\n          extra = _props.extra;\n\n      var headerCls = classNames(prefixCls + '-header', _defineProperty({}, headerClass, headerClass));\n      var itemCls = classNames((_classNames2 = {}, _defineProperty(_classNames2, prefixCls + '-item', true), _defineProperty(_classNames2, prefixCls + '-item-active', isActive), _defineProperty(_classNames2, prefixCls + '-item-disabled', disabled), _classNames2), className);\n\n      var icon = React.createElement('i', { className: 'arrow' });\n      if (showArrow && typeof expandIcon === 'function') {\n        icon = expandIcon(this.props);\n      }\n      return React.createElement(\n        'div',\n        { className: itemCls, style: style, id: id },\n        React.createElement(\n          'div',\n          {\n            className: headerCls,\n            onClick: this.handleItemClick,\n            role: accordion ? 'tab' : 'button',\n            tabIndex: disabled ? -1 : 0,\n            'aria-expanded': '' + isActive,\n            onKeyPress: this.handleKeyPress\n          },\n          showArrow && icon,\n          header,\n          extra && React.createElement(\n            'div',\n            { className: prefixCls + '-extra' },\n            extra\n          )\n        ),\n        React.createElement(\n          Animate,\n          {\n            showProp: 'isActive',\n            exclusive: true,\n            component: '',\n            animation: this.props.openAnimation\n          },\n          React.createElement(\n            PanelContent,\n            {\n              prefixCls: prefixCls,\n              isActive: isActive,\n              destroyInactivePanel: destroyInactivePanel,\n              forceRender: forceRender,\n              role: accordion ? 'tabpanel' : null\n            },\n            children\n          )\n        )\n      );\n    }\n  }]);\n\n  return CollapsePanel;\n}(Component);\n\nCollapsePanel.defaultProps = {\n  showArrow: true,\n  isActive: false,\n  destroyInactivePanel: false,\n  onItemClick: function onItemClick() {},\n\n  headerClass: '',\n  forceRender: false\n};\n\nexport default CollapsePanel;","import cssAnimation from '@ant-design/css-animation';\n\nfunction animate(node, show, transitionName, done) {\n  var height = void 0;\n  return cssAnimation(node, transitionName, {\n    start: function start() {\n      if (!show) {\n        node.style.height = node.offsetHeight + 'px';\n      } else {\n        height = node.offsetHeight;\n        node.style.height = 0;\n      }\n    },\n    active: function active() {\n      node.style.height = (show ? height : 0) + 'px';\n    },\n    end: function end() {\n      node.style.height = '';\n      done();\n    }\n  });\n}\n\nfunction animation(prefixCls) {\n  return {\n    enter: function enter(node, done) {\n      return animate(node, true, prefixCls + '-anim', done);\n    },\n    leave: function leave(node, done) {\n      return animate(node, false, prefixCls + '-anim', done);\n    }\n  };\n}\n\nexport default animation;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport toArray from 'rc-util/es/Children/toArray';\nimport CollapsePanel from './Panel';\nimport openAnimationFactory from './openAnimationFactory';\n\nfunction getActiveKeysArray(activeKey) {\n  var currentActiveKey = activeKey;\n  if (!Array.isArray(currentActiveKey)) {\n    currentActiveKey = currentActiveKey ? [currentActiveKey] : [];\n  }\n  return currentActiveKey.map(function (key) {\n    return String(key);\n  });\n}\n\nvar Collapse = function (_Component) {\n  _inherits(Collapse, _Component);\n\n  function Collapse(props) {\n    _classCallCheck(this, Collapse);\n\n    var _this = _possibleConstructorReturn(this, (Collapse.__proto__ || Object.getPrototypeOf(Collapse)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var activeKey = props.activeKey,\n        defaultActiveKey = props.defaultActiveKey;\n\n    var currentActiveKey = defaultActiveKey;\n    if ('activeKey' in props) {\n      currentActiveKey = activeKey;\n    }\n\n    _this.state = {\n      openAnimation: props.openAnimation || openAnimationFactory(props.prefixCls),\n      activeKey: getActiveKeysArray(currentActiveKey)\n    };\n    return _this;\n  }\n\n  _createClass(Collapse, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return !shallowEqual(this.props, nextProps) || !shallowEqual(this.state, nextState);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames;\n\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          className = _props.className,\n          style = _props.style,\n          accordion = _props.accordion;\n\n      var collapseClassName = classNames((_classNames = {}, _defineProperty(_classNames, prefixCls, true), _defineProperty(_classNames, className, !!className), _classNames));\n      return React.createElement(\n        'div',\n        { className: collapseClassName, style: style, role: accordion ? 'tablist' : null },\n        this.getItems()\n      );\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(nextProps) {\n      var newState = {};\n      if ('activeKey' in nextProps) {\n        newState.activeKey = getActiveKeysArray(nextProps.activeKey);\n      }\n      if ('openAnimation' in nextProps) {\n        newState.openAnimation = nextProps.openAnimation;\n      }\n      return newState.activeKey || newState.openAnimation ? newState : null;\n    }\n  }]);\n\n  return Collapse;\n}(Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.onClickItem = function (key) {\n    var activeKey = _this2.state.activeKey;\n    if (_this2.props.accordion) {\n      activeKey = activeKey[0] === key ? [] : [key];\n    } else {\n      activeKey = [].concat(_toConsumableArray(activeKey));\n      var index = activeKey.indexOf(key);\n      var isActive = index > -1;\n      if (isActive) {\n                activeKey.splice(index, 1);\n      } else {\n        activeKey.push(key);\n      }\n    }\n    _this2.setActiveKey(activeKey);\n  };\n\n  this.getNewChild = function (child, index) {\n    if (!child) return null;\n\n    var activeKey = _this2.state.activeKey;\n    var _props2 = _this2.props,\n        prefixCls = _props2.prefixCls,\n        accordion = _props2.accordion,\n        destroyInactivePanel = _props2.destroyInactivePanel,\n        expandIcon = _props2.expandIcon;\n    \n    var key = child.key || String(index);\n    var _child$props = child.props,\n        header = _child$props.header,\n        headerClass = _child$props.headerClass,\n        disabled = _child$props.disabled;\n\n    var isActive = false;\n    if (accordion) {\n      isActive = activeKey[0] === key;\n    } else {\n      isActive = activeKey.indexOf(key) > -1;\n    }\n\n    var props = {\n      key: key,\n      panelKey: key,\n      header: header,\n      headerClass: headerClass,\n      isActive: isActive,\n      prefixCls: prefixCls,\n      destroyInactivePanel: destroyInactivePanel,\n      openAnimation: _this2.state.openAnimation,\n      accordion: accordion,\n      children: child.props.children,\n      onItemClick: disabled ? null : _this2.onClickItem,\n      expandIcon: expandIcon\n    };\n\n        if (typeof child.type === 'string') {\n      return child;\n    }\n\n    return React.cloneElement(child, props);\n  };\n\n  this.getItems = function () {\n    var children = _this2.props.children;\n\n    return toArray(children).map(_this2.getNewChild);\n  };\n\n  this.setActiveKey = function (activeKey) {\n    if (!('activeKey' in _this2.props)) {\n      _this2.setState({ activeKey: activeKey });\n    }\n    _this2.props.onChange(_this2.props.accordion ? activeKey[0] : activeKey);\n  };\n};\n\nCollapse.defaultProps = {\n  prefixCls: 'rc-collapse',\n  onChange: function onChange() {},\n\n  accordion: false,\n  destroyInactivePanel: false\n};\n\nCollapse.Panel = CollapsePanel;\n\nexport default Collapse;","import Collapse from './Collapse';\n\nexport default Collapse;\nexport var Panel = Collapse.Panel;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];\nvar REQUIRED_SPEC_METHODS = ['beginDrag'];\n\nvar SourceImpl = /*#__PURE__*/function () {\n  function SourceImpl(spec, monitor, ref) {\n    var _this = this;\n\n    _classCallCheck(this, SourceImpl);\n\n    this.props = null;\n\n    this.beginDrag = function () {\n      if (!_this.props) {\n        return;\n      }\n\n      var item = _this.spec.beginDrag(_this.props, _this.monitor, _this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', item);\n      }\n\n      return item;\n    };\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(SourceImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.canDrag) {\n        return true;\n      }\n\n      return this.spec.canDrag(this.props, this.monitor);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, sourceId) {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.isDragging) {\n        return sourceId === globalMonitor.getSourceId();\n      }\n\n      return this.spec.isDragging(this.props, this.monitor);\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      if (!this.props) {\n        return;\n      }\n\n      if (!this.spec.endDrag) {\n        return;\n      }\n\n      this.spec.endDrag(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }]);\n\n  return SourceImpl;\n}();\n\nexport function createSourceFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  REQUIRED_SPEC_METHODS.forEach(function (key) {\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  return function createSource(monitor, ref) {\n    return new SourceImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { checkDecoratorArguments } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { registerSource } from '../common/registration';\nimport { DragSourceMonitorImpl } from '../common/DragSourceMonitorImpl';\nimport { SourceConnector } from '../common/SourceConnector';\nimport { isValidType } from '../utils/isValidType';\nimport { createSourceFactory } from './createSourceFactory';\n/**\n * Decorates a component as a dragsource\n * @param type The dragsource type\n * @param spec The drag source specification\n * @param collect The props collector function\n * @param options DnD options\n */\n\nexport function DragSource(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DragSource', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type), 'Expected \"type\" provided as the first argument to DragSource to be ' + 'a string, or a function that returns a string given the current props. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DragSource to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', spec);\n  var createSource = createSourceFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DragSource to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DragSource to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  return function decorateSource(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DragSource',\n      createHandler: createSource,\n      registerHandler: registerSource,\n      createConnector: function createConnector(backend) {\n        return new SourceConnector(backend);\n      },\n      createMonitor: function createMonitor(manager) {\n        return new DragSourceMonitorImpl(manager);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\n\nvar TargetImpl = /*#__PURE__*/function () {\n  function TargetImpl(spec, monitor, ref) {\n    _classCallCheck(this, TargetImpl);\n\n    this.props = null;\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(TargetImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"receiveMonitor\",\n    value: function receiveMonitor(monitor) {\n      this.monitor = monitor;\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      if (!this.spec.canDrop) {\n        return true;\n      }\n\n      return this.spec.canDrop(this.props, this.monitor);\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      if (!this.spec.hover || !this.props) {\n        return;\n      }\n\n      this.spec.hover(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      if (!this.spec.drop) {\n        return undefined;\n      }\n\n      var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(typeof dropResult === 'undefined' || isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);\n      }\n\n      return dropResult;\n    }\n  }]);\n\n  return TargetImpl;\n}();\n\nexport function createTargetFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);\n  });\n  return function createTarget(monitor, ref) {\n    return new TargetImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { registerTarget } from '../common/registration';\nimport { isValidType } from '../utils/isValidType';\nimport { TargetConnector } from '../common/TargetConnector';\nimport { DropTargetMonitorImpl } from '../common/DropTargetMonitorImpl';\nimport { checkDecoratorArguments } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { createTargetFactory } from './createTargetFactory';\nexport function DropTarget(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type, true), 'Expected \"type\" provided as the first argument to DropTarget to be ' + 'a string, an array of strings, or a function that returns either given ' + 'the current props. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DropTarget to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', spec);\n  var createTarget = createTargetFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DropTarget to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DropTarget to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  return function decorateTarget(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DropTarget',\n      createHandler: createTarget,\n      registerHandler: registerTarget,\n      createMonitor: function createMonitor(manager) {\n        return new DropTargetMonitorImpl(manager);\n      },\n      createConnector: function createConnector(backend) {\n        return new TargetConnector(backend);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { isFunction, noop } from '../utils/js_utils';\n/**\n * Provides a set of static methods for creating Disposables.\n * @param {Function} action Action to run during the first call to dispose.\n * The action is guaranteed to be run at most once.\n */\n\nvar Disposable =\n/** @class */\nfunction () {\n  var Disposable = /*#__PURE__*/function () {\n    function Disposable(action) {\n      _classCallCheck(this, Disposable);\n\n      this.isDisposed = false;\n      this.action = isFunction(action) ? action : noop;\n    }\n    /**\n     * Validates whether the given object is a disposable\n     * @param {Object} Object to test whether it has a dispose method\n     * @returns {Boolean} true if a disposable object, else false.\n     */\n\n\n    _createClass(Disposable, [{\n      key: \"dispose\",\n\n      /** Performs the task of cleaning up resources. */\n      value: function dispose() {\n        if (!this.isDisposed) {\n          this.action();\n          this.isDisposed = true;\n        }\n      }\n    }], [{\n      key: \"isDisposable\",\n      value: function isDisposable(d) {\n        return Boolean(d && isFunction(d.dispose));\n      }\n    }, {\n      key: \"_fixup\",\n      value: function _fixup(result) {\n        return Disposable.isDisposable(result) ? result : Disposable.empty;\n      }\n      /**\n       * Creates a disposable object that invokes the specified action when disposed.\n       * @param {Function} dispose Action to run during the first call to dispose.\n       * The action is guaranteed to be run at most once.\n       * @return {Disposable} The disposable object that runs the given action upon disposal.\n       */\n\n    }, {\n      key: \"create\",\n      value: function create(action) {\n        return new Disposable(action);\n      }\n    }]);\n\n    return Disposable;\n  }();\n  /**\n   * Gets the disposable that does nothing when disposed.\n   */\n\n\n  Disposable.empty = {\n    dispose: noop\n  };\n  return Disposable;\n}();\n\nexport { Disposable };\n/**\n * Represents a group of disposable resources that are disposed together.\n * @constructor\n */\n\nexport var CompositeDisposable = /*#__PURE__*/function () {\n  function CompositeDisposable() {\n    _classCallCheck(this, CompositeDisposable);\n\n    this.isDisposed = false;\n\n    for (var _len = arguments.length, disposables = new Array(_len), _key = 0; _key < _len; _key++) {\n      disposables[_key] = arguments[_key];\n    }\n\n    this.disposables = disposables;\n  }\n  /**\n   * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n   * @param {Any} item Disposable to add.\n   */\n\n\n  _createClass(CompositeDisposable, [{\n    key: \"add\",\n    value: function add(item) {\n      if (this.isDisposed) {\n        item.dispose();\n      } else {\n        this.disposables.push(item);\n      }\n    }\n    /**\n     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n     * @param {Any} item Disposable to remove.\n     * @returns {Boolean} true if found; false otherwise.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      var shouldDispose = false;\n\n      if (!this.isDisposed) {\n        var idx = this.disposables.indexOf(item);\n\n        if (idx !== -1) {\n          shouldDispose = true;\n          this.disposables.splice(idx, 1);\n          item.dispose();\n        }\n      }\n\n      return shouldDispose;\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group but\n     *  does not dispose the CompositeDisposable.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.isDisposed) {\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i = 0; _i < len; _i++) {\n          currentDisposables[_i].dispose();\n        }\n      }\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i2 = 0; _i2 < len; _i2++) {\n          currentDisposables[_i2].dispose();\n        }\n      }\n    }\n  }]);\n\n  return CompositeDisposable;\n}();\n/**\n * Represents a disposable resource whose underlying disposable resource can\n * be replaced by another disposable resource, causing automatic disposal of\n * the previous underlying disposable resource.\n */\n\nexport var SerialDisposable = /*#__PURE__*/function () {\n  function SerialDisposable() {\n    _classCallCheck(this, SerialDisposable);\n\n    this.isDisposed = false;\n  }\n  /**\n   * Gets the underlying disposable.\n   * @returns {Any} the underlying disposable.\n   */\n\n\n  _createClass(SerialDisposable, [{\n    key: \"getDisposable\",\n    value: function getDisposable() {\n      return this.current;\n    }\n  }, {\n    key: \"setDisposable\",\n    value: function setDisposable(value) {\n      var shouldDispose = this.isDisposed;\n\n      if (!shouldDispose) {\n        var old = this.current;\n        this.current = value;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n\n      if (shouldDispose && value) {\n        value.dispose();\n      }\n    }\n    /** Performs the task of cleaning up resources. */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var old = this.current;\n        this.current = undefined;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n    }\n  }]);\n\n  return SerialDisposable;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { DndContext } from '../common/DndContext';\nimport { isPlainObject } from '../utils/js_utils';\nimport { Disposable, CompositeDisposable, SerialDisposable } from './disposables';\nimport { isRefable } from './utils';\nexport function decorateHandler(_ref) {\n  var DecoratedComponent = _ref.DecoratedComponent,\n      createHandler = _ref.createHandler,\n      createMonitor = _ref.createMonitor,\n      createConnector = _ref.createConnector,\n      registerHandler = _ref.registerHandler,\n      containerDisplayName = _ref.containerDisplayName,\n      getType = _ref.getType,\n      collect = _ref.collect,\n      options = _ref.options;\n  var _options$arePropsEqua = options.arePropsEqual,\n      arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n  var Decorated = DecoratedComponent;\n  var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n  var DragDropContainer =\n  /** @class */\n  function () {\n    var DragDropContainer = /*#__PURE__*/function (_React$Component) {\n      _inherits(DragDropContainer, _React$Component);\n\n      var _super = _createSuper(DragDropContainer);\n\n      function DragDropContainer(props) {\n        var _this;\n\n        _classCallCheck(this, DragDropContainer);\n\n        _this = _super.call(this, props);\n        _this.decoratedRef = React.createRef();\n\n        _this.handleChange = function () {\n          var nextState = _this.getCurrentState();\n\n          if (!shallowEqual(nextState, _this.state)) {\n            _this.setState(nextState);\n          }\n        };\n\n        _this.disposable = new SerialDisposable();\n\n        _this.receiveProps(props);\n\n        _this.dispose();\n\n        return _this;\n      }\n\n      _createClass(DragDropContainer, [{\n        key: \"getHandlerId\",\n        value: function getHandlerId() {\n          return this.handlerId;\n        }\n      }, {\n        key: \"getDecoratedComponentInstance\",\n        value: function getDecoratedComponentInstance() {\n          invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n          return this.decoratedRef.current;\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.disposable = new SerialDisposable();\n          this.currentType = undefined;\n          this.receiveProps(this.props);\n          this.handleChange();\n        }\n      }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate(prevProps) {\n          if (!arePropsEqual(this.props, prevProps)) {\n            this.receiveProps(this.props);\n            this.handleChange();\n          }\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.dispose();\n        }\n      }, {\n        key: \"receiveProps\",\n        value: function receiveProps(props) {\n          if (!this.handler) {\n            return;\n          }\n\n          this.handler.receiveProps(props);\n          this.receiveType(getType(props));\n        }\n      }, {\n        key: \"receiveType\",\n        value: function receiveType(type) {\n          if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {\n            return;\n          }\n\n          if (type === this.currentType) {\n            return;\n          }\n\n          this.currentType = type;\n\n          var _registerHandler = registerHandler(type, this.handler, this.manager),\n              _registerHandler2 = _slicedToArray(_registerHandler, 2),\n              handlerId = _registerHandler2[0],\n              unregister = _registerHandler2[1];\n\n          this.handlerId = handlerId;\n          this.handlerMonitor.receiveHandlerId(handlerId);\n          this.handlerConnector.receiveHandlerId(handlerId);\n          var globalMonitor = this.manager.getMonitor();\n          var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, {\n            handlerIds: [handlerId]\n          });\n          this.disposable.setDisposable(new CompositeDisposable(new Disposable(unsubscribe), new Disposable(unregister)));\n        }\n      }, {\n        key: \"dispose\",\n        value: function dispose() {\n          this.disposable.dispose();\n\n          if (this.handlerConnector) {\n            this.handlerConnector.receiveHandlerId(null);\n          }\n        }\n      }, {\n        key: \"getCurrentState\",\n        value: function getCurrentState() {\n          if (!this.handlerConnector) {\n            return {};\n          }\n\n          var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);\n\n          if (process.env.NODE_ENV !== 'production') {\n            invariant(isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' + '%s for %s to return a plain object of props to inject. ' + 'Instead, received %s.', containerDisplayName, displayName, nextState);\n          }\n\n          return nextState;\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return React.createElement(DndContext.Consumer, null, function (_ref2) {\n            var dragDropManager = _ref2.dragDropManager;\n\n            _this2.receiveDragDropManager(dragDropManager);\n\n            if (typeof requestAnimationFrame !== 'undefined') {\n              requestAnimationFrame(function () {\n                var _this2$handlerConnect;\n\n                return (_this2$handlerConnect = _this2.handlerConnector) === null || _this2$handlerConnect === void 0 ? void 0 : _this2$handlerConnect.reconnect();\n              });\n            }\n\n            return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.getCurrentState(), {\n              // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.\n              ref: isRefable(Decorated) ? _this2.decoratedRef : null\n            }));\n          });\n        }\n      }, {\n        key: \"receiveDragDropManager\",\n        value: function receiveDragDropManager(dragDropManager) {\n          if (this.manager !== undefined) {\n            return;\n          }\n\n          invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n          if (dragDropManager === undefined) {\n            return;\n          }\n\n          this.manager = dragDropManager;\n          this.handlerMonitor = createMonitor(dragDropManager);\n          this.handlerConnector = createConnector(dragDropManager.getBackend());\n          this.handler = createHandler(this.handlerMonitor, this.decoratedRef);\n        }\n      }]);\n\n      return DragDropContainer;\n    }(React.Component);\n\n    DragDropContainer.DecoratedComponent = DecoratedComponent;\n    DragDropContainer.displayName = \"\".concat(containerDisplayName, \"(\").concat(displayName, \")\");\n    return DragDropContainer;\n  }();\n\n  return hoistStatics(DragDropContainer, DecoratedComponent);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector = /*#__PURE__*/function () {\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dragSourceRef = null;\n    this.dragSourceOptionsInternal = null; // The drag preview may either be attached via ref or connect function\n\n    this.dragPreviewRef = null;\n    this.dragPreviewOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDragSource = null;\n    this.lastConnectedDragSourceOptions = null;\n    this.lastConnectedDragPreview = null;\n    this.lastConnectedDragPreviewOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    this.sourceId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    this.targetId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dropTargetRef = null;\n    this.dropTargetOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDropTarget = null;\n    this.lastConnectedDropTargetOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }]);\n\n  return TargetConnector;\n}();","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","// This icon file is generated automatically.\nvar LeftOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z\" } }] }, \"name\": \"left\", \"theme\": \"outlined\" };\nexport default LeftOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LeftOutlinedSvg from \"@ant-design/icons-svg/es/asn/LeftOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar LeftOutlined = function LeftOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: LeftOutlinedSvg\n  }));\n};\n\nLeftOutlined.displayName = 'LeftOutlined';\nexport default React.forwardRef(LeftOutlined);","// This icon file is generated automatically.\nvar RightOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z\" } }] }, \"name\": \"right\", \"theme\": \"outlined\" };\nexport default RightOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport RightOutlinedSvg from \"@ant-design/icons-svg/es/asn/RightOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar RightOutlined = function RightOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: RightOutlinedSvg\n  }));\n};\n\nRightOutlined.displayName = 'RightOutlined';\nexport default React.forwardRef(RightOutlined);","// This icon file is generated automatically.\nvar EditOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z\" } }] }, \"name\": \"edit\", \"theme\": \"outlined\" };\nexport default EditOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EditOutlinedSvg from \"@ant-design/icons-svg/es/asn/EditOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EditOutlined = function EditOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: EditOutlinedSvg\n  }));\n};\n\nEditOutlined.displayName = 'EditOutlined';\nexport default React.forwardRef(EditOutlined);","import React from 'react'\nimport styled from 'styled-components'\nimport {\n  EditOutlined,\n  DeleteOutlined,\n  RightOutlined,\n  LeftOutlined,\n} from '@ant-design/icons'\nimport cx from 'classnames'\nimport { Tooltip } from 'antd'\n\ntype Props = {\n  tabIndex: number\n  onEdit: () => void\n  onDelete: () => void\n  onShift: (shift: number) => void\n}\n\nconst ToolbarWrapper = styled.div`\n  position: absolute;\n  top: 8px;\n  right: 15px;\n  visibility: hidden;\n  transition: visibility 0s, opacity 0.3s, max-height 0.6s linear;\n  opacity: 0;\n  z-index: 1;\n\n  &.is--over {\n    visibility: visible;\n    transition: visibility 0s, opacity 0.3s, max-height 0.6s linear;\n    opacity: 0.8;\n  }\n`\n\nexport const SHIFT_TYPES = {\n  LEFT: -1,\n  RIGHT: 1,\n}\n\nexport default function SnippetToolbar({\n  tabIndex,\n  onEdit,\n  onDelete,\n  onShift,\n}: Props) {\n  const handleShift = (shift: number) => () => {\n    onShift(shift)\n  }\n\n  return (\n    <ToolbarWrapper\n      className={cx('text-primary', { 'is--over': tabIndex === 1 })}>\n      <Tooltip title=\"向左縮排\">\n        <LeftOutlined\n          className=\"mr-2 cursor-pointer\"\n          onClick={handleShift(SHIFT_TYPES.LEFT)}\n        />\n      </Tooltip>\n      <Tooltip title=\"向右縮排\">\n        <RightOutlined\n          className=\"mr-2 cursor-pointer\"\n          onClick={handleShift(SHIFT_TYPES.RIGHT)}\n        />\n      </Tooltip>\n      <Tooltip title=\"編輯\">\n        <EditOutlined className=\"mr-2 cursor-pointer\" onClick={onEdit} />\n      </Tooltip>\n      <Tooltip title=\"刪除\">\n        <DeleteOutlined className=\"cursor-pointer\" onClick={onDelete} />\n      </Tooltip>\n    </ToolbarWrapper>\n  )\n}\n\nexport { SnippetToolbar }\n","import React from 'react'\nimport { DragSource, ConnectDragPreview, ConnectDragSource } from 'react-dnd'\nimport { getEmptyImage } from 'react-dnd-html5-backend'\nimport { mergeRight } from 'ramda'\nimport cx from 'classnames'\nimport { confirm } from '@/utils/message'\nimport { SnippetProps } from '@/constants/types'\nimport ItemTypes from '@/constants/item-types'\nimport SnippetToolbar from './snippet-toolbar'\nimport theme from '../theme'\n\ntype Props = {\n  id?: React.Key\n  wrapperId?: string\n  className?: string\n  style?: React.CSSProperties\n  index?: number\n  tabSize?: number\n  isDragging?: boolean\n  draggable?: boolean\n  fromMenu?: boolean\n  connectDragPreview: ConnectDragPreview\n  connectDragSource: ConnectDragSource\n  children?: React.ReactNode\n  findSnippet?(id: React.Key): { index: number; snippet: SnippetProps }\n  shiftSnippet?(id: React.Key, shift: number): any\n  removeSnippet?(index: number): void\n}\n\ntype State = {\n  top: number\n  tabIndex: number\n  editModalVisible: boolean\n}\n\nconst withDragSource = DragSource(\n  ItemTypes.BOARD,\n  {\n    beginDrag(props: Props) {\n      return {\n        ...props,\n        fromMenu: false,\n        originalIndex: (props as any).findSnippet(props.id).index,\n      }\n    },\n    canDrag(props: Props) {\n      return !!(props.draggable && !props.fromMenu)\n    },\n  },\n  (connect, monitor) => ({\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n    isDragging: monitor.isDragging(),\n  })\n)\n\nclass Snippet extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props)\n\n    this.state = {\n      top: 0,\n      tabIndex: -1,\n      editModalVisible: false,\n    }\n  }\n\n  componentDidMount = () => {\n    const { connectDragPreview } = this.props\n    if (connectDragPreview) {\n      connectDragPreview(getEmptyImage() /* { anchorX: 0.2, anchorY: 0.1 } */)\n    }\n  }\n\n  handleShift = (shift: number) => {\n    const { id, shiftSnippet } = this.props\n\n    if (shiftSnippet && id) {\n      shiftSnippet(id, shift)\n    }\n  }\n\n  handleRemove = () => {\n    confirm({\n      content: '刪除後將無法還原，確認繼續？',\n      title: '確認要刪除這個模版?',\n      onOk: () => {\n        ;(this.props as any).removeSnippet(this.props.index)\n      },\n      onCancel() {},\n    })\n  }\n\n  handleEditModalVisible = () => {\n    this.setState(prev => ({ editModalVisible: !prev.editModalVisible }))\n  }\n\n  _onMouseOver = () => {\n    this.setState({ tabIndex: 1 })\n  }\n\n  _onMouseOut = () => {\n    this.setState({ tabIndex: -1 })\n  }\n\n  render() {\n    const {\n      props: {\n        connectDragSource,\n        connectDragPreview,\n        wrapperId,\n        index,\n        draggable,\n        style = {},\n        className = 'mb-3',\n      },\n      state: { tabIndex, editModalVisible },\n    } = this\n\n    const styles = mergeRight(\n      getItemStyles({ ...this.props, ...this.state }),\n      style\n    )\n\n    return connectDragSource(\n      connectDragPreview(\n        <div\n          id={wrapperId}\n          style={styles}\n          className={cx(\n            'ui-sortable',\n            { 'ui-draggable': draggable },\n            className\n          )}\n          tabIndex={tabIndex}\n          onMouseOver={this._onMouseOver}\n          onMouseOut={this._onMouseOut}\n          data-index={index}>\n          {draggable && (\n            <SnippetToolbar\n              tabIndex={tabIndex}\n              onEdit={this.handleEditModalVisible}\n              onDelete={this.handleRemove}\n              onShift={this.handleShift}\n            />\n          )}\n          {React.Children.map(this.props.children, child =>\n            React.cloneElement(child as any, {\n              editModalVisible,\n              handleEditModalVisible: this.handleEditModalVisible,\n            })\n          )}\n        </div>\n      )\n    )\n  }\n}\n\nfunction getItemStyles(props: Partial<Props & State>): React.CSSProperties {\n  const { isDragging, tabIndex, draggable, tabSize = 0 } = props\n\n  const isFocus = tabIndex === 1\n\n  return {\n    ...(isFocus ? { borderRadius: 3 } : {}),\n    ...(draggable\n      ? { border: `1px dashed ${draggable ? '#e7e7e7' : 'transparent'}` }\n      : {\n          outlineColor: isFocus ? theme.purple150 : 'transparent',\n        }),\n    cursor: 'default',\n    position: 'relative',\n    display: isDragging ? 'none' : 'block',\n    marginLeft: tabSize * 50,\n  }\n}\n\nexport default withDragSource(Snippet)\n","import { Collapse } from 'antd'\nimport styled from 'styled-components'\n\nconst borderRadius = '8px'\n\nconst StyledCollapse = styled(Collapse)`\n  &.ant-collapse {\n    border-radius: ${borderRadius};\n    border-bottom: none;\n\n    > .ant-collapse-item > .ant-collapse-header {\n      padding-left: 0;\n      background: ${p => p.theme.primary};\n      color: #fff;\n    }\n\n    &.header-pl-clear > .ant-collapse-item > .ant-collapse-header {\n      padding-left: 16px;\n    }\n\n    > .ant-collapse-item:first-child > .ant-collapse-header {\n      border-top-left-radius: ${borderRadius};\n      border-top-right-radius: ${borderRadius};\n    }\n\n    > .ant-collapse-item:last-child {\n      border-bottom: none;\n    }\n\n    > .ant-collapse-item:last-child > .ant-collapse-content {\n      border-bottom-left-radius: ${borderRadius};\n      border-bottom-right-radius: ${borderRadius};\n    }\n\n    > .ant-collapse-item.ant-collapse-item-active:last-child {\n      border-bottom: 1px solid #d9d9d9;\n    }\n\n    > .ant-collapse-item:not(.ant-collapse-item-active):last-child\n      > .ant-collapse-header {\n      border-bottom-left-radius: ${borderRadius};\n      border-bottom-right-radius: ${borderRadius};\n    }\n  }\n`\n\nexport default StyledCollapse\n","\"use strict\";\n\nrequire(\"../../style/index.css\");\n\nrequire(\"./index.css\");","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _Collapse = _interopRequireDefault(require(\"./Collapse\"));\n\nvar _default = _Collapse[\"default\"];\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _rcCollapse = _interopRequireDefault(require(\"rc-collapse\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _RightOutlined = _interopRequireDefault(require(\"@ant-design/icons/RightOutlined\"));\n\nvar _CollapsePanel = _interopRequireDefault(require(\"./CollapsePanel\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar _openAnimation = _interopRequireDefault(require(\"../_util/openAnimation\"));\n\nvar _reactNode = require(\"../_util/reactNode\");\n\nvar Collapse = function Collapse(props) {\n  var _classNames;\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var customizePrefixCls = props.prefixCls,\n      _props$className = props.className,\n      className = _props$className === void 0 ? '' : _props$className,\n      bordered = props.bordered,\n      ghost = props.ghost;\n  var prefixCls = getPrefixCls('collapse', customizePrefixCls);\n\n  var getIconPosition = function getIconPosition() {\n    var expandIconPosition = props.expandIconPosition;\n\n    if (expandIconPosition !== undefined) {\n      return expandIconPosition;\n    }\n\n    return direction === 'rtl' ? 'right' : 'left';\n  };\n\n  var renderExpandIcon = function renderExpandIcon() {\n    var panelProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var expandIcon = props.expandIcon;\n    var icon = expandIcon ? expandIcon(panelProps) : /*#__PURE__*/React.createElement(_RightOutlined[\"default\"], {\n      rotate: panelProps.isActive ? 90 : undefined\n    });\n    return (0, _reactNode.cloneElement)(icon, function () {\n      return {\n        className: (0, _classnames[\"default\"])(icon.props.className, \"\".concat(prefixCls, \"-arrow\"))\n      };\n    });\n  };\n\n  var iconPosition = getIconPosition();\n  var collapseClassName = (0, _classnames[\"default\"])((_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-borderless\"), !bordered), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-icon-position-\").concat(iconPosition), true), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-ghost\"), !!ghost), _classNames), className);\n  var openAnimation = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, _openAnimation[\"default\"]), {\n    appear: function appear() {}\n  });\n  return /*#__PURE__*/React.createElement(_rcCollapse[\"default\"], (0, _extends2[\"default\"])({\n    openAnimation: openAnimation\n  }, props, {\n    expandIcon: function expandIcon(panelProps) {\n      return renderExpandIcon(panelProps);\n    },\n    prefixCls: prefixCls,\n    className: collapseClassName\n  }));\n};\n\nCollapse.Panel = _CollapsePanel[\"default\"];\nCollapse.defaultProps = {\n  bordered: true\n};\nvar _default = Collapse;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _rcCollapse = _interopRequireDefault(require(\"rc-collapse\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar CollapsePanel = function CollapsePanel(props) {\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var customizePrefixCls = props.prefixCls,\n      _props$className = props.className,\n      className = _props$className === void 0 ? '' : _props$className,\n      _props$showArrow = props.showArrow,\n      showArrow = _props$showArrow === void 0 ? true : _props$showArrow;\n  var prefixCls = getPrefixCls('collapse', customizePrefixCls);\n  var collapsePanelClassName = (0, _classnames[\"default\"])((0, _defineProperty2[\"default\"])({}, \"\".concat(prefixCls, \"-no-arrow\"), !showArrow), className);\n  return /*#__PURE__*/React.createElement(_rcCollapse[\"default\"].Panel, (0, _extends2[\"default\"])({}, props, {\n    prefixCls: prefixCls,\n    className: collapsePanelClassName\n  }));\n};\n\nvar _default = CollapsePanel;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _cssAnimation = _interopRequireDefault(require(\"@ant-design/css-animation\"));\n\nvar _raf = _interopRequireDefault(require(\"raf\"));\n\n/**\n * Deprecated. We should replace the animation with pure react motion instead of modify style directly.\n * If you are creating new component with animation, please use `./motion`.\n */\nfunction animate(node, show, done) {\n  var height;\n  var requestAnimationFrameId;\n  return (0, _cssAnimation[\"default\"])(node, 'ant-motion-collapse-legacy', {\n    start: function start() {\n      if (!show) {\n        node.style.height = \"\".concat(node.offsetHeight, \"px\");\n        node.style.opacity = '1';\n      } else {\n        height = node.offsetHeight;\n        node.style.height = '0px';\n        node.style.opacity = '0';\n      }\n    },\n    active: function active() {\n      if (requestAnimationFrameId) {\n        _raf[\"default\"].cancel(requestAnimationFrameId);\n      }\n\n      requestAnimationFrameId = (0, _raf[\"default\"])(function () {\n        node.style.height = \"\".concat(show ? height : 0, \"px\");\n        node.style.opacity = show ? '1' : '0';\n      });\n    },\n    end: function end() {\n      if (requestAnimationFrameId) {\n        _raf[\"default\"].cancel(requestAnimationFrameId);\n      }\n\n      node.style.height = '';\n      node.style.opacity = '';\n      done();\n    }\n  });\n}\n\nvar animation = {\n  enter: function enter(node, done) {\n    return animate(node, true, done);\n  },\n  leave: function leave(node, done) {\n    return animate(node, false, done);\n  },\n  appear: function appear(node, done) {\n    return animate(node, true, done);\n  }\n};\nvar _default = animation;\nexports[\"default\"] = _default;","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { findDOMNode } from 'react-dom'\nimport { DndContext } from 'react-dnd'\nimport throttle from 'lodash.throttle'\nimport raf from 'raf'\nimport hoist from 'hoist-non-react-statics'\nimport getDisplayName from './snippet-utils'\n\nfunction noop() {}\n\nfunction intBetween(min, max, val) {\n  return Math.floor(Math.min(max, Math.max(min, val)))\n}\n\nfunction getCoords(evt) {\n  if (evt.type === 'touchmove') {\n    return {\n      x: evt.changedTouches[0].clientX,\n      y: evt.changedTouches[0].clientY,\n    }\n  }\n\n  return { x: evt.clientX, y: evt.clientY }\n}\n\nconst DEFAULT_BUFFER = 150\n\nexport function createHorizontalStrength(_buffer) {\n  return function defaultHorizontalStrength({ x, w, y, h }, point) {\n    const buffer = Math.min(w / 2, _buffer)\n    const inRange = point.x >= x && point.x <= x + w\n    const inBox = inRange && point.y >= y && point.y <= y + h\n\n    if (inBox) {\n      if (point.x < x + buffer) {\n        return (point.x - x - buffer) / buffer\n      } else if (point.x > x + w - buffer) {\n        return -(x + w - point.x - buffer) / buffer\n      }\n    }\n\n    return 0\n  }\n}\n\nexport function createVerticalStrength(_buffer) {\n  return function defaultVerticalStrength({ y, h, x, w }, point) {\n    const buffer = Math.min(h / 2, _buffer)\n    const inRange = point.y >= y && point.y <= y + h\n    const inBox = inRange && point.x >= x && point.x <= x + w\n\n    if (inBox) {\n      if (point.y < y + buffer) {\n        return (point.y - y - buffer) / buffer\n      } else if (point.y > y + h - buffer) {\n        return -(y + h - point.y - buffer) / buffer\n      }\n    }\n\n    return 0\n  }\n}\n\nexport const defaultHorizontalStrength = createHorizontalStrength(\n  DEFAULT_BUFFER\n)\n\nexport const defaultVerticalStrength = createVerticalStrength(DEFAULT_BUFFER)\n\nexport default function createScrollingComponent(WrappedComponent) {\n  class ScrollingComponent extends React.Component {\n    static displayName = `Scrolling(${getDisplayName(WrappedComponent)})`\n\n    static propTypes = {\n      onScrollChange: PropTypes.func,\n      verticalStrength: PropTypes.func,\n      horizontalStrength: PropTypes.func,\n      strengthMultiplier: PropTypes.number,\n    }\n\n    static defaultProps = {\n      useScroll: true,\n      onScrollChange: noop,\n      verticalStrength: defaultVerticalStrength,\n      horizontalStrength: defaultHorizontalStrength,\n      strengthMultiplier: 30,\n    }\n\n    static contextType = DndContext\n\n    constructor(props, ctx) {\n      super(props, ctx)\n\n      this.scaleX = 0\n      this.scaleY = 0\n      this.frame = null\n\n      this.attached = false\n      this.dragging = false\n    }\n\n    componentDidMount() {\n      if (this.props.useScroll) {\n        this._initial()\n      }\n    }\n\n    _initial() {\n      // window.document.body.addEventListener('dragover', this.handleEvent);\n      this.container = findDOMNode(this.wrappedInstance)\n      this.container.addEventListener('dragover', this.handleEvent)\n      // touchmove events don't seem to work across siblings, so we unfortunately\n      // have to attach the listeners to the body\n      window.document.body.addEventListener('touchmove', this.handleEvent)\n\n      this.clearMonitorSubscription = this.context.dragDropManager\n        .getMonitor()\n        .subscribeToStateChange(() => this.handleMonitorChange())\n    }\n\n    componentWillUnmount() {\n      if (this.props.useScroll) {\n        this._remove()\n      }\n    }\n\n    _remove() {\n      // window.document.body.removeEventListener('dragover', this.handleEvent);\n      this.container.removeEventListener('dragover', this.handleEvent)\n      window.document.body.removeEventListener('touchmove', this.handleEvent)\n      this.clearMonitorSubscription()\n      this.stopScrolling()\n    }\n\n    handleEvent = evt => {\n      if (this.dragging && !this.attached) {\n        this.attach()\n        this.updateScrolling(evt)\n      }\n    }\n\n    handleMonitorChange() {\n      const isDragging = this.context.dragDropManager.getMonitor().isDragging()\n\n      if (!this.dragging && isDragging) {\n        this.dragging = true\n      } else if (this.dragging && !isDragging) {\n        this.dragging = false\n        this.stopScrolling()\n      }\n    }\n\n    attach() {\n      this.attached = true\n      window.document.body.addEventListener('dragover', this.updateScrolling)\n      window.document.body.addEventListener('touchmove', this.updateScrolling)\n    }\n\n    detach() {\n      this.attached = false\n      window.document.body.removeEventListener('dragover', this.updateScrolling)\n      window.document.body.removeEventListener(\n        'touchmove',\n        this.updateScrolling\n      )\n    }\n\n    // Update scaleX and scaleY every 100ms or so\n    // and start scrolling if necessary\n    updateScrolling = throttle(\n      evt => {\n        const {\n          left: x,\n          top: y,\n          width: w,\n          height: h,\n        } = this.container.getBoundingClientRect()\n        const box = { x, y, w, h }\n        const coords = getCoords(evt)\n\n        // calculate strength\n        this.scaleX = this.props.horizontalStrength(box, coords)\n        this.scaleY = this.props.verticalStrength(box, coords)\n\n        // start scrolling if we need to\n        if (!this.frame && (this.scaleX || this.scaleY)) {\n          this.startScrolling()\n        }\n      },\n      100,\n      { trailing: false }\n    )\n\n    startScrolling() {\n      let i = 0\n      const tick = () => {\n        const { scaleX, scaleY, container } = this\n        const { strengthMultiplier, onScrollChange } = this.props\n\n        // stop scrolling if there's nothing to do\n        if (strengthMultiplier === 0 || scaleX + scaleY === 0) {\n          this.stopScrolling()\n          return\n        }\n\n        // there's a bug in safari where it seems like we can't get\n        // mousemove events from a container that also emits a scroll\n        // event that same frame. So we double the strengthMultiplier and only adjust\n        // the scroll position at 30fps\n        if (i++ % 2) {\n          const {\n            scrollLeft,\n            scrollTop,\n            scrollWidth,\n            scrollHeight,\n            clientWidth,\n            clientHeight,\n          } = container\n\n          const newLeft = scaleX\n            ? (container.scrollLeft = intBetween(\n                0,\n                scrollWidth - clientWidth,\n                scrollLeft + scaleX * strengthMultiplier\n              ))\n            : scrollLeft\n\n          const newTop = scaleY\n            ? (container.scrollTop = intBetween(\n                0,\n                scrollHeight - clientHeight,\n                scrollTop + scaleY * strengthMultiplier\n              ))\n            : scrollTop\n\n          onScrollChange(newLeft, newTop)\n        }\n        this.frame = raf(tick)\n      }\n\n      tick()\n    }\n\n    stopScrolling() {\n      this.detach()\n      this.scaleX = 0\n      this.scaleY = 0\n\n      if (this.frame) {\n        raf.cancel(this.frame)\n        this.frame = null\n      }\n    }\n\n    render() {\n      const {\n        // not passing down these props\n        strengthMultiplier,\n        verticalStrength,\n        horizontalStrength,\n        onScrollChange,\n        ...props\n      } = this.props\n\n      return (\n        <WrappedComponent\n          ref={ref => {\n            this.wrappedInstance = ref\n          }}\n          {...props}\n        />\n      )\n    }\n  }\n\n  return hoist(ScrollingComponent, WrappedComponent)\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport cx from 'classnames'\nimport withScroll, { createVerticalStrength } from './withScroll'\n\ninterface Props {\n  className?: string\n  useScroll?: boolean\n}\n\nconst DndScrollableElement = styled.div`\n  height: 85vh;\n  padding-top: 0;\n  overflow-y: scroll;\n\n  .report-template-builder {\n    &__main-content {\n      min-height: 371.25mm;\n      margin: 0 auto;\n      padding: 16px;\n      box-sizing: border-box;\n      max-width: 100%;\n      background: #fff;\n      border-top-right-radius: 16px;\n      border-bottom-left-radius: 16px;\n      border-bottom-right-radius: 16px;\n    }\n\n    &__contentarea {\n      min-height: 348.75mm;\n    }\n\n    &__contentarea--fixed-layout {\n      min-height: auto;\n    }\n\n    &__snippet-toolbar {\n      visibility: hidden;\n    }\n  }\n\n  .ui-draggable {\n    &:focus,\n    &:active {\n      outline: 0;\n\n      .course-builder__snippet-toolbar {\n        visibility: visible;\n        opacity: 1;\n        transition: visibility 0s, opacity 0.3s, max-height 0.6s linear;\n      }\n    }\n  }\n\n  &.is--preview {\n    height: auto;\n  }\n`\n\nconst ScrollableComponent = withScroll(DndScrollableElement)\n\nconst vStrength = createVerticalStrength(150)\n\nexport default class ReactDndProvider extends React.Component<Props> {\n  static defaultProps = {\n    useScroll: true,\n  }\n\n  render() {\n    const { className, useScroll } = this.props\n\n    return (\n      <ScrollableComponent\n        useScroll={useScroll}\n        verticalStrength={vStrength}\n        strengthMultiplier={100}\n        className={cx('report-template-builder', className)}>\n        {this.props.children}\n      </ScrollableComponent>\n    )\n  }\n}\n","import React from 'react'\nimport { ModalProps } from 'antd/lib/modal'\nimport { length, __, gt, keys, map, pathOr } from 'ramda'\nimport Modal from '@/components/modal'\nimport Snippet from '@/components/snippet'\nimport { mapIndexed } from '@/utils/webHelper'\nconst { compose } = require('ramda')\n\ninterface Props extends ModalProps {\n  snippetList?: { [key: string]: any[] }\n}\n\nexport default function SnippetPreviewModal({ onCancel, snippetList }: Props) {\n  return (\n    <Modal\n      visible\n      style={{ top: 30 }}\n      maskClosable={false}\n      className=\"ant-modal-header--border-none\"\n      keyboard={false}\n      width=\"85%\"\n      onCancel={onCancel}\n      footer={false}>\n      {compose(\n        map((key: string) => (\n          <div key={key}>\n            {compose(gt(__, 0), length, pathOr([], [key]))(snippetList) && (\n              <h2 className=\"my-2\">{key}</h2>\n            )}\n            {compose(\n              mapIndexed((item: any, idx: number) => (\n                <Snippet key={item.id} draggable={false}>\n                  <item.Component\n                    id={item.id}\n                    className={item.id}\n                    item={item}\n                    index={idx}\n                  />\n                </Snippet>\n              )),\n              pathOr([], [key])\n            )(snippetList)}\n          </div>\n        )),\n        keys\n      )(snippetList)}\n    </Modal>\n  )\n}\n","import { Tabs } from 'antd'\nimport styled from 'styled-components'\n\nconst bg = 'rgb(43,193,183)'\n\nexport default styled(Tabs)`\n  &.ant-tabs {\n    .ant-tabs-tab {\n      display: flex;\n      align-items: center;\n      padding: 10px 24px !important;\n      margin-right: 4px !important;\n      color: #fff !important;\n      border-color: ${bg} !important;\n      background: ${bg} !important;\n      border-top-left-radius: 12px !important;\n      border-top-right-radius: 12px !important;\n    }\n\n    .ant-tabs-tab-active {\n      border-color: #fff !important;\n      background: #fff !important;\n\n      svg path {\n        fill: ${p => p.theme.primary} !important;\n      }\n    }\n\n    .ant-tabs-tab .anticon {\n      color: #fff !important;\n    }\n\n    .ant-tabs-tab.is--over {\n      border: 1px dashed lightgrey !important;\n    }\n\n    .ant-tabs-tab.is--dragging {\n      opacity: 0.3;\n    }\n\n    > .ant-tabs-nav .ant-tabs-nav-add,\n    .ant-tabs > div > .ant-tabs-nav .ant-tabs-nav-add {\n      background: transparent;\n      border-color: transparent;\n      color: ${p => p.theme.darkGrey};\n\n      .anticon-plus {\n        color: ${p => p.theme.darkGrey};\n      }\n\n      .anticon-plus:hover {\n        color: ${p => p.theme.primary};\n      }\n    }\n\n    .ant-tabs-tab-btn:focus,\n    .ant-tabs-tab-remove:focus,\n    .ant-tabs-tab-btn:active,\n    .ant-tabs-tab-remove:active,\n    .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn {\n      color: ${p => p.theme.secondary} !important;\n    }\n  }\n\n  &.ant-tabs-top > .ant-tabs-nav,\n  &.ant-tabs-top > div > .ant-tabs-nav {\n    margin-bottom: 0;\n  }\n`\n","import React from 'react'\nimport { DragSource, DropTarget } from 'react-dnd'\nimport cx from 'classnames'\nimport { compose } from 'ramda'\nimport Tabs from '@/components/tabs'\n\n// Drag & Drop node\nclass TabNode extends React.Component {\n  render() {\n    const {\n      connectDragSource,\n      connectDropTarget,\n      isDragging,\n      isOver,\n      moveTabNode,\n      draggingItem,\n      id,\n      ...props\n    } = this.props\n\n    return connectDragSource(\n      connectDropTarget(\n        React.cloneElement(props.children, {\n          className: cx(props.children.props.className, {\n            'is--dragging': isDragging,\n            'is--over': isOver && id !== draggingItem?.id,\n          }),\n        })\n      )\n    )\n  }\n}\n\nconst withDropTarget = DropTarget(\n  'DND_NODE',\n  {\n    drop(props, monitor) {\n      const dragKey = monitor.getItem().index\n      const hoverKey = props.index\n\n      if (dragKey === hoverKey) {\n        return\n      }\n\n      props.moveTabNode(dragKey, hoverKey)\n      monitor.getItem().index = hoverKey\n    },\n  },\n  (connect, monitor) => ({\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n    draggingItem: monitor.getItem(),\n  })\n)\n\nconst withDragSource = DragSource(\n  'DND_NODE',\n  {\n    beginDrag(props) {\n      return {\n        id: props.id,\n        index: props.index,\n      }\n    },\n  },\n  (connect, monitor) => ({\n    connectDragSource: connect.dragSource(),\n    isDragging: monitor.isDragging(),\n  })\n)\n\nconst WrapTabNode = compose(withDropTarget, withDragSource)(TabNode)\n\nexport default class DraggableTabs extends React.Component {\n  static defaultProps = {\n    order: [],\n  }\n\n  moveTabNode = (dragKey, hoverKey) => {\n    const { children, order, moveTabNode } = this.props\n    const newOrder = order.slice()\n\n    React.Children.forEach(children, c => {\n      if (newOrder.indexOf(c.key) === -1) {\n        newOrder.push(c.key)\n      }\n    })\n\n    const dragIndex = newOrder.indexOf(dragKey)\n    const hoverIndex = newOrder.indexOf(hoverKey)\n\n    newOrder.splice(dragIndex, 1)\n    newOrder.splice(hoverIndex, 0, dragKey)\n\n    moveTabNode(newOrder)\n  }\n\n  renderTabBar = (props, DefaultTabBar) => (\n    <DefaultTabBar {...props}>\n      {node => (\n        <WrapTabNode\n          key={node.key}\n          id={node.key}\n          index={node.key}\n          moveTabNode={this.moveTabNode}>\n          {node}\n        </WrapTabNode>\n      )}\n    </DefaultTabBar>\n  )\n\n  render() {\n    const { moveTabNode, children, ...props } = this.props\n\n    return (\n      <Tabs renderTabBar={this.renderTabBar} {...props}>\n        {children}\n      </Tabs>\n    )\n  }\n}\n\nDraggableTabs.TabPane = Tabs.TabPane\n","import React from 'react'\nimport { DragSource, ConnectDragSource } from 'react-dnd'\nimport styled from 'styled-components'\nimport ItemTypes from '@/constants/item-types'\n\ninterface Props {\n  connectDragSource: ConnectDragSource\n  children?: React.ReactNode\n  className?: string\n  id?: React.Key\n}\n\nconst withDragSource = DragSource(\n  ItemTypes.BOARD,\n  {\n    beginDrag(props: Props) {\n      const { children, className, ...rest } = props // eslint-disable-line\n      return {\n        ...rest,\n        fromMenu: true,\n      }\n    },\n    endDrag(_, monitor) {\n      if (!monitor.didDrop()) {\n        return\n      }\n    },\n    isDragging(props, monitor) {\n      const isDragging = props.id === monitor.getItem().id\n\n      return isDragging\n    },\n  },\n  (connect, monitor) => ({\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n    isDragging: monitor.isDragging(),\n  })\n)\n\nclass SnippetListMenuItem extends React.Component<Props> {\n  render() {\n    const { connectDragSource, id, ...rest } = this.props\n\n    return (\n      <SnippetListMenuWrapper\n        {...rest}\n        ref={comp => connectDragSource(comp)}\n        id={`${id}`}>\n        <div className=\"snippet-drawer-menu__item--content\">\n          {this.props.children}\n        </div>\n      </SnippetListMenuWrapper>\n    )\n  }\n}\n\nconst SnippetListMenuWrapper = styled.div`\n  cursor: move;\n`\n\nexport default withDragSource(SnippetListMenuItem)\n","import React from 'react'\nimport cx from 'classnames'\nimport { FontColorsOutlined } from '@ant-design/icons'\nimport styled from 'styled-components'\nimport SnippetListMenuItem from '@/components/snippet-list-menu-item'\nimport reportTemplateList from '@/components/report-template-list'\n\ninterface Props {\n  className?: string\n  style?: React.CSSProperties\n}\n\nexport default class SnippetListMenu extends React.Component<Props> {\n  render() {\n    return (\n      <SnippetListMenuWrapper\n        className={cx('snippet-drawer-menu', this.props.className)}\n        {...this.props}>\n        <div className=\"snippet-drawer-menu__list\">\n          {reportTemplateList.map(item => (\n            <SnippetListMenuItem\n              {...item}\n              key={item.id}\n              className=\"snippet-drawer-menu__item py-3\">\n              <div className=\"flex items-center\">\n                {item.icon ? (\n                  <item.icon className=\"mr-2\" />\n                ) : (\n                  <FontColorsOutlined className=\"mr-2\" />\n                )}\n                {item.name}\n              </div>\n            </SnippetListMenuItem>\n          ))}\n        </div>\n      </SnippetListMenuWrapper>\n    )\n  }\n}\n\nconst SnippetListMenuWrapper = styled.div`\n  .snippet-drawer-menu {\n    &__list {\n      height: 100%;\n      overflow-y: auto;\n      overflow-x: hidden;\n\n      ::-webkit-scrollbar {\n        display: none;\n      }\n    }\n  }\n`\n","import styled from 'styled-components'\n\ntype Props = {\n  border?: string\n}\n\nexport default styled.div.attrs({\n  className: 'block-placeholder',\n})<Props>`\n  display: flex;\n  align-items: center;\n  padding-left: 25px;\n  height: 50px;\n  border: rgba(225, 225, 225, 0.9) 2px ${p => p.border || 'dashed'};\n  background-color: transparent;\n  margin-bottom: 35px;\n`\n","/**\n * NOTE:\n * nerver using index as list component key forever,\n * it will completely fucked up your page\n */\nimport React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { DropTarget, ConnectDropTarget, XYCoord } from 'react-dnd'\nimport {\n  equals,\n  length,\n  remove,\n  update,\n  insert,\n  cond,\n  gt,\n  lt,\n  T,\n  __,\n  add,\n  pathOr,\n  identity,\n  always,\n} from 'ramda'\nimport cx from 'classnames'\nimport { uuid } from '@/utils/webHelper'\nimport ItemTypes from '@/constants/item-types'\nimport { SnippetProps } from '@/constants/types'\nimport Snippet from '@/components/snippet'\nimport BlockPlaceholder from '@/components/snippet-block-placeholder'\nimport { canMoveSnippet, getPlaceHolderIndex } from './snippet-utils'\nconst { compose } = require('ramda')\n\ninterface Props {\n  draggingItem: any\n  isOver?: boolean\n  draggable?: boolean\n  canDrop?: boolean\n  snippetList: SnippetProps[]\n  connectDropTarget: ConnectDropTarget\n  onSnippetUpdate(data: any): void\n}\n\ninterface State {\n  placeholderIndex: number | null\n}\n\nconst withDropTarget = DropTarget<Props>(\n  ItemTypes.BOARD,\n  {\n    drop(_, monitor, component) {\n      if (!component || !component.props.draggable) {\n        return\n      }\n\n      const canDrop = monitor.canDrop()\n      let { placeholderIndex } = component.state\n      const item = monitor.getItem()\n\n      if (canDrop && item.fromMenu) {\n        component.handleSnippetDrop({ ...item, placeholderIndex })\n      }\n\n      if (canDrop && !item.fromMenu) {\n        component.handleSnippetMove(item.id, placeholderIndex)\n      }\n    },\n    canDrop({ snippetList }, monitor) {\n      // if there is no items in cards, and is over on the board currently,\n      // we can display a placeholder and drop the snippet item on the board.\n      if (snippetList.length === 0 && monitor.isOver()) {\n        return true\n      }\n\n      const clientOffset = monitor.getClientOffset() as XYCoord\n      const element = document.elementFromPoint(clientOffset.x, clientOffset.y)\n\n      return canMoveSnippet(element)\n    },\n    hover(_, monitor, component) {\n      // Determine mouse position\n      const clientOffset = monitor.getClientOffset() as XYCoord\n\n      let {\n        placeholderIndex,\n        isOverSnippet,\n        overSnippet,\n      } = getPlaceHolderIndex(clientOffset)\n\n      // 還要判斷是否是在最後一個 snippet 下面及 snippets-container 裡面\n      if (!isOverSnippet) {\n        return\n      }\n\n      const hoverBoundingRect = (overSnippet as HTMLElement).getBoundingClientRect()\n      const hoverMiddleY =\n        (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top\n\n      if (hoverClientY < hoverMiddleY) {\n        placeholderIndex -= 1\n      }\n\n      if (\n        monitor.canDrop() &&\n        !equals(component.state.placeholderIndex, placeholderIndex)\n      ) {\n        component.setState({ placeholderIndex })\n      }\n    },\n  },\n  (connect, monitor) => ({\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n    canDrop: monitor.canDrop(),\n    didDrop: monitor.didDrop(),\n    draggingItem: monitor.getItem(),\n  })\n)\n\nclass SnippetsContainer extends React.Component<Props, State> {\n  static defaultProps = {\n    draggable: true,\n    snippetList: [],\n  }\n\n  public state: State = {\n    placeholderIndex: null,\n  }\n\n  handleSnippetMove = (id: React.Key, atIndex: number) => {\n    const { snippetList } = this.props\n    const { snippet, index } = this.handleFindSnippet(id)\n\n    const newList = []\n    let isPlaced = false\n\n    snippetList.forEach((s, idx) => {\n      if (idx === index) {\n        return\n      }\n\n      if (!isPlaced && atIndex < idx) {\n        newList.push(snippet)\n        isPlaced = true\n      }\n\n      newList.push(s)\n\n      if (!isPlaced && atIndex === idx) {\n        newList.push(snippet)\n        isPlaced = true\n      }\n    })\n\n    // we dropped the only one snippet in the list so let it back to list.\n    if (length(snippetList) === 1 && !atIndex) {\n      newList.push(snippet)\n    }\n\n    this.props.onSnippetUpdate(newList)\n    this.setState({ placeholderIndex: null })\n  }\n\n  // prettier-ignore\n  handleSnippetDrop = (droppedItem: { [key: string]: any; placeholderIndex: number }) => {\n    const { placeholderIndex, ...item } = droppedItem\n\n    const snippetList = [...this.props.snippetList]\n\n    const nextIndex = placeholderIndex + 1\n    let newList: any[] = []\n\n    const snippet: Partial<SnippetProps> = {\n      ...item,\n      fromMenu: false,\n      id: `${item.id}__${uuid()}`,\n    }\n\n    if (length(snippetList) === 0) {\n      newList = insert(0, snippet)(snippetList)\n    }\n    if (length(snippetList) > 0) {\n      newList = insert(nextIndex, snippet)(snippetList)\n    }\n\n    this.props.onSnippetUpdate(newList)\n    this.setState({ placeholderIndex: null })\n  }\n\n  handleSnippetRemove = (index: number) => {\n    this.props.onSnippetUpdate(remove(index, 1)(this.props.snippetList))\n  }\n\n  handleSnippetShift = (id: React.Key, shift: number) => {\n    const { snippet } = this.handleFindSnippet(id)\n\n    this.handleSnippetUpdate({\n      ...snippet,\n      tabSize: compose(\n        cond([\n          [gt(__, 2), always(2)],\n          [lt(__, 0), always(0)],\n          [T, identity],\n        ]),\n        add(shift),\n        pathOr(0, ['tabSize'])\n      )(snippet),\n    })\n  }\n\n  handleSnippetUpdate = (data: any) => {\n    const { snippet, index } = this.handleFindSnippet(data.id)\n\n    this.props.onSnippetUpdate(\n      update(index, { ...snippet, ...data })(this.props.snippetList)\n    )\n  }\n\n  handleFindSnippet = (id: React.Key) => {\n    const { snippetList } = this.props\n    const snippet = snippetList.filter(x => x.id === id)[0]\n\n    return {\n      snippet,\n      index: snippetList.indexOf(snippet),\n    }\n  }\n\n  render() {\n    const {\n      connectDropTarget,\n      isOver,\n      canDrop,\n      snippetList,\n      draggingItem,\n      draggable, // 模版是否可拖曳，編輯模式下才會是 true\n    } = this.props\n\n    const { placeholderIndex } = this.state\n\n    let isPlaceHold = false\n    const cardList = []\n\n    snippetList.forEach((item, idx) => {\n      if (isOver && canDrop) {\n        isPlaceHold = false\n        if (idx === 0 && placeholderIndex === -1) {\n          cardList.push(<BlockPlaceholder key={`block-placeholder-${idx}`} />)\n        } else if ((placeholderIndex as any) > idx) {\n          isPlaceHold = true\n        }\n      }\n\n      if (item !== undefined) {\n        cardList.push(\n          <Snippet\n            key={item.id}\n            id={item.id}\n            wrapperId={`snippet-wrapper-${idx}`}\n            index={idx}\n            draggable={draggable}\n            tabSize={item.tabSize}\n            findSnippet={this.handleFindSnippet}\n            shiftSnippet={this.handleSnippetShift}\n            removeSnippet={this.handleSnippetRemove}>\n            <item.Component\n              id={item.id}\n              className={item.id}\n              item={item}\n              index={idx}\n              onUpdate={this.handleSnippetUpdate}\n            />\n          </Snippet>\n        )\n      }\n\n      if (isOver && canDrop && placeholderIndex === idx) {\n        cardList.push(<BlockPlaceholder key={`block-placeholder-${idx}`} />)\n      }\n    })\n\n    // if placeholder index is greater than array.length, display placeholder as last\n    if (isPlaceHold) {\n      cardList.push(<BlockPlaceholder key={'block-placeholder-bottom'} />)\n    }\n\n    // if there is no items in cards currently, display a placeholder anyway\n    if (isOver && canDrop && snippetList.length === 0) {\n      cardList.push(<BlockPlaceholder key={'block-placeholder-zero'} />)\n    }\n\n    // if just has only one item in list and currently dragged, display a placeholder\n    if (isOver && canDrop && snippetList.length === 1) {\n      if (!draggingItem.fromMenu) {\n        cardList.push(<BlockPlaceholder key={'block-placeholder-zero'} />)\n      }\n    }\n\n    return connectDropTarget(\n      <div\n        className={cx('report-template-builder__contentarea', {\n          'report-template-builder__contentarea--fixed-layout': !draggable,\n        })}>\n        {cardList}\n      </div>\n    )\n  }\n}\n\nexport default compose(withRouter, withDropTarget)(SnippetsContainer)\n","// This icon file is generated automatically.\nvar DeleteOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z\" } }] }, \"name\": \"delete\", \"theme\": \"outlined\" };\nexport default DeleteOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DeleteOutlinedSvg from \"@ant-design/icons-svg/es/asn/DeleteOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DeleteOutlined = function DeleteOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: DeleteOutlinedSvg\n  }));\n};\n\nDeleteOutlined.displayName = 'DeleteOutlined';\nexport default React.forwardRef(DeleteOutlined);"],"sourceRoot":""}