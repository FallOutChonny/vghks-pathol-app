{"version":3,"sources":["components/query-table.tsx","services/yellowCard.ts","containers/blood-bank-review/blood-bank-review.tsx"],"names":["QueryTable","columns","className","pageNum","dataSource","onChange","loading","rowSelection","pagination","props","paginationConfig","merge","current","pageSize","total","showSizeChanger","rowKey","content","compose","require","useYellowCards","React","useState","totalPages","data","setData","refetch","values","_data","map","_","id","uuid","workNo","faker","lorem","slug","HHISNUM","company","catchPhrase","patholInfo","name","firstName","age","random","number","sex","reportTime","moment","reportTimeStr","format","times","identity","length","Math","floor","locale","formItemLayout","createFormItemLayout","BloodBankReview","useTitle","useBreadcrumb","useForm","form","style","height","justify","md","xs","layout","hideRequiredMark","labelAlign","colon","gutter","Item","label","color","width","onClick","allowClear","x","Option","key","value","title","dataIndex"],"mappings":"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","file":"static/js/9.9adc547b.chunk.js","sourcesContent":["import React from 'react'\nimport { ColumnProps, TableProps, TablePaginationConfig } from 'antd/lib/table'\nimport { SpinProps } from 'antd/lib/spin'\nimport { merge } from 'ramda'\nimport { DataSource } from '@/constants/types'\nimport Table from '@/components/table'\n\ntype Props<T> = Omit<TableProps<T>, 'dataSource'> & {\n  columns: ColumnProps<T>[]\n  className?: string\n  pageNum?: number\n  dataSource: DataSource<T>\n  onChange?: (pagination: TablePaginationConfig) => any\n  loading?: boolean | SpinProps\n  rowSelection?: {\n    selectedRowKeys: any[]\n    onChange: (selectedRowKeys: any, selectedRows: any) => void\n  }\n}\n\nexport default function QueryTable<T>({\n  columns,\n  className,\n  pageNum = 1,\n  dataSource,\n  onChange,\n  loading = false,\n  rowSelection,\n  pagination,\n  ...props\n}: Props<T>) {\n  const handleTableChange = ({ current, pageSize }: TablePaginationConfig) => {\n    if (onChange) {\n      onChange({ current, pageSize })\n    }\n  }\n\n  const paginationConfig = merge<any, any>(pagination, {\n    current: pageNum,\n    pageSize: 10,\n    total: dataSource.total,\n    showSizeChanger: false,\n  }) as TablePaginationConfig\n\n  return (\n    <Table\n      rowKey=\"id\"\n      dataSource={dataSource.content}\n      columns={columns as any}\n      pagination={paginationConfig}\n      onChange={handleTableChange}\n      rowSelection={rowSelection}\n      loading={loading}\n      className={className}\n      {...props}\n    />\n  )\n}\n","import React from 'react'\nimport { length, times, identity, map } from 'ramda'\nimport moment from 'moment'\nimport { DataSource } from '@/constants/types'\nimport { uuid } from '@/utils/webHelper'\nimport faker from 'faker'\nconst { compose } = require('ramda')\n\nfaker.locale = 'zh_TW'\n\nexport function useYellowCards() {\n  const [data, setData] = React.useState<DataSource>({\n    content: [],\n    total: 0,\n    totalPages: 0,\n  })\n\n  const refetch = (values?: any) => {\n    const _data = compose(\n      map(_ => ({\n        id: uuid(),\n        workNo: faker.lorem.slug(),\n        HHISNUM: faker.company.catchPhrase(),\n        patholInfo: faker.company.catchPhrase(),\n        name: faker.name.firstName(),\n        age: faker.random.number(50),\n        sex: '男',\n        reportTime: moment(),\n        reportTimeStr: moment().format('YYYY.MM.DD HH:mm:ss'),\n      })),\n      times(identity)\n    )(100)\n\n    setData({\n      content: _data,\n      total: length(_data),\n      totalPages: Math.floor(length(_data) / 10) + 1,\n    })\n  }\n\n  return {\n    data,\n    refetch,\n    loading: false,\n  }\n}\n","import React from 'react'\nimport { length, compose, identity, times, map } from 'ramda'\nimport { Row, Col, Form } from 'antd'\nimport { ColumnProps } from 'antd/lib/table'\nimport useTitle from '@/hooks/useTitle'\nimport { useBreadcrumb } from '@/hooks/useApp'\nimport { useYellowCards } from '@/services/yellowCard'\nimport Select from '@/components/select'\nimport Input from '@/components/input'\nimport Table from '@/components/query-table'\nimport Button from '@/components/button'\nimport { Page } from '@/components/layout'\nimport { createFormItemLayout } from '@/utils/form'\n\nconst formItemLayout = createFormItemLayout(5)\n\nexport default function BloodBankReview() {\n  useTitle('血庫備血審查作業')\n  useBreadcrumb([{ name: '清單查詢' }, { name: '血庫備血審查作業' }])\n\n  const [form] = Form.useForm()\n\n  const { data, refetch } = useYellowCards()\n\n  const handleOk = () => {\n    refetch()\n  }\n\n  const columns: ColumnProps<any>[] = [\n    { title: '申請序號', dataIndex: 'serialNo' },\n    { title: '就醫別', dataIndex: 'seekMedicalType' },\n    { title: '就醫號', dataIndex: 'seekMedicalNo' },\n    { title: '姓名', dataIndex: 'name' },\n    { title: '工作號', dataIndex: 'workNo' },\n    { title: '病歷號', dataIndex: 'medicalNo' },\n    { title: '性別', dataIndex: 'sex' },\n    { title: '開立日期', dataIndex: 'createTimeStr' },\n    { title: '執行日期', dataIndex: 'reportTimeStr' },\n    { title: '醫囑名稱', dataIndex: 'doctorSay' },\n    { title: '收費碼', dataIndex: 'paymentId' },\n    { title: '狀態', dataIndex: 'status' },\n    { title: '執行科別代碼', dataIndex: 'age' },\n  ]\n\n  return (\n    <Page style={{ height: 'calc(100vh - 203px)' }}>\n      <Row justify=\"center\">\n        <Col md={22} xs={24}>\n          <Form\n            form={form}\n            layout=\"horizontal\"\n            hideRequiredMark={true}\n            labelAlign=\"left\"\n            colon={false}>\n            <Row gutter={24}>\n              <Col md={8} xs={24}>\n                <Form.Item\n                  {...formItemLayout}\n                  className=\"mb-3\"\n                  label=\"科別\"\n                  name=\"no\">\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col md={8} xs={24}>\n                <Form.Item\n                  {...formItemLayout}\n                  className=\"mb-3\"\n                  label=\"收費碼\"\n                  name=\"no\">\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col md={5} xs={24}>\n                <Form.Item className=\"mb-3\">\n                  <Button\n                    color=\"primary\"\n                    className=\"ml-4\"\n                    style={{ width: 120 }}\n                    onClick={handleOk}>\n                    搜尋\n                  </Button>\n                </Form.Item>\n              </Col>\n            </Row>\n            <Row gutter={24}>\n              <Col md={8} xs={24}>\n                <Form.Item {...formItemLayout} label=\"審核醫生\" name=\"doctor\">\n                  <Select allowClear>\n                    {compose(\n                      map((x: number) => (\n                        <Select.Option key={x} value={x}>\n                          {x}\n                        </Select.Option>\n                      )),\n                      times(identity)\n                    )(120)}\n                  </Select>\n                </Form.Item>\n              </Col>\n              <Col md={8} xs={24}>\n                <Form.Item {...formItemLayout} label=\"狀態\" name=\"state\">\n                  <Select allowClear>\n                    <Select.Option value={1}>初步</Select.Option>\n                  </Select>\n                </Form.Item>\n              </Col>\n            </Row>\n          </Form>\n        </Col>\n      </Row>\n      {length(data.content) > 0 && (\n        <>\n          <Row className=\"mb-2 mt-4\" justify=\"center\">\n            <Col md={22} xs={24} className=\"text-sm\">\n              檢索結果共 <span className=\"text-primary\">{data.total}</span> 筆\n            </Col>\n          </Row>\n          <Row justify=\"center\">\n            <Col md={22} xs={24}>\n              <Table rowKey=\"id\" dataSource={data} columns={columns} />\n            </Col>\n          </Row>\n        </>\n      )}\n    </Page>\n  )\n}\n"],"sourceRoot":""}