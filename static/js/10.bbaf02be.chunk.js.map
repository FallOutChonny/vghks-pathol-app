{"version":3,"sources":["../node_modules/@ant-design/icons-svg/es/asn/EyeOutlined.js","../node_modules/@ant-design/icons/es/icons/EyeOutlined.js","containers/report-template-list/report-template-list.tsx","hooks/useModal.tsx","../node_modules/react-dnd-html5-backend/dist/esm/getEmptyImage.js","../node_modules/react-dnd/dist/esm/index.js","components/input.tsx","hooks/useReportTemplate.ts","utils/form.ts","../node_modules/react-dnd/dist/esm/utils/js_utils.js","../node_modules/react-dnd/dist/esm/decorators/utils.js","components/checkbox.tsx","../../src/index.ts","components/app-footer.tsx","hooks/useVisible.ts","utils/message.tsx","../node_modules/react-dnd/dist/esm/common/registration.js","../node_modules/react-dnd/dist/esm/utils/isRef.js","../node_modules/react-dnd/dist/esm/utils/cloneWithRef.js","../node_modules/react-dnd/dist/esm/common/wrapConnectorHooks.js","constants/item-types.ts","components/layout.tsx","hooks/useTitle.ts","components/modal.tsx","components/table.tsx","components/select.tsx","components/report-template-modal.tsx","components/report-template-wrapper.tsx","components/report-template-input-text.tsx","components/input-number.tsx","components/report-template-input-number.tsx","components/editable-table.tsx","components/report-template-selection-modal.tsx","components/report-template-multiple-selection.tsx","components/radio.tsx","components/report-template-single-selection.tsx","components/datepicker.tsx","components/report-template-date.tsx","components/report-template-time.tsx","components/report-template-select.tsx","components/report-template-section-header.tsx","components/report-template-list.tsx","../node_modules/react-dnd/dist/esm/interfaces/index.js","../node_modules/react-dnd/dist/esm/decorators/index.js","../node_modules/react-dnd/dist/esm/utils/isValidType.js","../node_modules/react-dnd/dist/esm/decorators/DragLayer.js","components/snippet-utils.ts","../node_modules/react-dnd/dist/esm/decorators/createSourceFactory.js","../node_modules/react-dnd/dist/esm/decorators/DragSource.js","../node_modules/react-dnd/dist/esm/decorators/createTargetFactory.js","../node_modules/react-dnd/dist/esm/decorators/DropTarget.js","../node_modules/react-dnd/dist/esm/decorators/disposables.js","../node_modules/react-dnd/dist/esm/decorators/decorateHandler.js","../node_modules/react-dnd/dist/esm/common/SourceConnector.js","../node_modules/react-dnd/dist/esm/common/DragSourceMonitorImpl.js","../node_modules/react-dnd/dist/esm/common/DropTargetMonitorImpl.js","../node_modules/react-dnd/dist/esm/common/TargetConnector.js","../node_modules/lodash.throttle/index.js","../node_modules/@ant-design/icons-svg/es/asn/LeftOutlined.js","../node_modules/@ant-design/icons/es/icons/LeftOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/RightOutlined.js","../node_modules/@ant-design/icons/es/icons/RightOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/EditOutlined.js","../node_modules/@ant-design/icons/es/icons/EditOutlined.js","components/snippet-toolbar.tsx","components/snippet.tsx","components/withScroll.js","components/snippet-scrollable-container.tsx","components/snippet-preview-modal.tsx","components/query-table.tsx","../node_modules/@ant-design/icons-svg/es/asn/DeleteOutlined.js","../node_modules/@ant-design/icons/es/icons/DeleteOutlined.js"],"names":["EyeOutlined","props","ref","React","AntdIcon","Object","assign","icon","EyeOutlinedSvg","displayName","ReportTemplateList","useTitle","useBreadcrumb","name","useReportTemplates","dataSource","content","key","onToggle","ownState","useState","editModalVisible","setEditModalVisible","item","setItem","findItem","useCallback","evt","find","x","path","currentTarget","dataset","handleModalToggle","prev","useModal","previewModalVisible","handlePreviewModalVisible","useReportPreview","setIsPreview","handleTo","pathname","history","push","handlePreview","columns","title","dataIndex","render","v","r","type","onClick","record","replace","id","routes","align","_","data-id","className","DeleteOutlined","snippetList","setting","onCancel","span","color","rowKey","emptyImage","getEmptyImage","Image","src","borderLess","css","p","theme","primary","StyledInput","styled","secondary","TextArea","compose","require","faker","snippetCategoryOfReport","CLINICAL_HISTORY","HIGHT_RISK_REASONS","DATA_OF_PRIOR_SIMILAR_STUDY","IMAGING_PROTOCOL","TUMOR_LOCATION","fakeReportTemplateList","Array","from","length","map","idx","lorem","word","author","findName","status","statusName","createdAt","moment","createdAtStr","format","updatedAt","updatedAtStr","description","mergeAll","Component","reportTemplateById","pathOr","fakeSetting","keys","defaultSnippetsOfReport","values","snippetsOfReportState","atomFamily","default","propEq","Number","reportTemplateListState","atom","total","reportPreviewState","categoryState","head","useRecoilState","useReportTemplate","_snippetList","useEffect","setSnippetList","JSON","stringify","category","setCategory","handleTabAdd","last","inc","getNumberFromString","Rlast","sort","a","b","handleTabRemove","targetKey","confirm","onOk","omit","filter","snippetById","handleTabEdit","e","action","handleTabChange","activeKey","handleTabMove","order","snippetKeys","orderA","indexOf","orderB","handleTabNameChange","newTabName","target","innerHTML","handleSnippetUpdate","data","flatten","isPreview","useToggleReportPreview","state","useUpdateSnippet","options","onUpdate","defaultValue","setSetting","handleOk","createFormItemLayout","label","wrapper","labelCol","xs","sm","wrapperCol","thosandSeprartor","formatter","value","parser","currency","percent","max","rules","required","message","number","transform","account","pattern","RegExp","password","_typeof","obj","Symbol","iterator","constructor","prototype","isFunction","input","noop","isPlainObject","isObjectLike","getPrototypeOf","proto","getDecoratedComponent","instanceRef","currentRef","current","decoratedRef","isRefable","C","_item$$$typeof","$$typeof","toString","isRefForwardingComponent","checkDecoratorArguments","functionName","signature","CheckboxGroup","Group","StyledCheckbox","CheckboxComponent","forwardRef","shallowEqual","objA","objB","compare","compareContext","compareResult","keysA","keysB","bHasOwnProperty","valueA","valueB","AppFooter","Footer","style","background","useVisible","onRequestOpen","visible","setVisible","handleVisible","handleClose","marginTop","marginBottom","width","okText","cancelText","centered","autoFocusButton","okButtonProps","minWidth","marginRight","cancelButtonProps","modalDefaultProps","registerTarget","manager","registry","getRegistry","targetId","addTarget","removeTarget","registerSource","source","sourceId","addSource","removeSource","isRef","hasOwnProperty","call","setRef","node","cloneWithRef","element","newRef","previousRef","invariant","cloneElement","throwIfCompositeComponentElement","Error","concat","wrapConnectorHooks","hooks","wrappedHooks","forEach","hook","endsWith","wrappedHook","elementOrNode","arguments","undefined","isValidElement","wrapHookToRecognizeElement","CARD","BOARD","SNIPPET","borderTopLeftRadius","borderTopRightRadius","Page","children","Content","cx","DEFAULT_USE_TITLE_OPTIONS","restoreOnUnmount","document","prevTitleRef","useRef","envStore","appTitle","_title","StyledModal","ModalComponent","this","error","success","info","StyledTable","pagination","TableComponent","editable","onAddRowClick","isRowDeletable","onDeleteRowClick","isCanEdit","_columns","useMemo","canEdit","placement","top","__","locale","emptyText","image","PRESENTED_IMAGE_SIMPLE","Column","StyledSelect","SelectComponent","Option","TemplateModal","maskClosable","keyboard","footer","StyledCard","TemplateWrapper","onDelete","onEdit","titleVisible","bodyVisible","FontColorsOutlined","isNil","InputTextModal","useForm","form","validateFields","then","labelAlign","initialValues","Item","valuePropName","StyledInputNumber","attrs","min","ThousandSeprartorInput","CurrencyInput","PercentInput","InputNumberModal","EditableTable","onChange","onRowAdd","onRowDelete","triggerChange","changedValue","size","uuid","text","selected","freetext","TemplateSelectionModal","noStyle","invoker","ReportTemplateMultipleSelection","handleEditModalVisible","bodyStyle","paddingLeft","mapIndexed","defaultChecked","bordered","placeholder","StyledRadio","darkGrey","RadioComponent","ReportTemplateSingleSelection","StyledDatePicker","StyledTimePicker","DatePickerComponent","InputDateModal","allowClear","picker","InputTimeModal","reportTemplateList","componentType","BoldOutlined","FontSizeOutlined","inputProps","tooltip","multipleLine","autoSize","minRows","NumberOutlined","units","DatabaseOutlined","UnorderedListOutlined","TemplateMultipleSelection","OrderedListOutlined","TemplateSingleSelection","CalendarOutlined","ClockCircleOutlined","isValidType","allowArray","isArray","every","t","_classCallCheck","instance","Constructor","TypeError","_defineProperties","i","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","o","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","apply","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","DragLayer","collect","DecoratedComponent","Decorated","_options$arePropsEqua","arePropsEqual","DragLayerContainer","_React$Component","_super","_this","isCurrentlyMounted","handleChange","nextState","getCurrentState","setState","nextProps","unsubscribeFromOffsetChange","unsubscribeFromStateChange","_this2","DndContext","Consumer","_ref","dragDropManager","receiveDragDropManager","monitor","getMonitor","subscribeToOffsetChange","subscribeToStateChange","hoistStatics","hasClassName","nodes","n","includes","canMoveSnippet","elem","parentNode","unshift","getPlaceHolderIndex","clientOffset","overSnippet","findSnippet","classList","contains","parentElement","elementFromPoint","y","snippetIndex","index","placeholderIndex","isOverSnippet","getDisplayName","ALLOWED_SPEC_METHODS","REQUIRED_SPEC_METHODS","SourceImpl","spec","beginDrag","canDrag","globalMonitor","isDragging","getSourceId","endDrag","createSourceFactory","join","DragSource","getType","createSource","decorateHandler","containerDisplayName","createHandler","registerHandler","createConnector","backend","SourceConnector","createMonitor","DragSourceMonitorImpl","TargetImpl","canDrop","hover","drop","createTargetFactory","DropTarget","createTarget","DropTargetMonitorImpl","TargetConnector","Disposable","isDisposed","d","Boolean","dispose","isDisposable","empty","CompositeDisposable","_len","disposables","_key","shouldDispose","splice","len","currentDisposables","_i","_i2","SerialDisposable","old","_slicedToArray","arr","_arrayWithHoles","_arr","_n","_d","_e","_s","next","done","err","_iterableToArrayLimit","minLen","_arrayLikeToArray","slice","test","_unsupportedIterableToArray","_nonIterableRest","arr2","DragDropContainer","disposable","receiveProps","handlerId","currentType","prevProps","handler","receiveType","handlerMonitor","handlerConnector","_registerHandler2","unregister","receiveHandlerId","unsubscribe","handlerIds","setDisposable","_ref2","requestAnimationFrame","_this2$handlerConnect","reconnect","getBackend","dragSource","clearDragSource","dragSourceOptions","dragSourceRef","dragSourceNode","reconnectDragSource","dragPreview","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","dragSourceOptionsInternal","dragPreviewOptionsInternal","lastConnectedHandlerId","lastConnectedDragSource","lastConnectedDragSourceOptions","lastConnectedDragPreview","lastConnectedDragPreviewOptions","newHandlerId","didChange","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","dragSourceUnsubscribe","connectDragSource","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","dragPreviewUnsubscribe","connectDragPreview","get","set","isCallingCanDrag","isCallingIsDragging","internalMonitor","canDragSource","isDraggingSource","listener","isOverTarget","getTargetIds","isSourcePublic","canDropOnTarget","getItemType","getItem","getDropResult","didDrop","getInitialClientOffset","getInitialSourceClientOffset","getSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","isCallingCanDrop","dropTarget","clearDropTarget","dropTargetOptions","dropTargetRef","dropTargetNode","dropTargetOptionsInternal","lastConnectedDropTarget","lastConnectedDropTargetOptions","didDropTargetChange","didOptionsChange","disconnectDropTarget","unsubscribeDropTarget","connectDropTarget","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","global","freeSelf","root","Function","objectToString","nativeMax","Math","nativeMin","now","debounce","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","thisArg","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","toNumber","isObject","cancel","clearTimeout","flush","isSymbol","other","valueOf","isBinary","module","exports","LeftOutlined","LeftOutlinedSvg","RightOutlined","RightOutlinedSvg","EditOutlined","EditOutlinedSvg","ToolbarWrapper","div","SHIFT_TYPES","SnippetToolbar","tabIndex","onShift","handleShift","shift","withDragSource","ItemTypes","fromMenu","originalIndex","draggable","connect","Snippet","componentDidMount","shiftSnippet","handleRemove","removeSnippet","_onMouseOver","_onMouseOut","wrapperId","styles","mergeRight","tabSize","isFocus","borderRadius","border","outlineColor","purple150","cursor","position","display","marginLeft","getItemStyles","onMouseOver","onMouseOut","data-index","Children","child","intBetween","val","floor","createVerticalStrength","_buffer","point","h","w","buffer","defaultHorizontalStrength","defaultVerticalStrength","ScrollableComponent","WrappedComponent","ScrollingComponent","ctx","handleEvent","dragging","attached","attach","updateScrolling","throttle","container","getBoundingClientRect","box","left","height","coords","changedTouches","clientX","clientY","getCoords","scaleX","horizontalStrength","scaleY","verticalStrength","frame","startScrolling","useScroll","_initial","findDOMNode","wrappedInstance","addEventListener","window","body","clearMonitorSubscription","context","handleMonitorChange","_remove","removeEventListener","stopScrolling","tick","strengthMultiplier","onScrollChange","scrollLeft","scrollTop","scrollWidth","scrollHeight","clientWidth","clientHeight","raf","detach","defaultProps","contextType","hoist","withScroll","vStrength","ReactDndProvider","SnippetPreviewModal","gt","QueryTable","pageNum","loading","rowSelection","paginationConfig","merge","pageSize","showSizeChanger","DeleteOutlinedSvg"],"mappings":"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","file":"static/js/10.bbaf02be.chunk.js","sourcesContent":["// This icon file is generated automatically.\nvar EyeOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z\" } }] }, \"name\": \"eye\", \"theme\": \"outlined\" };\nexport default EyeOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EyeOutlinedSvg from \"@ant-design/icons-svg/es/asn/EyeOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EyeOutlined = function EyeOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: EyeOutlinedSvg\n  }));\n};\n\nEyeOutlined.displayName = 'EyeOutlined';\nexport default React.forwardRef(EyeOutlined);","import React from 'react'\nimport { replace } from 'ramda'\nimport { Row, Col, Tooltip } from 'antd'\nimport { ColumnProps } from 'antd/lib/table'\nimport { EyeOutlined, DeleteOutlined } from '@ant-design/icons'\nimport { Page } from '@/components/layout'\nimport Button from '@/components/button'\nimport Table from '@/components/query-table'\nimport history from '@/utils/history'\nimport useTitle from '@/hooks/useTitle'\nimport { useReportTemplates, useReportPreview } from '@/hooks/useReportTemplate'\nimport { useBreadcrumb } from '@/hooks/useApp'\nimport useModal from '@/hooks/useModal'\nimport * as routes from '@/constants/routes'\nimport { ReportTemplate } from '@/services/reportService'\nimport ReactDndProvider from '@/components/snippet-scrollable-container'\nimport SnippetPreviewModal from '@/components/snippet-preview-modal'\n\nexport default function ReportTemplateList() {\n  useTitle('結構式報告模版列表')\n  useBreadcrumb([{ name: '結構式報告' }, { name: '結構式報告模版列表' }])\n\n  const [dataSource] = useReportTemplates()\n\n  const [previewModalVisible, handlePreviewModalVisible, { item }] = useModal({\n    content: dataSource.content,\n  })\n\n  const [, setIsPreview] = useReportPreview()\n\n  const handleTo = (pathname: string) => () => {\n    history.push(pathname)\n  }\n\n  const handleToEditPage = (record: ReportTemplate) => () => {\n    handleTo(replace(':id', `${record.id}`)(routes.REPORT_TEMPLATE_EDIT))()\n  }\n\n  const handlePreview = (evt: React.MouseEvent<HTMLElement>) => {\n    setIsPreview()\n    handlePreviewModalVisible(evt)\n  }\n\n  const columns: ColumnProps<ReportTemplate>[] = [\n    {\n      title: '報告名稱',\n      dataIndex: 'name',\n      render: (v, r) => (\n        <Button type=\"link\" onClick={handleToEditPage(r)}>\n          {v}\n        </Button>\n      ),\n    },\n    {\n      title: '創作者',\n      dataIndex: 'author',\n    },\n    {\n      title: '狀態',\n      dataIndex: 'statusName',\n    },\n    {\n      title: '創作時間',\n      dataIndex: 'createdAtStr',\n    },\n    {\n      title: '上次修改時間',\n      dataIndex: 'updatedAtStr',\n    },\n    {\n      title: '報告描述',\n      dataIndex: 'description',\n    },\n    {\n      title: 'actions',\n      dataIndex: 'delete',\n      align: 'center',\n      render: (_, r) => (\n        <>\n          <Tooltip title=\"檢視\">\n            <EyeOutlined\n              data-id={r.id}\n              className=\"c-icon text-lg cursor-pointer mr-3\"\n              onClick={handlePreview}\n            />\n          </Tooltip>\n          <Tooltip title=\"刪除\">\n            <DeleteOutlined\n              data-id={r.id}\n              className=\"c-icon text-lg cursor-pointer\"\n            />\n          </Tooltip>\n        </>\n      ),\n    },\n  ]\n\n  return (\n    <ReactDndProvider className=\"is--preview\">\n      {previewModalVisible && (\n        <SnippetPreviewModal\n          snippetList={item?.setting}\n          onCancel={handlePreview}\n        />\n      )}\n      <Page>\n        <Row className=\"mb-4\">\n          <Col span={24} className=\"flex justify-end\">\n            <Button color=\"outline\">匯入</Button>\n            <Button\n              color=\"outline\"\n              className=\"ml-4\"\n              onClick={handleTo(routes.REPORT_TEMPLATE_CREATE)}>\n              新增\n            </Button>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={24}>\n            <Table rowKey=\"id\" columns={columns} dataSource={dataSource} />\n          </Col>\n        </Row>\n      </Page>\n    </ReactDndProvider>\n  )\n}\n","import React from 'react'\nimport { find, path } from 'ramda'\n\nexport default function useModal<T, TDetail = T>({\n  content,\n  key = 'id',\n  onToggle,\n  ownState,\n}: {\n  content: T[]\n  key?: string\n  ownState?: [T | null, React.Dispatch<React.SetStateAction<T | null>>]\n  onToggle?: (item: T) => any\n}) {\n  const [editModalVisible, setEditModalVisible] = React.useState(false)\n  const [item, setItem] = ownState || React.useState<T | null>(null) // eslint-disable-line\n\n  const findItem = React.useCallback(\n    (evt: React.MouseEvent<HTMLElement>) => {\n      return find(\n        x =>\n          `${path([key], x)}` ===\n          (evt.currentTarget as HTMLElement).dataset['id']\n      )(content)\n    },\n    [content, key]\n  )\n\n  const handleModalToggle = (evt?: React.MouseEvent<HTMLElement>) => {\n    if (!evt) {\n      return\n    }\n\n    const item = findItem(evt)\n\n    if (!item) {\n      setItem(null)\n    }\n\n    if (item) {\n      setItem(item as T)\n    }\n\n    if (onToggle) {\n      onToggle(item as T)\n    }\n  }\n\n  const handleEditModalVisible = (evt?: React.MouseEvent<HTMLElement>) => {\n    setEditModalVisible(prev => !prev)\n    handleModalToggle(evt)\n  }\n\n  return [\n    editModalVisible,\n    handleEditModalVisible,\n    {\n      item,\n      handleModalToggle,\n      setItem,\n    },\n  ] as [\n    boolean,\n    (evt?: React.MouseEvent<HTMLElement, MouseEvent> | undefined) => void,\n    {\n      item: T | null\n      setItem: (value: React.SetStateAction<T | null>) => void\n      handleModalToggle: (\n        evt?: React.MouseEvent<HTMLElement, MouseEvent> | undefined\n      ) => void\n      itemDetail: TDetail\n    }\n  ]\n}\n","var emptyImage;\nexport function getEmptyImage() {\n  if (!emptyImage) {\n    emptyImage = new Image();\n    emptyImage.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n  }\n\n  return emptyImage;\n}","export * from './common';\nexport * from './interfaces';\nexport * from './hooks';\nexport * from './decorators';","import { Input } from 'antd'\nimport styled, { css } from 'styled-components'\n\nconst borderLess = css`\n  &.ant-input-borderless {\n    border: none;\n    border-bottom: 1px solid ${p => p.theme.primary};\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  &:active:not(.ant-input-borderless) {\n    box-shadow: 0 0 0 1px ${p => p.theme.primary};\n  }\n`\n\nconst StyledInput = styled(Input)`\n  &.ant-input-affix-wrapper .ant-input,\n  &.ant-input {\n    border-color: ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    ${borderLess};\n  }\n`\n\nconst Search = styled(Input.Search)`\n  &.ant-input-search {\n    .ant-input {\n      border-color: ${p => p.theme.primary};\n\n      &:hover,\n      &:focus {\n        border-color: ${p => p.theme.secondary};\n      }\n\n      &:focus {\n        box-shadow: 0 0 0 1px ${p => p.theme.primary};\n      }\n    }\n\n    .anticon-search {\n      font-size: 20px;\n      color: ${p => p.theme.primary};\n    }\n  }\n`\n\nconst TextArea = styled(Input.TextArea)`\n  &.ant-input {\n    resize: none;\n    border: 1px solid ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    ${borderLess};\n  }\n`\n\nexport { StyledInput as Input, TextArea, Search }\n\nexport default StyledInput\n","import React from 'react'\nimport { atom, atomFamily, useRecoilState } from 'recoil'\nimport {\n  find,\n  mergeAll,\n  map,\n  values,\n  head,\n  keys,\n  path,\n  pathOr,\n  propEq,\n  sort,\n  last as Rlast,\n  omit,\n  inc,\n  filter,\n  flatten,\n  length,\n} from 'ramda'\nimport moment from 'moment'\nimport fakeSetting from '@/mocks/fake-snippet-setting.json'\nimport { reportTemplateById } from '@/components/report-template-list'\nimport { getNumberFromString } from '@/utils/webHelper'\nimport { confirm } from '@/utils/message'\nimport { SnippetProps, ReportTemplateSetting } from '@/constants/types'\nconst { compose } = require('ramda')\nconst faker = require('faker')\n\ntype Snippets = { [key: string]: SnippetProps[] }\n\n// 模版分類\nconst snippetCategoryOfReport = {\n  CLINICAL_HISTORY: 'Clinical History',\n  HIGHT_RISK_REASONS: 'Hight Risk Reasons',\n  DATA_OF_PRIOR_SIMILAR_STUDY: 'Data of prior similar study',\n  IMAGING_PROTOCOL: 'Imaging Protocal',\n  TUMOR_LOCATION: 'Tumor Location/Size',\n}\n\nconst fakeReportTemplateList = Array.from({ length: 100 }).map((_, idx) => ({\n  id: idx + 1,\n  name: faker.lorem.word(),\n  author: faker.name.findName(),\n  status: 1,\n  statusName: '已發佈',\n  createdAt: moment(),\n  createdAtStr: moment().format('YYYY/MM/DD HH:mm'),\n  updatedAt: moment(),\n  updatedAtStr: moment().format('YYYY/MM/DD HH:mm'),\n  description: faker.lorem.word(),\n  setting: compose(\n    mergeAll,\n    map((key: string) => ({\n      [key]: compose(\n        map((x: any) => ({\n          ...x,\n          Component: path([x.type, 'Component'])(reportTemplateById),\n        })),\n        pathOr([], [key])\n      )(fakeSetting),\n    })),\n    keys\n  )(fakeSetting) as { [key: string]: any[] },\n}))\n\nconst defaultSnippetsOfReport = compose(\n  mergeAll,\n  map((key: string) => ({ [key]: [] })),\n  values\n)(snippetCategoryOfReport)\n\nconst snippetsOfReportState = atomFamily<Snippets, React.Key | undefined>({\n  key: 'reportSnippetsState',\n  default: id =>\n    compose(\n      pathOr(defaultSnippetsOfReport, ['setting']),\n      find(propEq('id', Number(id)))\n    )(fakeReportTemplateList),\n})\n\nconst reportTemplateListState = atom({\n  key: 'reportTemplateListState',\n  default: {\n    content: fakeReportTemplateList,\n    total: 100,\n  },\n})\n\nconst reportPreviewState = atom({\n  key: 'reportPreviewState',\n  default: false,\n})\n\nconst categoryState = atom<string>({\n  key: 'categoryState',\n  default: compose(head, values)(snippetCategoryOfReport),\n})\n\n// 報告模版清單\nexport function useReportTemplates() {\n  return useRecoilState(reportTemplateListState)\n}\n\n// 模版報告資料\nexport function useReportTemplate(id?: React.Key) {\n  const [_snippetList] = useRecoilState(snippetsOfReportState(id))\n\n  React.useEffect(() => {\n    setSnippetList(_snippetList)\n  }, [JSON.stringify(_snippetList)]) // eslint-disable-line\n\n  const [snippetList, setSnippetList] = React.useState<Snippets>(_snippetList)\n\n  const [category, setCategory] = useRecoilState(categoryState)\n\n  const handleSnippetUpdate = (data: any[]) => {\n    setSnippetList(prev => ({ ...prev, [category]: data }))\n  }\n\n  const handleTabChange = (activeKey: string) => {\n    setCategory(activeKey)\n  }\n\n  const handleTabMove = (order: string[]) => {\n    const snippetKeys = keys(snippetList)\n\n    setSnippetList(\n      compose(\n        mergeAll,\n        map((key: string) => ({ [key]: snippetList[key] })),\n        sort((a: string, b: string) => {\n          const orderA = order.indexOf(a)\n          const orderB = order.indexOf(b)\n\n          if (orderA !== -1 && orderB !== -1) {\n            return orderA - orderB\n          }\n          if (orderA !== -1) {\n            return -1\n          }\n          if (orderB !== -1) {\n            return 1\n          }\n\n          const ia = snippetKeys.indexOf(a)\n          const ib = snippetKeys.indexOf(b)\n\n          return ia - ib\n        }),\n        keys\n      )(snippetList)\n    )\n  }\n\n  const handleTabAdd = () => {\n    const last = compose(\n      inc,\n      pathOr(0, []),\n      getNumberFromString,\n      Rlast,\n      sort((a: any, b: any) => a - b),\n      keys\n    )(snippetList)\n\n    setSnippetList(prev => ({ ...prev, [`新標籤頁${last}`]: [] }))\n    setCategory(`新標籤頁${last}`)\n  }\n\n  const handleTabRemove = (targetKey: string) => {\n    confirm({\n      title: '確認要刪除此頁籤嗎？',\n      content: '刪除會連同模版資料一起刪除，確認繼續？',\n      onOk: () => {\n        setSnippetList(prev => omit([targetKey], prev))\n\n        if (category === targetKey) {\n          setCategory(\n            compose(\n              Rlast,\n              filter((key: string) => key !== targetKey),\n              keys\n            )(snippetList)\n          )\n        }\n      },\n    })\n  }\n\n  const handleTabNameChange = (targetKey: string) => (\n    evt: React.FocusEvent<HTMLSpanElement>\n  ) => {\n    const newTabName = evt.target.innerHTML\n\n    setSnippetList(prev =>\n      compose(\n        mergeAll,\n        map((key: string) => ({\n          [key === targetKey ? newTabName : key]: prev[key],\n        })),\n        keys\n      )(prev)\n    )\n    setCategory(newTabName)\n  }\n\n  const handleTabEdit = (\n    e:\n      | string\n      | React.MouseEvent<Element, MouseEvent>\n      | React.KeyboardEvent<Element>,\n    action: 'add' | 'remove'\n  ) => {\n    const handler = action === 'add' ? handleTabAdd : handleTabRemove\n\n    handler(e as string)\n  }\n\n  let snippetById: { [key: string]: SnippetProps } = {}\n\n  return {\n    category,\n    snippetList,\n    setCategory,\n    setSnippetList,\n    handleTabEdit,\n    handleTabChange,\n    handleTabMove,\n    handleTabAdd,\n    handleTabRemove,\n    handleTabNameChange,\n    handleSnippetUpdate,\n    total: compose(length, flatten, values)(snippetList),\n    snippetById: compose(\n      map((x: SnippetProps) => (snippetById[x.id] = x)),\n      flatten,\n      values\n    )(snippetList),\n  }\n}\n\n// 切換編輯/檢視模式\nexport function useReportPreview() {\n  const [isPreview, setIsPreview] = useRecoilState(reportPreviewState)\n\n  return [isPreview, () => setIsPreview(prev => !prev)] as [boolean, () => void]\n}\n\n// 更方便切換編輯/檢視模式\nexport function useToggleReportPreview(state: boolean = false) {\n  const [isPreview, setIsPreview] = useRecoilState(reportPreviewState)\n\n  React.useEffect(() => {\n    setIsPreview(state)\n\n    return () => {\n      setIsPreview(false)\n    }\n  }, [state]) // eslint-disable-line\n\n  return [isPreview, () => setIsPreview(prev => !prev)] as [boolean, () => void]\n}\n\nexport function useUpdateSnippet<T = ReportTemplateSetting>(options: {\n  item: SnippetProps\n  onUpdate: (data: any) => void\n  defaultValue?: any\n}) {\n  const { item, onUpdate, defaultValue = {} } = options\n\n  const [setting, setSetting] = React.useState<T>(\n    pathOr(defaultValue, ['setting'], item) as T\n  )\n\n  const handleOk = (values: T) => {\n    setSetting(values)\n    onUpdate({ ...item, setting: values })\n  }\n\n  return { setting, handleOk }\n}\n","import { ReactText } from 'react'\n\nexport const createFormItemLayout = (label: number = 3, wrapper?: number) => ({\n  labelCol: {\n    xs: { span: label },\n    sm: { span: label },\n  },\n  wrapperCol: {\n    xs: { span: wrapper || 24 - label },\n    sm: { span: wrapper || 24 - label },\n  },\n})\n\nexport const thosandSeprartor = {\n  formatter: (value: number | string | undefined) => {\n    if (!value) {\n      return value as string\n    }\n    return `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n  },\n  parser: (value: string | undefined) =>\n    (value ? value.replace(/\\$\\s?|(,*)/g, '') : value) as ReactText,\n}\n\nexport const currency = {\n  formatter: (value: number | string | undefined) => {\n    if (!value) {\n      return value as string\n    }\n    return `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n  },\n  parser: (value: string | undefined) =>\n    (value ? value.replace(/\\$\\s?|(,*)/g, '') : value) as ReactText,\n}\n\nexport const percent = {\n  // min: 0,\n  max: 100,\n  formatter: (value: number | string | undefined) => {\n    if (!value) {\n      return value as string\n    }\n    return `${value}%`\n  },\n  parser: (value: string | undefined) =>\n    (value ? value.replace('%', '') : value) as ReactText,\n}\n\nexport const rules = {\n  required: { required: true, message: '此欄位必填' },\n  number: {\n    required: false,\n    type: 'number',\n    message: '請填寫數字',\n    transform(value: any) {\n      if (!value) {\n        return value\n      }\n      return Number(value)\n    },\n  },\n  account: {\n    required: true,\n    message: '欄位長度為8~128字元,特殊符號-,_',\n    pattern: new RegExp(/^.{8,128}$/),\n  },\n  password: {\n    required: true,\n    message: '密碼長度為6~128字元',\n    pattern: new RegExp(/^.{6,128}$/),\n  },\n}\n","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\nexport function isFunction(input) {\n  return typeof input === 'function';\n}\nexport function noop() {// noop\n}\n\nfunction isObjectLike(input) {\n  return _typeof(input) === 'object' && input !== null;\n}\n\nexport function isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}","export function getDecoratedComponent(instanceRef) {\n  var currentRef = instanceRef.current;\n\n  if (currentRef == null) {\n    return null;\n  } else if (currentRef.decoratedRef) {\n    // go through the private field in decorateHandler to avoid the invariant hit\n    return currentRef.decoratedRef.current;\n  } else {\n    return currentRef;\n  }\n}\nexport function isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nexport function isRefForwardingComponent(C) {\n  var _item$$$typeof;\n\n  var item = C;\n  return (item === null || item === void 0 ? void 0 : (_item$$$typeof = item.$$typeof) === null || _item$$$typeof === void 0 ? void 0 : _item$$$typeof.toString()) === 'Symbol(react.forward_ref)';\n}\nexport function isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nexport function checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}","import React from 'react'\nimport { Checkbox } from 'antd'\nimport { CheckboxProps } from 'antd/lib/checkbox'\nimport styled from 'styled-components'\nimport { RefProps } from '@/constants/types'\n\nconst CheckboxGroup = Checkbox.Group\n\nconst StyledCheckbox = styled(Checkbox)`\n  .ant-checkbox-checked .ant-checkbox-inner {\n    background-color: ${p => p.theme.primary};\n    border-color: ${p => p.theme.primary};\n  }\n\n  &.ant-checkbox-wrapper:hover .ant-checkbox-inner,\n  .ant-checkbox:hover .ant-checkbox-inner,\n  .ant-checkbox-input:focus + .ant-checkbox-inner {\n    border-color: ${p => p.theme.primary};\n  }\n\n  .ant-checkbox-checked .ant-checkbox-inner:after {\n    border: 2px solid #fff;\n    border-top: 0;\n    border-left: 0;\n  }\n\n  .ant-checkbox-inner {\n    border: 1px solid ${p => p.theme.secondary};\n  }\n\n  &.is--normal {\n    font-size: 14px !important;\n    font-weight: normal !important;\n  }\n`\n\ntype Props = RefProps & CheckboxProps\n\nconst CheckboxComponent: React.ElementType<Props> = React.forwardRef<\n  typeof StyledCheckbox,\n  Props\n>(({ ...props }, ref) => <StyledCheckbox forwardRef={ref} {...props} />)\n\nCheckboxComponent.displayName = 'Checkbox'\n\nexport { CheckboxComponent as Checkbox, CheckboxGroup }\n\nexport default CheckboxComponent\n","export function shallowEqual<T>(\n  objA: T,\n  objB: T,\n  compare?: (a: T, b: T, key?: string) => boolean | void,\n  compareContext?: any\n) {\n  var compareResult = compare\n    ? compare.call(compareContext, objA, objB)\n    : void 0;\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = (objA as any)[key];\n    var valueB = (objB as any)[key];\n\n    compareResult = compare\n      ? compare.call(compareContext, valueA, valueB, key)\n      : void 0;\n\n    if (\n      compareResult === false ||\n      (compareResult === void 0 && valueA !== valueB)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import React from 'react'\nimport { Layout } from 'antd'\n\nexport default function AppFooter() {\n  return (\n    <Layout.Footer\n      className=\"pb-6 text-center text-gray-600 border-t border-gray-400\"\n      style={{ background: 'rgb(221, 228, 237)' }}>\n      2020 高雄榮總數位病理平台\n    </Layout.Footer>\n  )\n}\n","import React from 'react'\n\ntype Props = {\n  /**\n   * 開關 Modal 時希望處理的事情\n   */\n  onRequestOpen?: () => any\n}\n\nexport default function useVisible({ onRequestOpen }: Props = {}) {\n  const [visible, setVisible] = React.useState(false)\n\n  const handleVisible: any = (evt: React.MouseEvent<HTMLElement>) => {\n    setVisible(prev => !prev)\n\n    if (onRequestOpen) {\n      onRequestOpen()\n    }\n  }\n\n  const handleClose = () => {\n    setVisible(false)\n  }\n\n  return [visible, handleVisible, handleClose]\n}\n","import React from 'react'\nimport { Modal } from 'antd'\nimport { ModalProps, ModalFuncProps } from 'antd/lib/modal'\n\nexport const modalDefaultProps = (\n  content?: React.ReactNode,\n  props?: ModalProps\n): ModalFuncProps => ({\n  content: (\n    <div\n      className=\"text-darkGrey font-medium\"\n      css={{ marginTop: 16, marginBottom: 30 }}>\n      {content}\n    </div>\n  ),\n  icon: null,\n  width: 440,\n  okText: '刪除',\n  cancelText: '取消',\n  centered: true,\n  // maskStyle: {\n  //   background: theme.modal.maskDarken,\n  // },\n  autoFocusButton: null,\n  okButtonProps: {\n    className: 'c-btn is--danger',\n    style: { minWidth: 80, marginRight: 24 },\n  },\n  cancelButtonProps: {\n    className: 'c-btn is--outline mr-0 float-right',\n    style: { minWidth: 80 },\n  },\n  ...props,\n})\n\nexport const confirm = ({\n  onOk,\n  onCancel,\n  content = '刪除後將無法還原，確認繼續？',\n  ...props\n}: ModalFuncProps) => {\n  Modal.confirm({\n    ...modalDefaultProps(content),\n    ...props,\n    onOk: () => {\n      if (onOk) {\n        onOk()\n      }\n    },\n    onCancel() {\n      if (onCancel) {\n        onCancel()\n      }\n    },\n  })\n}\n","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}","import { cloneElement } from 'react';\nimport { invariant } from '@react-dnd/invariant';\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nexport function cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","import { isValidElement } from 'react';\nimport { cloneWithRef } from '../utils/cloneWithRef';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}","export default {\n  CARD: 'card',\n  BOARD: 'board',\n  SNIPPET: 'snippet',\n}\n","import React from 'react'\nimport { Layout } from 'antd'\nimport cx from 'classnames'\nimport AppFooter from '@/components/app-footer'\nimport theme from '../theme'\n\ninterface PageProps {\n  children: React.ReactNode\n  style?: React.CSSProperties\n  className?: string\n}\n\nexport function Page({ children, style, className = 'pr-16' }: PageProps) {\n  return (\n    <>\n      <Layout.Content\n        style={{\n          background: `linear-gradient(-90deg,#42c2b8,${theme.primary})`,\n        }}>\n        <div\n          className={cx('pl-8 pt-6 pb-12', className)}\n          style={style}\n          css={{\n            background: 'rgb(221, 228, 237)',\n            borderTopLeftRadius: 32,\n            borderTopRightRadius: 32,\n          }}>\n          {children}\n        </div>\n      </Layout.Content>\n      <AppFooter />\n    </>\n  )\n}\n","import React from 'react'\nimport { replace } from 'ramda'\nimport { envStore } from '@/constants/env'\n\nexport interface UseTitleOptions {\n  restoreOnUnmount?: boolean\n}\n\nconst DEFAULT_USE_TITLE_OPTIONS: UseTitleOptions = {\n  restoreOnUnmount: false,\n}\n\nfunction useTitle(\n  title: string,\n  options: UseTitleOptions = DEFAULT_USE_TITLE_OPTIONS\n) {\n  const prevTitleRef = React.useRef(document.title)\n  document.title = replace(/%s/, title)(envStore.appTitle)\n  React.useEffect(() => {\n    if (options && options.restoreOnUnmount) {\n      return () => {\n        document.title = prevTitleRef.current // eslint-disable-line\n      }\n    } else {\n      return\n    }\n  }, []) // eslint-disable-line\n}\n\nexport default typeof document !== 'undefined'\n  ? useTitle\n  : (_title: string) => {}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Modal } from 'antd'\nimport { ModalProps } from 'antd/lib/modal'\n\nconst StyledModal = styled(Modal)`\n  animation-duration: 0s !important;\n  transition: none !important;\n\n  .ant-modal-header--border-none {\n    border-bottom: none;\n  }\n\n  .ant-modal-footer {\n    padding-top: 14px;\n    padding-bottom: 14px;\n  }\n`\n\nexport default class ModalComponent extends React.Component<ModalProps, any> {\n  static confirm = Modal.confirm\n  static error = Modal.error\n  static success = Modal.success\n  static info = Modal.info\n\n  render() {\n    return <StyledModal {...this.props}>{this.props.children}</StyledModal>\n  }\n}\n","import React from 'react'\nimport { Table, Empty, Tooltip } from 'antd'\nimport { TableProps } from 'antd/lib/table'\nimport { CloseOutlined, PlusOutlined } from '@ant-design/icons'\nimport styled from 'styled-components'\n\nconst StyledTable: any = styled(Table)`\n  &.ant-table-wrapper {\n    .ant-pagination-prev .ant-pagination-item-link,\n    .ant-pagination-next .ant-pagination-item-link {\n      border-color: ${p => p.theme.pagination};\n      border-radius: 6px;\n      color: ${p => p.theme.pagination};\n    }\n\n    .ant-pagination-item {\n      border-color: ${p => p.theme.pagination};\n    }\n\n    .ant-pagination-item a {\n      color: ${p => p.theme.pagination};\n    }\n\n    .ant-pagination-item-active,\n    .ant-pagination-item-active:focus,\n    .ant-pagination-item:hover {\n      border-color: ${p => p.theme.pagination};\n      background: ${p => p.theme.pagination};\n\n      a {\n        color: #fff;\n      }\n    }\n\n    .ant-table-pagination.ant-pagination {\n      margin-top: 32px;\n    }\n\n    .ant-pagination-prev:hover .ant-pagination-item-link,\n    .ant-pagination-next:hover .ant-pagination-item-link {\n      border-color: ${p => p.theme.pagination};\n      background: ${p => p.theme.pagination};\n      color: #fff;\n    }\n\n    .ant-pagination-simple-pager {\n      color: ${p => p.theme.pagination};\n    }\n  }\n\n  .ant-table-tbody > tr > td {\n    height: 40px;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    line-height: 1em;\n    color: #4a4a4a;\n    background: #f0f2f5;\n    border-bottom: 1px solid #e9e9e9;\n  }\n\n  .ant-table-thead > tr > th {\n    background: rgb(39, 189, 179);\n    border-bottom: 1px solid #e9e9e9;\n    color: #fff;\n    font-weight: 600;\n    font-size: 16px;\n  }\n`\n\ntype Props<T> = TableProps<T> & {\n  editable?: boolean\n  isRowDeletable?: (row: T) => boolean\n  onAddRowClick?: (param?: any) => any\n  onDeleteRowClick?: (param?: any) => any\n  isCanEdit?: any\n}\n\nfunction TableComponent<T = any>({\n  editable = false,\n  columns = [],\n  onAddRowClick,\n  isRowDeletable = () => true,\n  onDeleteRowClick,\n  isCanEdit = '',\n  ...props\n}: Props<T>) {\n  const _columns = React.useMemo(() => {\n    let canEdit: boolean = true\n    if (!editable) {\n      return columns\n    }\n    if (isCanEdit !== '') {\n      canEdit = isCanEdit\n    }\n\n    const handleRowDelete = (key: React.Key) => () => {\n      if (onDeleteRowClick) {\n        onDeleteRowClick(key)\n      }\n    }\n\n    return [\n      {\n        title: (\n          <Tooltip placement=\"topLeft\" title=\"新增\">\n            <PlusOutlined\n              className=\"ml-1 relative\"\n              style={{ top: -3 }}\n              onClick={canEdit ? onAddRowClick : undefined}\n            />\n          </Tooltip>\n        ),\n        width: 50,\n        render: (_: any, __: any, idx: number) => (\n          <div className=\"text-center\">#{idx + 1}</div>\n        ),\n      },\n      ...columns,\n      {\n        width: 50,\n        render: (_: any, r: any, idx: number) => (\n          <Tooltip placement=\"topLeft\" title=\"刪除\">\n            <CloseOutlined\n              onClick={isRowDeletable(r) ? handleRowDelete(r.id) : undefined}\n            />\n          </Tooltip>\n        ),\n      },\n    ]\n  }, [columns, editable]) // eslint-disable-line\n\n  return (\n    <StyledTable\n      columns={_columns}\n      locale={{\n        emptyText: (\n          <Empty\n            image={Empty.PRESENTED_IMAGE_SIMPLE}\n            description={\n              <span>\n                <span className=\"d-block\">\n                  尚無資料，請點選「＋新增」新增資料。\n                </span>\n              </span>\n            }\n          />\n        ),\n      }}\n      {...props}>\n      {props.children}\n    </StyledTable>\n  )\n}\n\nTableComponent.displayName = 'Table'\nTableComponent.Column = Table.Column\n\nexport default TableComponent\n","import React from 'react'\nimport { Select } from 'antd'\nimport { SelectProps } from 'antd/lib/select'\nimport styled from 'styled-components'\n\nconst StyledSelect: any = styled(Select)`\n  &.ant-select {\n    &.ant-select-single:not(.ant-select-customize-input) .ant-select-selector,\n    .ant-select-selection:hover,\n    .ant-select-selection:active,\n    .ant-select-selection:focus {\n      border-color: ${p => p.theme.primary};\n    }\n\n    .ant-select-selection {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    .ant-select-selection:active,\n    .ant-select-selection:focus {\n      box-shadow: none;\n    }\n\n    .ant-select-arrow {\n      color: ${p => p.theme.primary};\n    }\n\n    .ant-select-arrow-icon {\n      position: relative;\n      top: -1px;\n      font-size: 14px;\n    }\n\n    &.ant-select-borderless .ant-select-selector {\n      position: relative;\n      bottom: 1px;\n      border: 0;\n      border-bottom: 1px solid ${p => p.theme.primary} !important;\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n    }\n  }\n\n  &.ant-select.is--outline {\n    > .ant-select-selector {\n      background: transparent;\n      border: 1px solid #fff;\n      color: #fff;\n\n      &:active,\n      &:focus,\n      &:hover {\n        border: 1px solid #fff;\n      }\n    }\n\n    .ant-select-selection-placeholder,\n    .ant-select-arrow {\n      color: #fff;\n    }\n\n    .ant-select-selection-placeholder {\n      opacity: 1;\n      left: 30%;\n    }\n  }\n\n  &.ant-select.is--transparent {\n    &.ant-select-focused > .ant-select-selector {\n      border: 1px solid #666a8f;\n    }\n\n    > .ant-select-selector {\n      background: transparent;\n      border: 1px solid #666a8f;\n      color: #a9b6d8;\n\n      &:active,\n      &:focus,\n      &:hover {\n        border: 1px solid #666a8f;\n      }\n    }\n\n    .ant-select-arrow {\n      color: #a9b6d8;\n    }\n  }\n`\n\nclass SelectComponent<T = any> extends React.Component<SelectProps<T>, any> {\n  public static Option = Select.Option\n\n  public static displayName = 'Select'\n\n  render() {\n    return <StyledSelect {...this.props}>{this.props.children}</StyledSelect>\n  }\n}\n\nexport default SelectComponent\n","import React from 'react'\nimport { ModalProps as AntModalProps } from 'antd/lib/modal'\nimport Modal from '@/components/modal'\nimport Button from '@/components/button'\n\nexport interface ModalProps<T = any>\n  extends Omit<AntModalProps, 'onOk' | 'onCancel'> {\n  item?: T\n  onOk?: (data?: any) => void\n  onCancel: () => void\n  children?: React.ReactNode\n}\n\nfunction TemplateModal<T = any>({\n  onCancel,\n  onOk,\n  item,\n  children,\n  ...props\n}: ModalProps<T>) {\n  const handleOk = () => {\n    if (onOk) {\n      onOk()\n    }\n  }\n  return (\n    <Modal\n      visible\n      onCancel={onCancel}\n      width={650}\n      maskClosable={false}\n      keyboard={false}\n      footer={[\n        <Button\n          key=\"btn-cancel\"\n          color=\"outline\"\n          style={{ minWidth: 80, marginRight: 16 }}\n          onClick={onCancel}>\n          取消\n        </Button>,\n        <Button\n          key=\"btn-save\"\n          color=\"primary\"\n          style={{ minWidth: 80 }}\n          onClick={handleOk}>\n          儲存\n        </Button>,\n      ]}\n      {...props}>\n      {children}\n    </Modal>\n  )\n}\n\nexport { TemplateModal as Modal }\n\nexport default TemplateModal\n","import React from 'react'\nimport cx from 'classnames'\nimport { Card } from 'antd'\nimport { CardProps } from 'antd/lib/card'\nimport { FontColorsOutlined } from '@ant-design/icons'\nimport styled from 'styled-components'\nimport { useReportPreview } from '@/hooks/useReportTemplate'\nimport { isNil } from '@/utils/webHelper'\n\nconst StyledCard = styled(Card)`\n  &.ant-card {\n    border-radius: 10px;\n    border: none;\n    cursor: move;\n  }\n\n  .ant-card-head {\n    padding-left: 18px;\n    border-bottom: none;\n    color: ${p => p.theme.primary};\n    font-size: 14px;\n    font-weight: 600;\n  }\n\n  &.ant-card-head--hide .ant-card-head {\n    display: none;\n  }\n\n  &.ant-card-body--hide {\n    .ant-card-head {\n      padding-bottom: 16px;\n      border-bottom: 1px dashed #f0f0f0;\n    }\n\n    .ant-card-body {\n      display: none;\n    }\n  }\n\n  &.is--preview .ant-card-head {\n    min-height: auto;\n  }\n\n  &.is--preview .ant-card-head-title {\n    padding-top: 0;\n  }\n\n  &.is--preview .ant-card-body {\n    padding-top: 12px;\n    padding-bottom: 8px;\n  }\n\n  .ant-card-head-title {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding-bottom: 0;\n  }\n\n  .ant-card-body {\n    padding-top: 6px;\n    padding-left: 26px;\n    padding-bottom: 20px;\n  }\n`\n\ninterface Props extends CardProps {\n  titleVisible?: boolean\n  bodyVisible?: boolean\n  onEdit?: () => void\n  onDelete?: () => void\n}\n\nfunction TemplateWrapper({\n  title,\n  children,\n  onDelete,\n  onEdit,\n  titleVisible = false,\n  bodyVisible = true,\n  ...props\n}: Props) {\n  const [isPreview] = useReportPreview()\n\n  return (\n    <StyledCard\n      title={\n        <div className=\"flex items-center\">\n          {!isPreview && <FontColorsOutlined className=\"mr-3\" />}\n          {title || '預設標題 (可點鉛筆圖示可進行編輯)'}\n        </div>\n      }\n      className={cx({\n        'ant-card-head--hide': isNil(title) && !titleVisible,\n        'ant-card-body--hide': !bodyVisible,\n        // 'is--preview': isPreview,\n      })}\n      {...props}>\n      {children}\n    </StyledCard>\n  )\n}\n\nexport default TemplateWrapper\n","import React from 'react'\nimport { Form } from 'antd'\nimport { Input, TextArea } from '@/components/input'\nimport Checkbox from '@/components/checkbox'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateSetting, ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\n\ninterface Setting extends ReportTemplateSetting {\n  defaultValue?: string\n  multipleLine?: boolean\n}\n\nexport default function ReportTemplateInputText(props: ReportTemplateProps) {\n  const { editModalVisible, handleEditModalVisible, onUpdate, item } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({ item, onUpdate })\n\n  const inputProps = {\n    bordered: false,\n    className: 'w-2/3',\n    placeholder: setting.tooltip || '輸入內容',\n    defaultValue: setting.defaultValue,\n  }\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputTextModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          {setting.multipleLine ? (\n            <TextArea {...inputProps} autoSize={{ minRows: 3 }} />\n          ) : (\n            <Input {...inputProps} />\n          )}\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputTextModal({\n  onOk,\n  onCancel,\n  item,\n  ...props\n}: ModalProps<Setting>) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal<Setting>\n      {...props}\n      title={\n        <>\n          <div>\n            Text\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for description something.\n            </div>\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Default Value\" name=\"defaultValue\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n        <Form.Item\n          label=\"Multiple Lines\"\n          name=\"multipleLine\"\n          valuePropName=\"checked\">\n          <Checkbox />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { InputNumber } from 'antd'\nimport { InputNumberProps } from 'antd/lib/input-number'\nimport styled from 'styled-components'\nimport { RefProps } from '@/constants/types'\nimport { percent, currency, thosandSeprartor } from '@/utils/form'\n\ntype Props = RefProps & InputNumberProps & { bordered?: boolean }\n\nconst StyledInputNumber = styled(InputNumber).attrs({\n  min: 0 as any, // dont know why error\n})<Props>`\n  &.ant-input-number {\n    border-color: ${p => p.theme.primary};\n\n    ::placeholder {\n      color: red;\n    }\n  }\n\n  &.ant-input-number-focused,\n  &.ant-input-number:focus,\n  &.ant-input-number:hover {\n    border-color: ${p => p.theme.primary};\n  }\n\n  &.ant-input-number-focused:not(.ant-input-number-borderless),\n  &.ant-input-number:focus:not(.ant-input-number-borderless) {\n    box-shadow: 0 0 0 1px ${p => p.theme.primary};\n  }\n\n  &.ant-input-number-borderless,\n  &.ant-input-number-borderless:hover,\n  &.ant-input-number-borderless:focus,\n  &.ant-input-number-borderless-focused,\n  &.ant-input-number-borderless-disabled,\n  &.ant-input-number-borderless[disabled] {\n    border: none;\n    border-bottom: 1px solid ${p => p.theme.primary};\n  }\n`\n\nexport const ThousandSeprartorInput = React.forwardRef<\n  typeof InputNumber,\n  Props\n>(({ ...props }, ref) => (\n  <StyledInputNumber forwardRef={ref} {...props} {...thosandSeprartor} />\n))\n\nexport const CurrencyInput = React.forwardRef<typeof InputNumber, Props>(\n  ({ ...props }, ref) => (\n    <StyledInputNumber forwardRef={ref} {...props} {...currency} />\n  )\n)\n\nexport const PercentInput = React.forwardRef<typeof InputNumber, Props>(\n  ({ ...props }, ref) => (\n    <StyledInputNumber forwardRef={ref} {...props} {...percent} />\n  )\n)\n\nThousandSeprartorInput.displayName = 'ThousandSeprartorInput'\n\nCurrencyInput.displayName = 'CurrencyInput'\n\nPercentInput.displayName = 'PercentInput'\n\nexport { StyledInputNumber as InputNumber }\n\nexport default StyledInputNumber\n","import React from 'react'\nimport { Form } from 'antd'\nimport Input from '@/components/input'\nimport InputNumber from '@/components/input-number'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateSetting, ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\n\ninterface Setting extends ReportTemplateSetting {\n  defaultValue?: number\n  max?: number\n  min?: number\n  units?: string\n}\n\nexport default function ReportTemplateInputNumber(props: ReportTemplateProps) {\n  const { editModalVisible, handleEditModalVisible, item, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({ item, onUpdate })\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputNumberModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <InputNumber\n            style={{ width: '33.333333%' }}\n            className=\"ant-input-number-borderless\"\n            defaultValue={setting.defaultValue}\n            min={setting.min}\n            max={setting.max}\n            formatter={value => `${setting.units || ''} ${value}`}\n            placeholder={setting.tooltip || '輸入數值'}\n          />\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputNumberModal({ onOk, onCancel, item, ...props }: ModalProps) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal\n      {...props}\n      title={\n        <>\n          <div>\n            Number\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for input number.\n            </div>\n          </div>\n        </>\n      }\n      onOk={handleOk}\n      onCancel={onCancel}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Default Value\" name=\"defaultValue\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Minimum Value\" name=\"min\">\n          <InputNumber />\n        </Form.Item>\n        <Form.Item label=\"Maximum Value\" name=\"max\">\n          <InputNumber />\n        </Form.Item>\n        <Form.Item label=\"Units\" name=\"units\">\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","// tslint:disable: quotemark no-implicit-dependencies no-shadowed-variable no-var-requires\nimport React from 'react'\nimport { TableProps } from 'antd/lib/table'\nimport { FormInstance } from 'antd/lib/form'\nimport Table from '@/components/table'\n\ntype EditableTableProps<T> = Omit<TableProps<T>, 'onChange'> & {\n  value?: T[]\n  form: FormInstance\n  onChange?(changedValue: T[] | null): void\n  onRowAdd: (form: FormInstance) => any\n  onRowDelete: (value: { id: React.Key; form: FormInstance }) => any\n}\n\nexport default function EditableTable<T = any>({\n  form,\n  value,\n  onChange,\n  onRowAdd,\n  onRowDelete,\n  ...props\n}: EditableTableProps<T>) {\n  const triggerChange = (changedValue: T[]) => {\n    if (onChange) {\n      onChange(changedValue)\n    }\n  }\n\n  const handleAdd = () => {\n    triggerChange(onRowAdd(form))\n  }\n\n  const handleDelete = (id: string) => {\n    triggerChange(onRowDelete({ id, form }))\n  }\n\n  return (\n    <Table\n      {...props}\n      rowKey=\"id\"\n      pagination={false}\n      size=\"small\"\n      dataSource={value as any}\n      onAddRowClick={handleAdd}\n      onDeleteRowClick={handleDelete}\n      editable={true}\n    />\n  )\n}\n","import React from 'react'\nimport { Form } from 'antd'\nimport { ColumnProps } from 'antd/lib/table'\nimport { FormInstance } from 'antd/lib/form'\nimport { concat, __, pathOr, invoker, filter } from 'ramda'\nimport Input from '@/components/input'\nimport Checkbox from '@/components/checkbox'\nimport EditableTable from '@/components/editable-table'\nimport { uuid } from '@/utils/webHelper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateSetting } from '@/constants/types'\nimport { Modal, ModalProps } from './report-template-modal'\nconst { compose } = require('ramda')\n\nexport interface Setting extends ReportTemplateSetting {\n  options?: Option[]\n}\n\nexport type Option = {\n  id: React.Key\n  text?: string\n  selected?: boolean\n  freetext?: boolean\n}\n\nexport const defaultValue: Setting = {\n  options: [\n    {\n      id: uuid(),\n      text: '預設選項 1',\n      selected: true,\n      freetext: false,\n    },\n    {\n      id: uuid(),\n      text: '預設選項 2',\n      selected: true,\n      freetext: false,\n    },\n    {\n      id: uuid(),\n      text: '預設選項 3',\n      selected: true,\n      freetext: false,\n    },\n  ],\n}\n\nexport function TemplateSelectionModal({\n  onCancel,\n  onOk,\n  item,\n  ...props\n}: ModalProps) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  const handleRowAdd = (form: FormInstance) => {\n    return compose(\n      concat(__, [\n        {\n          id: uuid(),\n          text: undefined,\n          selected: true,\n          freetext: false,\n        },\n      ]),\n      pathOr([], ['options']),\n      invoker(0, 'getFieldsValue')()\n    )(form)\n  }\n\n  const handleRowDelete = ({\n    id,\n    form,\n  }: {\n    id: React.Key\n    form: FormInstance\n  }) => {\n    return compose(\n      filter((x: any) => x.id !== id),\n      pathOr([], ['options']),\n      invoker(0, 'getFieldsValue')()\n    )(form)\n  }\n\n  const columns: ColumnProps<Option>[] = [\n    {\n      title: '選項名稱',\n      render: (v, r, idx) => (\n        <Form.Item noStyle name={['options', idx, 'text']}>\n          <Input />\n        </Form.Item>\n      ),\n    },\n    {\n      title: '是否可選',\n      align: 'center',\n      render: (v, r, idx) => (\n        <Form.Item\n          noStyle\n          name={['options', idx, 'selected']}\n          valuePropName=\"checked\">\n          <Checkbox />\n        </Form.Item>\n      ),\n    },\n    {\n      title: '是否可輸入',\n      align: 'center',\n      render: (v, r, idx) => (\n        <Form.Item\n          noStyle\n          name={['options', idx, 'freetext']}\n          valuePropName=\"checked\">\n          <Checkbox />\n        </Form.Item>\n      ),\n    },\n  ]\n\n  return (\n    <Modal\n      {...props}\n      title={\n        <>\n          <div>Single Selection List</div>\n          <div className=\"mt-1 text-sm text-gray-600\">\n            Typically used for shorter lists so that all responses are visible\n            as radio buttons. Only allow a single selection.\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(3, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Options\" />\n        <Form.Item noStyle name=\"options\">\n          <EditableTable\n            columns={columns}\n            form={form}\n            onRowAdd={handleRowAdd}\n            onRowDelete={handleRowDelete}\n          />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { Form } from 'antd'\nimport cx from 'classnames'\nimport { pathOr } from 'ramda'\nimport { Checkbox, CheckboxGroup } from '@/components/checkbox'\nimport Input from '@/components/input'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport {\n  TemplateSelectionModal,\n  Setting,\n  Option,\n  defaultValue,\n} from '@/components/report-template-selection-modal'\nimport { mapIndexed } from '@/utils/webHelper'\nimport { ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\nconst { compose } = require('ramda')\n\nfunction ReportTemplateMultipleSelection(props: ReportTemplateProps) {\n  const { item, editModalVisible, handleEditModalVisible, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({\n    item,\n    onUpdate,\n    defaultValue,\n  })\n\n  return (\n    <>\n      {editModalVisible && (\n        <TemplateSelectionModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n          title={\n            <>\n              <div>Multiple Selection List</div>\n              <div className=\"mt-1 text-sm text-gray-600\">\n                typically used for shorter lists so that all responses are\n                visible as checkboxes. Allows Multiple selections.\n              </div>\n            </>\n          }\n        />\n      )}\n      <TemplateWrapper\n        title={setting.text || ''}\n        bodyStyle={{ paddingLeft: 36 }}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <CheckboxGroup>\n            {compose(\n              mapIndexed((x: Option, idx: number) => (\n                <Checkbox\n                  key={x.id}\n                  className={cx('block ml-0', { 'mt-1': idx > 0 })}\n                  defaultChecked={false}\n                  value={`${idx}`}>\n                  {x.text}\n                  {x.freetext && (\n                    <Input\n                      bordered={false}\n                      size=\"small\"\n                      placeholder=\"輸入備註\"\n                      className=\"ml-4 w-1/3\"\n                    />\n                  )}\n                </Checkbox>\n              )),\n              pathOr([], ['options'])\n            )(setting)}\n          </CheckboxGroup>\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nexport default ReportTemplateMultipleSelection\n","import React from 'react'\nimport { Radio } from 'antd'\nimport { RadioProps } from 'antd/lib/radio'\nimport styled from 'styled-components'\n\nconst StyledRadio = styled(Radio)`\n  &.ant-radio-wrapper {\n    color: ${p => p.theme.darkGrey};\n\n    span.ant-radio + * {\n      padding-left: 16px;\n    }\n\n    .ant-radio-inner,\n    .ant-radio-checked .ant-radio-inner {\n      border-color: ${p => p.theme.primary};\n    }\n\n    .ant-radio-inner::after {\n      background: ${p => p.theme.primary};\n    }\n\n    &:hover,\n    .ant-radio:hover .ant-radio-inner,\n    .ant-radio-input:focus + .ant-radio-inner {\n      border-color: ${p => p.theme.primary};\n    }\n  }\n`\n\ninterface Props extends RadioProps {\n  css?: React.CSSProperties\n}\n\nclass RadioComponent extends React.Component<Props, any> {\n  public static Group = Radio.Group\n\n  public static displayName = 'Radio'\n\n  public render() {\n    return <StyledRadio {...this.props} />\n  }\n}\n\nexport default RadioComponent\n","import React from 'react'\nimport cx from 'classnames'\nimport { Form } from 'antd'\nimport { pathOr } from 'ramda'\nimport Radio from '@/components/radio'\nimport Input from '@/components/input'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport {\n  TemplateSelectionModal,\n  Setting,\n  Option,\n  defaultValue,\n} from '@/components/report-template-selection-modal'\nimport { mapIndexed } from '@/utils/webHelper'\nimport { ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\nconst { compose } = require('ramda')\n\nfunction ReportTemplateSingleSelection(props: ReportTemplateProps) {\n  const { item, editModalVisible, handleEditModalVisible, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({\n    item,\n    onUpdate,\n    defaultValue,\n  })\n\n  return (\n    <>\n      {editModalVisible && (\n        <TemplateSelectionModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper\n        title={setting.text || ''}\n        bodyStyle={{ paddingLeft: 36 }}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <Radio.Group>\n            {compose(\n              mapIndexed((x: Option, idx: number) => (\n                <Radio\n                  key={x.id}\n                  className={cx('block', { 'mt-1': idx > 0 })}\n                  defaultChecked={false}\n                  value={`${idx}`}>\n                  {x.text}\n                  {x.freetext && (\n                    <Input\n                      size=\"small\"\n                      bordered={false}\n                      placeholder=\"輸入備註\"\n                      className=\"ml-3 w-1/3\"\n                    />\n                  )}\n                </Radio>\n              )),\n              pathOr([], ['options'])\n            )(setting)}\n          </Radio.Group>\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nexport default ReportTemplateSingleSelection\n","import React from 'react'\nimport styled, { css } from 'styled-components'\nimport { DatePicker, TimePicker } from 'antd'\nimport { DatePickerProps } from 'antd/lib/date-picker'\n\nconst borderLess = css`\n  &.ant-picker-borderless {\n    border: none;\n    border-bottom: 1px solid ${p => p.theme.primary} !important;\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  &.ant-picker-focused:not(.ant-picker-borderless) {\n    box-shadow: 0 0 0 1px ${p => p.theme.primary};\n  }\n`\n\nconst RangePicker = styled(DatePicker.RangePicker)`\n  &.ant-picker {\n    border: 1px solid ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    &.ant-picker-focused {\n      box-shadow: 0 0 0 1px ${p => p.theme.primary};\n    }\n  }\n`\n\nconst StyledDatePicker: any = styled(DatePicker)`\n  &.ant-picker {\n    border: 1px solid ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    .ant-picker-suffix {\n      color: ${p => p.theme.primary};\n    }\n\n    ${borderLess};\n  }\n`\n\nconst StyledTimePicker = styled(TimePicker)`\n  &.ant-picker {\n    border: 1px solid ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    .ant-picker-suffix {\n      color: ${p => p.theme.primary};\n    }\n\n    ${borderLess};\n  }\n`\n\nfunction DatePickerComponent(props: DatePickerProps) {\n  return <StyledDatePicker {...props} />\n}\n\nexport {\n  DatePickerComponent as DatePicker,\n  RangePicker,\n  StyledTimePicker as TimePicker,\n}\n\nexport default DatePickerComponent\n","import React from 'react'\nimport { Form } from 'antd'\nimport Input from '@/components/input'\nimport DatePicker from '@/components/datepicker'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\n\ntype Setting = {\n  text?: string\n  defaultValue?: moment.Moment\n  tooltip?: string\n}\n\nexport default function ReportTemplateDate(props: ReportTemplateProps) {\n  const { editModalVisible, handleEditModalVisible, item, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({ item, onUpdate })\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputDateModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <DatePicker\n            bordered={false}\n            className=\"w-1/3\"\n            placeholder={setting.tooltip || '選擇日期'}\n            defaultValue={setting.defaultValue}\n          />\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputDateModal({\n  onOk,\n  onCancel,\n  item,\n  ...props\n}: ModalProps<Setting>) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal<Setting>\n      {...props}\n      title={\n        <>\n          <div>\n            Date\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for target date.\n            </div>\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Default Value\" name=\"defaultValue\">\n          <DatePicker allowClear picker=\"date\" className=\"w-full\" />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { Form } from 'antd'\nimport Input from '@/components/input'\nimport { TimePicker } from '@/components/datepicker'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateSetting, ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\n\ninterface Setting extends ReportTemplateSetting {\n  defaultValue?: moment.Moment\n}\n\nexport default function ReportTemplateTime(props: ReportTemplateProps) {\n  const { editModalVisible, handleEditModalVisible, item, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({ item, onUpdate })\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputTimeModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <TimePicker\n            bordered={false}\n            className=\"w-1/3\"\n            placeholder={setting.tooltip || '選擇時間'}\n            defaultValue={setting.defaultValue}\n          />\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputTimeModal({\n  onOk,\n  onCancel,\n  item,\n  ...props\n}: ModalProps<Setting>) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal<Setting>\n      {...props}\n      title={\n        <>\n          <div>\n            Time\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for target time.\n            </div>\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Default Value\" name=\"defaultValue\">\n          <TimePicker allowClear format=\"HH:mm\" className=\"w-full\" />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { pathOr, map } from 'ramda'\nimport { Form } from 'antd'\nimport Select from '@/components/select'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport {\n  TemplateSelectionModal,\n  Option,\n  defaultValue,\n} from '@/components/report-template-selection-modal'\nimport { ReportTemplateSetting, ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\nconst { compose } = require('ramda')\n\ninterface Setting extends ReportTemplateSetting {\n  options?: Option[]\n  selectionType?: 'single' | 'multiple'\n}\n\nexport default function ReportTemplateSelect(props: ReportTemplateProps) {\n  const { item, editModalVisible, handleEditModalVisible, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({\n    item,\n    onUpdate,\n    defaultValue,\n  })\n\n  return (\n    <>\n      {editModalVisible && (\n        <TemplateSelectionModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n          title={\n            <>\n              <div>Drop-down List</div>\n              <div className=\"mt-1 text-sm text-gray-600\">\n                typically used for lists of greater than 6 or 7 options.\n              </div>\n            </>\n          }\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <Select\n            allowClear\n            bordered={false}\n            className=\"w-1/3\"\n            placeholder={setting.tooltip || '請選擇...'}>\n            {compose(\n              map((x: Option) => (\n                <Select.Option key={x.id} value={x.text as any}>\n                  {x.text}\n                </Select.Option>\n              )),\n              pathOr([], ['options'])\n            )(setting)}\n          </Select>\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n","import React from 'react'\nimport { Form } from 'antd'\nimport Input from '@/components/input'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport useVisible from '@/hooks/useVisible'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateSetting } from '@/constants/types'\n\ntype Props = {}\n\ninterface Setting extends ReportTemplateSetting {}\n\nexport default function TemplateSectionHeader(props: Props) {\n  const [setting, setSetting] = React.useState<Setting>({})\n\n  const [editModalVisible, handleEditModalVisible] = useVisible()\n\n  const handleOk = (values: Setting) => {\n    setSetting(values)\n  }\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputTextModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper\n        titleVisible\n        bodyVisible={false}\n        title={setting.text}\n        onEdit={handleEditModalVisible}></TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputTextModal({\n  onOk,\n  onCancel,\n  item,\n  ...props\n}: ModalProps<Setting>) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal<Setting>\n      {...props}\n      title={\n        <>\n          <div>\n            Section Header\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for section.\n            </div>\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import { map, mergeAll } from 'ramda'\nimport {\n  CalendarOutlined,\n  ClockCircleOutlined,\n  OrderedListOutlined,\n  UnorderedListOutlined,\n  FontSizeOutlined,\n  DatabaseOutlined,\n  NumberOutlined,\n  BoldOutlined,\n} from '@ant-design/icons'\nimport { uuid } from '@/utils/webHelper'\nimport TemplateInputText from '@/components/report-template-input-text'\nimport TemplateInputNumber from '@/components/report-template-input-number'\nimport TemplateMultipleSelection from '@/components/report-template-multiple-selection'\nimport TemplateSingleSelection from '@/components/report-template-single-selection'\nimport TemplateDate from '@/components/report-template-date'\nimport TemplateTime from '@/components/report-template-time'\nimport TemplateSelect from '@/components/report-template-select'\nimport TempldateSectionHeader from '@/components/report-template-section-header'\nconst { compose } = require('ramda')\n\ninterface ReportTemplateListItem {\n  id: React.Key\n  type: string\n  name: string\n  Component: React.Component\n}\n\nconst reportTemplateList = [\n  {\n    id: uuid(),\n    componentType: 'header',\n    name: 'Section Header',\n    icon: BoldOutlined,\n    Component: TempldateSectionHeader,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateInputText',\n    name: 'Text',\n    icon: FontSizeOutlined,\n    Component: TemplateInputText,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateInputNumber',\n    name: 'Number',\n    icon: NumberOutlined,\n    Component: TemplateInputNumber,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateSelect',\n    name: 'Drop-down List',\n    icon: DatabaseOutlined,\n    Component: TemplateSelect,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateMultipleSelection',\n    name: 'Multiple Selection List',\n    icon: UnorderedListOutlined,\n    Component: TemplateMultipleSelection,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateSingleSelection',\n    name: 'Single Selection List',\n    icon: OrderedListOutlined,\n    Component: TemplateSingleSelection,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateDate',\n    name: 'Date',\n    icon: CalendarOutlined,\n    Component: TemplateDate,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateTime',\n    name: 'Time',\n    icon: ClockCircleOutlined,\n    Component: TemplateTime,\n  },\n]\n\nexport const reportTemplateById = compose(\n  mergeAll,\n  map((x: ReportTemplateListItem) => ({ [x.type]: x }))\n)(reportTemplateList)\n\nexport default reportTemplateList\n","export * from './monitors';\nexport * from './hooksApi';\nexport * from './options';\nexport * from './connectors';","export * from './DragSource';\nexport * from './DropTarget';\nexport * from './DragLayer';\nexport * from './interfaces';","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isValidType(type, allowArray) {\n  return typeof type === 'string' || _typeof(type) === 'symbol' || !!allowArray && Array.isArray(type) && type.every(function (t) {\n    return isValidType(t, false);\n  });\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../common/DndContext';\nimport { isPlainObject } from '../utils/js_utils';\nimport { isRefable, checkDecoratorArguments } from './utils';\nexport function DragLayer(collect) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  checkDecoratorArguments('DragLayer', 'collect[, options]', collect, options);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. ' + 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);\n  return function decorateLayer(DecoratedComponent) {\n    var Decorated = DecoratedComponent;\n    var _options$arePropsEqua = options.arePropsEqual,\n        arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n    var displayName = Decorated.displayName || Decorated.name || 'Component';\n\n    var DragLayerContainer =\n    /** @class */\n    function () {\n      var DragLayerContainer = /*#__PURE__*/function (_React$Component) {\n        _inherits(DragLayerContainer, _React$Component);\n\n        var _super = _createSuper(DragLayerContainer);\n\n        function DragLayerContainer() {\n          var _this;\n\n          _classCallCheck(this, DragLayerContainer);\n\n          _this = _super.apply(this, arguments);\n          _this.isCurrentlyMounted = false;\n          _this.ref = React.createRef();\n\n          _this.handleChange = function () {\n            if (!_this.isCurrentlyMounted) {\n              return;\n            }\n\n            var nextState = _this.getCurrentState();\n\n            if (!shallowEqual(nextState, _this.state)) {\n              _this.setState(nextState);\n            }\n          };\n\n          return _this;\n        }\n\n        _createClass(DragLayerContainer, [{\n          key: \"getDecoratedComponentInstance\",\n          value: function getDecoratedComponentInstance() {\n            invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n            return this.ref.current;\n          }\n        }, {\n          key: \"shouldComponentUpdate\",\n          value: function shouldComponentUpdate(nextProps, nextState) {\n            return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n          }\n        }, {\n          key: \"componentDidMount\",\n          value: function componentDidMount() {\n            this.isCurrentlyMounted = true;\n            this.handleChange();\n          }\n        }, {\n          key: \"componentWillUnmount\",\n          value: function componentWillUnmount() {\n            this.isCurrentlyMounted = false;\n\n            if (this.unsubscribeFromOffsetChange) {\n              this.unsubscribeFromOffsetChange();\n              this.unsubscribeFromOffsetChange = undefined;\n            }\n\n            if (this.unsubscribeFromStateChange) {\n              this.unsubscribeFromStateChange();\n              this.unsubscribeFromStateChange = undefined;\n            }\n          }\n        }, {\n          key: \"render\",\n          value: function render() {\n            var _this2 = this;\n\n            return React.createElement(DndContext.Consumer, null, function (_ref) {\n              var dragDropManager = _ref.dragDropManager;\n\n              if (dragDropManager === undefined) {\n                return null;\n              }\n\n              _this2.receiveDragDropManager(dragDropManager); // Let componentDidMount fire to initialize the collected state\n\n\n              if (!_this2.isCurrentlyMounted) {\n                return null;\n              }\n\n              return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.state, {\n                ref: isRefable(Decorated) ? _this2.ref : null\n              }));\n            });\n          }\n        }, {\n          key: \"receiveDragDropManager\",\n          value: function receiveDragDropManager(dragDropManager) {\n            if (this.manager !== undefined) {\n              return;\n            }\n\n            this.manager = dragDropManager;\n            invariant(_typeof(dragDropManager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n            var monitor = this.manager.getMonitor();\n            this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n            this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n          }\n        }, {\n          key: \"getCurrentState\",\n          value: function getCurrentState() {\n            if (!this.manager) {\n              return {};\n            }\n\n            var monitor = this.manager.getMonitor();\n            return collect(monitor, this.props);\n          }\n        }]);\n\n        return DragLayerContainer;\n      }(React.Component);\n\n      DragLayerContainer.displayName = \"DragLayer(\".concat(displayName, \")\");\n      DragLayerContainer.DecoratedComponent = DecoratedComponent;\n      return DragLayerContainer;\n    }();\n\n    return hoistStatics(DragLayerContainer, DecoratedComponent);\n  };\n}","import { includes } from 'ramda'\nimport { XYCoord } from 'react-dnd'\nimport { isNil } from '@/utils/webHelper'\n\n/* prettier-ignore */\nconst REPORT_TEMPLATE_BUILDER_CLASSNAME = 'report-template-builder__main-content'\nconst UI_DRAGGABLE_CLASSNAME = 'ui-draggable'\n\nconst hasClassName = (nodes: Element[], className: string) => {\n  return nodes.find(\n    n => !isNil(n.className) && includes(className)(n.className)\n  )\n}\n\nexport function canMoveSnippet(\n  element: Element | null,\n  className = REPORT_TEMPLATE_BUILDER_CLASSNAME\n) {\n  let elem = element\n\n  const nodes: Element[] = []\n  nodes.push(elem as Element)\n\n  while (elem?.parentNode) {\n    nodes.unshift(elem.parentNode as Element)\n    elem = elem.parentNode as Element\n  }\n\n  if (\n    hasClassName(nodes, 'report-template-builder-contentarea--fixed-layout') ||\n    hasClassName(nodes, 'snippet-drawer-menu')\n  ) {\n    return false\n  }\n  if (\n    hasClassName(nodes, className) ||\n    hasClassName(nodes, UI_DRAGGABLE_CLASSNAME)\n  ) {\n    return true\n  }\n\n  return false\n}\n\nfunction findSnippet(\n  element: HTMLElement,\n  className = UI_DRAGGABLE_CLASSNAME\n): HTMLElement | null {\n  if (element.classList.contains(className)) {\n    return element\n  }\n  return element.parentElement && findSnippet(element.parentElement, className)\n}\n\nexport function getPlaceHolderIndex(clientOffset: XYCoord) {\n  const hoverElement = document.elementFromPoint(clientOffset.x, clientOffset.y)\n\n  // find ui-draggable classname\n  const overSnippet = findSnippet(hoverElement as NonNullable<HTMLElement>)\n\n  const snippetIndex = overSnippet && overSnippet.dataset.index\n  const placeholderIndex = overSnippet ? Number(overSnippet.dataset.index) : -1\n\n  const isOverSnippet = !isNil(snippetIndex)\n\n  return {\n    overSnippet,\n    placeholderIndex,\n    isOverSnippet: isOverSnippet,\n  }\n}\n\nexport default function getDisplayName(Component: any) {\n  return (\n    Component.displayName ||\n    Component.name ||\n    (typeof Component === 'string' && Component.length > 0\n      ? Component\n      : 'Unknown')\n  )\n}\n","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];\nvar REQUIRED_SPEC_METHODS = ['beginDrag'];\n\nvar SourceImpl = /*#__PURE__*/function () {\n  function SourceImpl(spec, monitor, ref) {\n    var _this = this;\n\n    _classCallCheck(this, SourceImpl);\n\n    this.props = null;\n\n    this.beginDrag = function () {\n      if (!_this.props) {\n        return;\n      }\n\n      var item = _this.spec.beginDrag(_this.props, _this.monitor, _this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', item);\n      }\n\n      return item;\n    };\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(SourceImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.canDrag) {\n        return true;\n      }\n\n      return this.spec.canDrag(this.props, this.monitor);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, sourceId) {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.isDragging) {\n        return sourceId === globalMonitor.getSourceId();\n      }\n\n      return this.spec.isDragging(this.props, this.monitor);\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      if (!this.props) {\n        return;\n      }\n\n      if (!this.spec.endDrag) {\n        return;\n      }\n\n      this.spec.endDrag(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }]);\n\n  return SourceImpl;\n}();\n\nexport function createSourceFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  REQUIRED_SPEC_METHODS.forEach(function (key) {\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  return function createSource(monitor, ref) {\n    return new SourceImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { checkDecoratorArguments } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { registerSource } from '../common/registration';\nimport { DragSourceMonitorImpl } from '../common/DragSourceMonitorImpl';\nimport { SourceConnector } from '../common/SourceConnector';\nimport { isValidType } from '../utils/isValidType';\nimport { createSourceFactory } from './createSourceFactory';\n/**\n * Decorates a component as a dragsource\n * @param type The dragsource type\n * @param spec The drag source specification\n * @param collect The props collector function\n * @param options DnD options\n */\n\nexport function DragSource(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DragSource', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type), 'Expected \"type\" provided as the first argument to DragSource to be ' + 'a string, or a function that returns a string given the current props. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DragSource to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', spec);\n  var createSource = createSourceFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DragSource to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DragSource to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  return function decorateSource(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DragSource',\n      createHandler: createSource,\n      registerHandler: registerSource,\n      createConnector: function createConnector(backend) {\n        return new SourceConnector(backend);\n      },\n      createMonitor: function createMonitor(manager) {\n        return new DragSourceMonitorImpl(manager);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\n\nvar TargetImpl = /*#__PURE__*/function () {\n  function TargetImpl(spec, monitor, ref) {\n    _classCallCheck(this, TargetImpl);\n\n    this.props = null;\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(TargetImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"receiveMonitor\",\n    value: function receiveMonitor(monitor) {\n      this.monitor = monitor;\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      if (!this.spec.canDrop) {\n        return true;\n      }\n\n      return this.spec.canDrop(this.props, this.monitor);\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      if (!this.spec.hover || !this.props) {\n        return;\n      }\n\n      this.spec.hover(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      if (!this.spec.drop) {\n        return undefined;\n      }\n\n      var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(typeof dropResult === 'undefined' || isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);\n      }\n\n      return dropResult;\n    }\n  }]);\n\n  return TargetImpl;\n}();\n\nexport function createTargetFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);\n  });\n  return function createTarget(monitor, ref) {\n    return new TargetImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { registerTarget } from '../common/registration';\nimport { isValidType } from '../utils/isValidType';\nimport { TargetConnector } from '../common/TargetConnector';\nimport { DropTargetMonitorImpl } from '../common/DropTargetMonitorImpl';\nimport { checkDecoratorArguments } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { createTargetFactory } from './createTargetFactory';\nexport function DropTarget(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type, true), 'Expected \"type\" provided as the first argument to DropTarget to be ' + 'a string, an array of strings, or a function that returns either given ' + 'the current props. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DropTarget to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', spec);\n  var createTarget = createTargetFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DropTarget to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DropTarget to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  return function decorateTarget(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DropTarget',\n      createHandler: createTarget,\n      registerHandler: registerTarget,\n      createMonitor: function createMonitor(manager) {\n        return new DropTargetMonitorImpl(manager);\n      },\n      createConnector: function createConnector(backend) {\n        return new TargetConnector(backend);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { isFunction, noop } from '../utils/js_utils';\n/**\n * Provides a set of static methods for creating Disposables.\n * @param {Function} action Action to run during the first call to dispose.\n * The action is guaranteed to be run at most once.\n */\n\nvar Disposable =\n/** @class */\nfunction () {\n  var Disposable = /*#__PURE__*/function () {\n    function Disposable(action) {\n      _classCallCheck(this, Disposable);\n\n      this.isDisposed = false;\n      this.action = isFunction(action) ? action : noop;\n    }\n    /**\n     * Validates whether the given object is a disposable\n     * @param {Object} Object to test whether it has a dispose method\n     * @returns {Boolean} true if a disposable object, else false.\n     */\n\n\n    _createClass(Disposable, [{\n      key: \"dispose\",\n\n      /** Performs the task of cleaning up resources. */\n      value: function dispose() {\n        if (!this.isDisposed) {\n          this.action();\n          this.isDisposed = true;\n        }\n      }\n    }], [{\n      key: \"isDisposable\",\n      value: function isDisposable(d) {\n        return Boolean(d && isFunction(d.dispose));\n      }\n    }, {\n      key: \"_fixup\",\n      value: function _fixup(result) {\n        return Disposable.isDisposable(result) ? result : Disposable.empty;\n      }\n      /**\n       * Creates a disposable object that invokes the specified action when disposed.\n       * @param {Function} dispose Action to run during the first call to dispose.\n       * The action is guaranteed to be run at most once.\n       * @return {Disposable} The disposable object that runs the given action upon disposal.\n       */\n\n    }, {\n      key: \"create\",\n      value: function create(action) {\n        return new Disposable(action);\n      }\n    }]);\n\n    return Disposable;\n  }();\n  /**\n   * Gets the disposable that does nothing when disposed.\n   */\n\n\n  Disposable.empty = {\n    dispose: noop\n  };\n  return Disposable;\n}();\n\nexport { Disposable };\n/**\n * Represents a group of disposable resources that are disposed together.\n * @constructor\n */\n\nexport var CompositeDisposable = /*#__PURE__*/function () {\n  function CompositeDisposable() {\n    _classCallCheck(this, CompositeDisposable);\n\n    this.isDisposed = false;\n\n    for (var _len = arguments.length, disposables = new Array(_len), _key = 0; _key < _len; _key++) {\n      disposables[_key] = arguments[_key];\n    }\n\n    this.disposables = disposables;\n  }\n  /**\n   * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n   * @param {Any} item Disposable to add.\n   */\n\n\n  _createClass(CompositeDisposable, [{\n    key: \"add\",\n    value: function add(item) {\n      if (this.isDisposed) {\n        item.dispose();\n      } else {\n        this.disposables.push(item);\n      }\n    }\n    /**\n     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n     * @param {Any} item Disposable to remove.\n     * @returns {Boolean} true if found; false otherwise.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      var shouldDispose = false;\n\n      if (!this.isDisposed) {\n        var idx = this.disposables.indexOf(item);\n\n        if (idx !== -1) {\n          shouldDispose = true;\n          this.disposables.splice(idx, 1);\n          item.dispose();\n        }\n      }\n\n      return shouldDispose;\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group but\n     *  does not dispose the CompositeDisposable.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.isDisposed) {\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i = 0; _i < len; _i++) {\n          currentDisposables[_i].dispose();\n        }\n      }\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i2 = 0; _i2 < len; _i2++) {\n          currentDisposables[_i2].dispose();\n        }\n      }\n    }\n  }]);\n\n  return CompositeDisposable;\n}();\n/**\n * Represents a disposable resource whose underlying disposable resource can\n * be replaced by another disposable resource, causing automatic disposal of\n * the previous underlying disposable resource.\n */\n\nexport var SerialDisposable = /*#__PURE__*/function () {\n  function SerialDisposable() {\n    _classCallCheck(this, SerialDisposable);\n\n    this.isDisposed = false;\n  }\n  /**\n   * Gets the underlying disposable.\n   * @returns {Any} the underlying disposable.\n   */\n\n\n  _createClass(SerialDisposable, [{\n    key: \"getDisposable\",\n    value: function getDisposable() {\n      return this.current;\n    }\n  }, {\n    key: \"setDisposable\",\n    value: function setDisposable(value) {\n      var shouldDispose = this.isDisposed;\n\n      if (!shouldDispose) {\n        var old = this.current;\n        this.current = value;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n\n      if (shouldDispose && value) {\n        value.dispose();\n      }\n    }\n    /** Performs the task of cleaning up resources. */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var old = this.current;\n        this.current = undefined;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n    }\n  }]);\n\n  return SerialDisposable;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { DndContext } from '../common/DndContext';\nimport { isPlainObject } from '../utils/js_utils';\nimport { Disposable, CompositeDisposable, SerialDisposable } from './disposables';\nimport { isRefable } from './utils';\nexport function decorateHandler(_ref) {\n  var DecoratedComponent = _ref.DecoratedComponent,\n      createHandler = _ref.createHandler,\n      createMonitor = _ref.createMonitor,\n      createConnector = _ref.createConnector,\n      registerHandler = _ref.registerHandler,\n      containerDisplayName = _ref.containerDisplayName,\n      getType = _ref.getType,\n      collect = _ref.collect,\n      options = _ref.options;\n  var _options$arePropsEqua = options.arePropsEqual,\n      arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n  var Decorated = DecoratedComponent;\n  var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n  var DragDropContainer =\n  /** @class */\n  function () {\n    var DragDropContainer = /*#__PURE__*/function (_React$Component) {\n      _inherits(DragDropContainer, _React$Component);\n\n      var _super = _createSuper(DragDropContainer);\n\n      function DragDropContainer(props) {\n        var _this;\n\n        _classCallCheck(this, DragDropContainer);\n\n        _this = _super.call(this, props);\n        _this.decoratedRef = React.createRef();\n\n        _this.handleChange = function () {\n          var nextState = _this.getCurrentState();\n\n          if (!shallowEqual(nextState, _this.state)) {\n            _this.setState(nextState);\n          }\n        };\n\n        _this.disposable = new SerialDisposable();\n\n        _this.receiveProps(props);\n\n        _this.dispose();\n\n        return _this;\n      }\n\n      _createClass(DragDropContainer, [{\n        key: \"getHandlerId\",\n        value: function getHandlerId() {\n          return this.handlerId;\n        }\n      }, {\n        key: \"getDecoratedComponentInstance\",\n        value: function getDecoratedComponentInstance() {\n          invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n          return this.decoratedRef.current;\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.disposable = new SerialDisposable();\n          this.currentType = undefined;\n          this.receiveProps(this.props);\n          this.handleChange();\n        }\n      }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate(prevProps) {\n          if (!arePropsEqual(this.props, prevProps)) {\n            this.receiveProps(this.props);\n            this.handleChange();\n          }\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.dispose();\n        }\n      }, {\n        key: \"receiveProps\",\n        value: function receiveProps(props) {\n          if (!this.handler) {\n            return;\n          }\n\n          this.handler.receiveProps(props);\n          this.receiveType(getType(props));\n        }\n      }, {\n        key: \"receiveType\",\n        value: function receiveType(type) {\n          if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {\n            return;\n          }\n\n          if (type === this.currentType) {\n            return;\n          }\n\n          this.currentType = type;\n\n          var _registerHandler = registerHandler(type, this.handler, this.manager),\n              _registerHandler2 = _slicedToArray(_registerHandler, 2),\n              handlerId = _registerHandler2[0],\n              unregister = _registerHandler2[1];\n\n          this.handlerId = handlerId;\n          this.handlerMonitor.receiveHandlerId(handlerId);\n          this.handlerConnector.receiveHandlerId(handlerId);\n          var globalMonitor = this.manager.getMonitor();\n          var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, {\n            handlerIds: [handlerId]\n          });\n          this.disposable.setDisposable(new CompositeDisposable(new Disposable(unsubscribe), new Disposable(unregister)));\n        }\n      }, {\n        key: \"dispose\",\n        value: function dispose() {\n          this.disposable.dispose();\n\n          if (this.handlerConnector) {\n            this.handlerConnector.receiveHandlerId(null);\n          }\n        }\n      }, {\n        key: \"getCurrentState\",\n        value: function getCurrentState() {\n          if (!this.handlerConnector) {\n            return {};\n          }\n\n          var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);\n\n          if (process.env.NODE_ENV !== 'production') {\n            invariant(isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' + '%s for %s to return a plain object of props to inject. ' + 'Instead, received %s.', containerDisplayName, displayName, nextState);\n          }\n\n          return nextState;\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return React.createElement(DndContext.Consumer, null, function (_ref2) {\n            var dragDropManager = _ref2.dragDropManager;\n\n            _this2.receiveDragDropManager(dragDropManager);\n\n            if (typeof requestAnimationFrame !== 'undefined') {\n              requestAnimationFrame(function () {\n                var _this2$handlerConnect;\n\n                return (_this2$handlerConnect = _this2.handlerConnector) === null || _this2$handlerConnect === void 0 ? void 0 : _this2$handlerConnect.reconnect();\n              });\n            }\n\n            return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.getCurrentState(), {\n              // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.\n              ref: isRefable(Decorated) ? _this2.decoratedRef : null\n            }));\n          });\n        }\n      }, {\n        key: \"receiveDragDropManager\",\n        value: function receiveDragDropManager(dragDropManager) {\n          if (this.manager !== undefined) {\n            return;\n          }\n\n          invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n          if (dragDropManager === undefined) {\n            return;\n          }\n\n          this.manager = dragDropManager;\n          this.handlerMonitor = createMonitor(dragDropManager);\n          this.handlerConnector = createConnector(dragDropManager.getBackend());\n          this.handler = createHandler(this.handlerMonitor, this.decoratedRef);\n        }\n      }]);\n\n      return DragDropContainer;\n    }(React.Component);\n\n    DragDropContainer.DecoratedComponent = DecoratedComponent;\n    DragDropContainer.displayName = \"\".concat(containerDisplayName, \"(\").concat(displayName, \")\");\n    return DragDropContainer;\n  }();\n\n  return hoistStatics(DragDropContainer, DecoratedComponent);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector = /*#__PURE__*/function () {\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dragSourceRef = null;\n    this.dragSourceOptionsInternal = null; // The drag preview may either be attached via ref or connect function\n\n    this.dragPreviewRef = null;\n    this.dragPreviewOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDragSource = null;\n    this.lastConnectedDragSourceOptions = null;\n    this.lastConnectedDragPreview = null;\n    this.lastConnectedDragPreviewOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    this.sourceId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    this.targetId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dropTargetRef = null;\n    this.dropTargetOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDropTarget = null;\n    this.lastConnectedDropTargetOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }]);\n\n  return TargetConnector;\n}();","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","// This icon file is generated automatically.\nvar LeftOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z\" } }] }, \"name\": \"left\", \"theme\": \"outlined\" };\nexport default LeftOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LeftOutlinedSvg from \"@ant-design/icons-svg/es/asn/LeftOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar LeftOutlined = function LeftOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: LeftOutlinedSvg\n  }));\n};\n\nLeftOutlined.displayName = 'LeftOutlined';\nexport default React.forwardRef(LeftOutlined);","// This icon file is generated automatically.\nvar RightOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z\" } }] }, \"name\": \"right\", \"theme\": \"outlined\" };\nexport default RightOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport RightOutlinedSvg from \"@ant-design/icons-svg/es/asn/RightOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar RightOutlined = function RightOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: RightOutlinedSvg\n  }));\n};\n\nRightOutlined.displayName = 'RightOutlined';\nexport default React.forwardRef(RightOutlined);","// This icon file is generated automatically.\nvar EditOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z\" } }] }, \"name\": \"edit\", \"theme\": \"outlined\" };\nexport default EditOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EditOutlinedSvg from \"@ant-design/icons-svg/es/asn/EditOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EditOutlined = function EditOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: EditOutlinedSvg\n  }));\n};\n\nEditOutlined.displayName = 'EditOutlined';\nexport default React.forwardRef(EditOutlined);","import React from 'react'\nimport styled from 'styled-components'\nimport {\n  EditOutlined,\n  DeleteOutlined,\n  RightOutlined,\n  LeftOutlined,\n} from '@ant-design/icons'\nimport cx from 'classnames'\nimport { Tooltip } from 'antd'\n\ntype Props = {\n  tabIndex: number\n  onEdit: () => void\n  onDelete: () => void\n  onShift: (shift: number) => void\n}\n\nconst ToolbarWrapper = styled.div`\n  position: absolute;\n  top: 8px;\n  right: 15px;\n  visibility: hidden;\n  transition: visibility 0s, opacity 0.3s, max-height 0.6s linear;\n  opacity: 0;\n  z-index: 1;\n\n  &.is--over {\n    visibility: visible;\n    transition: visibility 0s, opacity 0.3s, max-height 0.6s linear;\n    opacity: 0.8;\n  }\n`\n\nexport const SHIFT_TYPES = {\n  LEFT: -1,\n  RIGHT: 1,\n}\n\nexport default function SnippetToolbar({\n  tabIndex,\n  onEdit,\n  onDelete,\n  onShift,\n}: Props) {\n  const handleShift = (shift: number) => () => {\n    onShift(shift)\n  }\n\n  return (\n    <ToolbarWrapper\n      className={cx('text-primary', { 'is--over': tabIndex === 1 })}>\n      <Tooltip title=\"向左縮排\">\n        <LeftOutlined\n          className=\"mr-2 cursor-pointer\"\n          onClick={handleShift(SHIFT_TYPES.LEFT)}\n        />\n      </Tooltip>\n      <Tooltip title=\"向右縮排\">\n        <RightOutlined\n          className=\"mr-2 cursor-pointer\"\n          onClick={handleShift(SHIFT_TYPES.RIGHT)}\n        />\n      </Tooltip>\n      <Tooltip title=\"編輯\">\n        <EditOutlined className=\"mr-2 cursor-pointer\" onClick={onEdit} />\n      </Tooltip>\n      <Tooltip title=\"刪除\">\n        <DeleteOutlined className=\"cursor-pointer\" onClick={onDelete} />\n      </Tooltip>\n    </ToolbarWrapper>\n  )\n}\n\nexport { SnippetToolbar }\n","import React from 'react'\nimport { DragSource, ConnectDragPreview, ConnectDragSource } from 'react-dnd'\nimport { getEmptyImage } from 'react-dnd-html5-backend'\nimport { mergeRight } from 'ramda'\nimport cx from 'classnames'\nimport { confirm } from '@/utils/message'\nimport { SnippetProps } from '@/constants/types'\nimport ItemTypes from '@/constants/item-types'\nimport SnippetToolbar from './snippet-toolbar'\nimport theme from '../theme'\n\ntype Props = {\n  id?: React.Key\n  wrapperId?: string\n  className?: string\n  style?: React.CSSProperties\n  index?: number\n  tabSize?: number\n  isDragging?: boolean\n  draggable?: boolean\n  fromMenu?: boolean\n  connectDragPreview: ConnectDragPreview\n  connectDragSource: ConnectDragSource\n  children?: React.ReactNode\n  findSnippet?(id: React.Key): { index: number; snippet: SnippetProps }\n  shiftSnippet?(id: React.Key, shift: number): any\n  removeSnippet?(index: number): void\n}\n\ntype State = {\n  top: number\n  tabIndex: number\n  editModalVisible: boolean\n}\n\nconst withDragSource = DragSource(\n  ItemTypes.BOARD,\n  {\n    beginDrag(props: Props) {\n      return {\n        ...props,\n        fromMenu: false,\n        originalIndex: (props as any).findSnippet(props.id).index,\n      }\n    },\n    canDrag(props: Props) {\n      return !!(props.draggable && !props.fromMenu)\n    },\n  },\n  (connect, monitor) => ({\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n    isDragging: monitor.isDragging(),\n  })\n)\n\nclass Snippet extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props)\n\n    this.state = {\n      top: 0,\n      tabIndex: -1,\n      editModalVisible: false,\n    }\n  }\n\n  componentDidMount = () => {\n    const { connectDragPreview } = this.props\n    if (connectDragPreview) {\n      connectDragPreview(getEmptyImage() /* { anchorX: 0.2, anchorY: 0.1 } */)\n    }\n  }\n\n  handleShift = (shift: number) => {\n    const { id, shiftSnippet } = this.props\n\n    if (shiftSnippet && id) {\n      shiftSnippet(id, shift)\n    }\n  }\n\n  handleRemove = () => {\n    confirm({\n      content: '刪除後將無法還原，確認繼續？',\n      title: '確認要刪除這個模版?',\n      onOk: () => {\n        ;(this.props as any).removeSnippet(this.props.index)\n      },\n      onCancel() {},\n    })\n  }\n\n  handleEditModalVisible = () => {\n    this.setState(prev => ({ editModalVisible: !prev.editModalVisible }))\n  }\n\n  _onMouseOver = () => {\n    this.setState({ tabIndex: 1 })\n  }\n\n  _onMouseOut = () => {\n    this.setState({ tabIndex: -1 })\n  }\n\n  render() {\n    const {\n      props: {\n        connectDragSource,\n        connectDragPreview,\n        wrapperId,\n        index,\n        draggable,\n        style = {},\n        className = 'mb-3',\n      },\n      state: { tabIndex, editModalVisible },\n    } = this\n\n    const styles = mergeRight(\n      getItemStyles({ ...this.props, ...this.state }),\n      style\n    )\n\n    return connectDragSource(\n      connectDragPreview(\n        <div\n          id={wrapperId}\n          style={styles}\n          className={cx(\n            'ui-sortable',\n            { 'ui-draggable': draggable },\n            className\n          )}\n          tabIndex={tabIndex}\n          onMouseOver={this._onMouseOver}\n          onMouseOut={this._onMouseOut}\n          data-index={index}>\n          {draggable && (\n            <SnippetToolbar\n              tabIndex={tabIndex}\n              onEdit={this.handleEditModalVisible}\n              onDelete={this.handleRemove}\n              onShift={this.handleShift}\n            />\n          )}\n          {React.Children.map(this.props.children, child =>\n            React.cloneElement(child as any, {\n              editModalVisible,\n              handleEditModalVisible: this.handleEditModalVisible,\n            })\n          )}\n        </div>\n      )\n    )\n  }\n}\n\nfunction getItemStyles(props: Partial<Props & State>): React.CSSProperties {\n  const { isDragging, tabIndex, draggable, tabSize = 0 } = props\n\n  const isFocus = tabIndex === 1\n\n  return {\n    ...(isFocus ? { borderRadius: 3 } : {}),\n    ...(draggable\n      ? { border: `1px dashed ${draggable ? '#e7e7e7' : 'transparent'}` }\n      : {\n          outlineColor: isFocus ? theme.purple150 : 'transparent',\n        }),\n    cursor: 'default',\n    position: 'relative',\n    display: isDragging ? 'none' : 'block',\n    marginLeft: tabSize * 50,\n  }\n}\n\nexport default withDragSource(Snippet)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { findDOMNode } from 'react-dom'\nimport { DndContext } from 'react-dnd'\nimport throttle from 'lodash.throttle'\nimport raf from 'raf'\nimport hoist from 'hoist-non-react-statics'\nimport getDisplayName from './snippet-utils'\n\nfunction noop() {}\n\nfunction intBetween(min, max, val) {\n  return Math.floor(Math.min(max, Math.max(min, val)))\n}\n\nfunction getCoords(evt) {\n  if (evt.type === 'touchmove') {\n    return {\n      x: evt.changedTouches[0].clientX,\n      y: evt.changedTouches[0].clientY,\n    }\n  }\n\n  return { x: evt.clientX, y: evt.clientY }\n}\n\nconst DEFAULT_BUFFER = 150\n\nexport function createHorizontalStrength(_buffer) {\n  return function defaultHorizontalStrength({ x, w, y, h }, point) {\n    const buffer = Math.min(w / 2, _buffer)\n    const inRange = point.x >= x && point.x <= x + w\n    const inBox = inRange && point.y >= y && point.y <= y + h\n\n    if (inBox) {\n      if (point.x < x + buffer) {\n        return (point.x - x - buffer) / buffer\n      } else if (point.x > x + w - buffer) {\n        return -(x + w - point.x - buffer) / buffer\n      }\n    }\n\n    return 0\n  }\n}\n\nexport function createVerticalStrength(_buffer) {\n  return function defaultVerticalStrength({ y, h, x, w }, point) {\n    const buffer = Math.min(h / 2, _buffer)\n    const inRange = point.y >= y && point.y <= y + h\n    const inBox = inRange && point.x >= x && point.x <= x + w\n\n    if (inBox) {\n      if (point.y < y + buffer) {\n        return (point.y - y - buffer) / buffer\n      } else if (point.y > y + h - buffer) {\n        return -(y + h - point.y - buffer) / buffer\n      }\n    }\n\n    return 0\n  }\n}\n\nexport const defaultHorizontalStrength = createHorizontalStrength(\n  DEFAULT_BUFFER\n)\n\nexport const defaultVerticalStrength = createVerticalStrength(DEFAULT_BUFFER)\n\nexport default function createScrollingComponent(WrappedComponent) {\n  class ScrollingComponent extends React.Component {\n    static displayName = `Scrolling(${getDisplayName(WrappedComponent)})`\n\n    static propTypes = {\n      onScrollChange: PropTypes.func,\n      verticalStrength: PropTypes.func,\n      horizontalStrength: PropTypes.func,\n      strengthMultiplier: PropTypes.number,\n    }\n\n    static defaultProps = {\n      useScroll: true,\n      onScrollChange: noop,\n      verticalStrength: defaultVerticalStrength,\n      horizontalStrength: defaultHorizontalStrength,\n      strengthMultiplier: 30,\n    }\n\n    static contextType = DndContext\n\n    constructor(props, ctx) {\n      super(props, ctx)\n\n      this.scaleX = 0\n      this.scaleY = 0\n      this.frame = null\n\n      this.attached = false\n      this.dragging = false\n    }\n\n    componentDidMount() {\n      if (this.props.useScroll) {\n        this._initial()\n      }\n    }\n\n    _initial() {\n      // window.document.body.addEventListener('dragover', this.handleEvent);\n      this.container = findDOMNode(this.wrappedInstance)\n      this.container.addEventListener('dragover', this.handleEvent)\n      // touchmove events don't seem to work across siblings, so we unfortunately\n      // have to attach the listeners to the body\n      window.document.body.addEventListener('touchmove', this.handleEvent)\n\n      this.clearMonitorSubscription = this.context.dragDropManager\n        .getMonitor()\n        .subscribeToStateChange(() => this.handleMonitorChange())\n    }\n\n    componentWillUnmount() {\n      if (this.props.useScroll) {\n        this._remove()\n      }\n    }\n\n    _remove() {\n      // window.document.body.removeEventListener('dragover', this.handleEvent);\n      this.container.removeEventListener('dragover', this.handleEvent)\n      window.document.body.removeEventListener('touchmove', this.handleEvent)\n      this.clearMonitorSubscription()\n      this.stopScrolling()\n    }\n\n    handleEvent = evt => {\n      if (this.dragging && !this.attached) {\n        this.attach()\n        this.updateScrolling(evt)\n      }\n    }\n\n    handleMonitorChange() {\n      const isDragging = this.context.dragDropManager.getMonitor().isDragging()\n\n      if (!this.dragging && isDragging) {\n        this.dragging = true\n      } else if (this.dragging && !isDragging) {\n        this.dragging = false\n        this.stopScrolling()\n      }\n    }\n\n    attach() {\n      this.attached = true\n      window.document.body.addEventListener('dragover', this.updateScrolling)\n      window.document.body.addEventListener('touchmove', this.updateScrolling)\n    }\n\n    detach() {\n      this.attached = false\n      window.document.body.removeEventListener('dragover', this.updateScrolling)\n      window.document.body.removeEventListener(\n        'touchmove',\n        this.updateScrolling\n      )\n    }\n\n    // Update scaleX and scaleY every 100ms or so\n    // and start scrolling if necessary\n    updateScrolling = throttle(\n      evt => {\n        const {\n          left: x,\n          top: y,\n          width: w,\n          height: h,\n        } = this.container.getBoundingClientRect()\n        const box = { x, y, w, h }\n        const coords = getCoords(evt)\n\n        // calculate strength\n        this.scaleX = this.props.horizontalStrength(box, coords)\n        this.scaleY = this.props.verticalStrength(box, coords)\n\n        // start scrolling if we need to\n        if (!this.frame && (this.scaleX || this.scaleY)) {\n          this.startScrolling()\n        }\n      },\n      100,\n      { trailing: false }\n    )\n\n    startScrolling() {\n      let i = 0\n      const tick = () => {\n        const { scaleX, scaleY, container } = this\n        const { strengthMultiplier, onScrollChange } = this.props\n\n        // stop scrolling if there's nothing to do\n        if (strengthMultiplier === 0 || scaleX + scaleY === 0) {\n          this.stopScrolling()\n          return\n        }\n\n        // there's a bug in safari where it seems like we can't get\n        // mousemove events from a container that also emits a scroll\n        // event that same frame. So we double the strengthMultiplier and only adjust\n        // the scroll position at 30fps\n        if (i++ % 2) {\n          const {\n            scrollLeft,\n            scrollTop,\n            scrollWidth,\n            scrollHeight,\n            clientWidth,\n            clientHeight,\n          } = container\n\n          const newLeft = scaleX\n            ? (container.scrollLeft = intBetween(\n                0,\n                scrollWidth - clientWidth,\n                scrollLeft + scaleX * strengthMultiplier\n              ))\n            : scrollLeft\n\n          const newTop = scaleY\n            ? (container.scrollTop = intBetween(\n                0,\n                scrollHeight - clientHeight,\n                scrollTop + scaleY * strengthMultiplier\n              ))\n            : scrollTop\n\n          onScrollChange(newLeft, newTop)\n        }\n        this.frame = raf(tick)\n      }\n\n      tick()\n    }\n\n    stopScrolling() {\n      this.detach()\n      this.scaleX = 0\n      this.scaleY = 0\n\n      if (this.frame) {\n        raf.cancel(this.frame)\n        this.frame = null\n      }\n    }\n\n    render() {\n      const {\n        // not passing down these props\n        strengthMultiplier,\n        verticalStrength,\n        horizontalStrength,\n        onScrollChange,\n        ...props\n      } = this.props\n\n      return (\n        <WrappedComponent\n          ref={ref => {\n            this.wrappedInstance = ref\n          }}\n          {...props}\n        />\n      )\n    }\n  }\n\n  return hoist(ScrollingComponent, WrappedComponent)\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport cx from 'classnames'\nimport withScroll, { createVerticalStrength } from './withScroll'\n\ninterface Props {\n  className?: string\n  useScroll?: boolean\n}\n\nconst DndScrollableElement = styled.div`\n  height: 85vh;\n  padding-top: 0;\n  overflow-y: scroll;\n\n  .report-template-builder {\n    &__main-content {\n      min-height: 371.25mm;\n      margin: 0 auto;\n      padding: 16px;\n      box-sizing: border-box;\n      max-width: 100%;\n      background: #fff;\n      border-top-right-radius: 16px;\n      border-bottom-left-radius: 16px;\n      border-bottom-right-radius: 16px;\n    }\n\n    &__contentarea {\n      min-height: 348.75mm;\n    }\n\n    &__contentarea--fixed-layout {\n      min-height: auto;\n    }\n\n    &__snippet-toolbar {\n      visibility: hidden;\n    }\n  }\n\n  .ui-draggable {\n    &:focus,\n    &:active {\n      outline: 0;\n\n      .course-builder__snippet-toolbar {\n        visibility: visible;\n        opacity: 1;\n        transition: visibility 0s, opacity 0.3s, max-height 0.6s linear;\n      }\n    }\n  }\n\n  &.is--preview {\n    height: auto;\n  }\n`\n\nconst ScrollableComponent = withScroll(DndScrollableElement)\n\nconst vStrength = createVerticalStrength(150)\n\nexport default class ReactDndProvider extends React.Component<Props> {\n  static defaultProps = {\n    useScroll: true,\n  }\n\n  render() {\n    const { className, useScroll } = this.props\n\n    return (\n      <ScrollableComponent\n        useScroll={useScroll}\n        verticalStrength={vStrength}\n        strengthMultiplier={100}\n        className={cx('report-template-builder', className)}>\n        {this.props.children}\n      </ScrollableComponent>\n    )\n  }\n}\n","import React from 'react'\nimport { ModalProps } from 'antd/lib/modal'\nimport { length, __, gt, keys, map, pathOr } from 'ramda'\nimport Modal from '@/components/modal'\nimport Snippet from '@/components/snippet'\nimport { mapIndexed } from '@/utils/webHelper'\nconst { compose } = require('ramda')\n\ninterface Props extends ModalProps {\n  snippetList?: { [key: string]: any[] }\n}\n\nexport default function SnippetPreviewModal({ onCancel, snippetList }: Props) {\n  return (\n    <Modal\n      visible\n      style={{ top: 30 }}\n      maskClosable={false}\n      className=\"ant-modal-header--border-none\"\n      keyboard={false}\n      width=\"85%\"\n      onCancel={onCancel}\n      footer={false}>\n      {compose(\n        map((key: string) => (\n          <div key={key}>\n            {compose(gt(__, 0), length, pathOr([], [key]))(snippetList) && (\n              <h2 className=\"my-2\">{key}</h2>\n            )}\n            {compose(\n              mapIndexed((item: any, idx: number) => (\n                <Snippet key={item.id} draggable={false}>\n                  <item.Component\n                    id={item.id}\n                    className={item.id}\n                    item={item}\n                    index={idx}\n                  />\n                </Snippet>\n              )),\n              pathOr([], [key])\n            )(snippetList)}\n          </div>\n        )),\n        keys\n      )(snippetList)}\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { ColumnProps, TableProps, TablePaginationConfig } from 'antd/lib/table'\nimport { SpinProps } from 'antd/lib/spin'\nimport { merge } from 'ramda'\nimport { DataSource } from '@/constants/types'\nimport Table from '@/components/table'\n\ntype Props<T> = Omit<TableProps<T>, 'dataSource'> & {\n  columns: ColumnProps<T>[]\n  className?: string\n  pageNum?: number\n  dataSource: DataSource<T>\n  onChange?: (pagination: TablePaginationConfig) => any\n  loading?: boolean | SpinProps\n  rowSelection?: {\n    selectedRowKeys: any[]\n    onChange: (selectedRowKeys: any, selectedRows: any) => void\n  }\n}\n\nexport default function QueryTable<T>({\n  columns,\n  className,\n  pageNum = 1,\n  dataSource,\n  onChange,\n  loading = false,\n  rowSelection,\n  pagination,\n  ...props\n}: Props<T>) {\n  const handleTableChange = ({ current, pageSize }: TablePaginationConfig) => {\n    if (onChange) {\n      onChange({ current, pageSize })\n    }\n  }\n\n  const paginationConfig = React.useMemo(\n    () =>\n      merge<any, any>(pagination, {\n        current: pageNum,\n        pageSize: 10,\n        total: dataSource.total,\n        showSizeChanger: false,\n      }) as TablePaginationConfig,\n    [dataSource.total, pagination, pageNum]\n  )\n\n  return (\n    <Table\n      rowKey=\"id\"\n      dataSource={dataSource.content}\n      columns={columns as any}\n      pagination={paginationConfig}\n      onChange={handleTableChange}\n      rowSelection={rowSelection}\n      loading={loading}\n      className={className}\n      {...props}\n    />\n  )\n}\n","// This icon file is generated automatically.\nvar DeleteOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z\" } }] }, \"name\": \"delete\", \"theme\": \"outlined\" };\nexport default DeleteOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DeleteOutlinedSvg from \"@ant-design/icons-svg/es/asn/DeleteOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DeleteOutlined = function DeleteOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: DeleteOutlinedSvg\n  }));\n};\n\nDeleteOutlined.displayName = 'DeleteOutlined';\nexport default React.forwardRef(DeleteOutlined);"],"sourceRoot":""}