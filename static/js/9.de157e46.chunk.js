(this["webpackJsonpvghks-pathol-app"]=this["webpackJsonpvghks-pathol-app"]||[]).push([[9],{351:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));n(235);var a=n(157),i=n.n(a),r=(n(236),n(158)),o=n.n(r),c=(n(362),n(361)),l=n.n(c),s=n(93),u=n(0),d=n.n(u),h=n(190),p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},g=n(146),m=function(e,t){return u.createElement(g.a,Object.assign({},e,{ref:t,icon:p}))};m.displayName="EyeOutlined";var f=u.forwardRef(m),v=n(1843),b=n(390),y=n(100),O=n(442),S=n(162),x=n(379),E=n(366),j=n(365),w=n(211),C=n(35);var M=n(160),N=n(391),k=n(441);function I(){Object(x.a)("\u7d50\u69cb\u5f0f\u5831\u544a\u6a21\u7248\u5217\u8868"),Object(j.a)([{name:"\u7d50\u69cb\u5f0f\u5831\u544a"},{name:"\u7d50\u69cb\u5f0f\u5831\u544a\u6a21\u7248\u5217\u8868"}]);var e=Object(E.c)(),t=Object(s.a)(e,1)[0],n=function(e){var t=e.content,n=e.key,a=void 0===n?"id":n,i=e.onToggle,r=e.ownState,o=d.a.useState(!1),c=Object(s.a)(o,2),l=c[0],u=c[1],h=r||d.a.useState(null),p=Object(s.a)(h,2),g=p[0],m=p[1],f=d.a.useCallback((function(e){return Object(w.a)((function(t){return"".concat(Object(C.a)([a],t))===e.currentTarget.dataset.id}))(t)}),[t,a]),v=function(e){if(e){var t=f(e);t||m(null),t&&m(t),i&&i(t)}};return[l,function(e){u((function(e){return!e})),v(e)},{item:g,handleModalToggle:v,setItem:m}]}({content:t.content}),a=Object(s.a)(n,3),r=a[0],c=a[1],u=a[2].item,p=function(e){return function(){S.a.push(e)}},g=[{title:"\u5831\u544a\u540d\u7a31",dataIndex:"name",render:function(e,t){return d.a.createElement(y.a,{type:"link",onClick:(n=t,function(){p(Object(h.a)(":id","".concat(n.id))(M.e))()})},e);var n}},{title:"\u5275\u4f5c\u8005",dataIndex:"author"},{title:"\u72c0\u614b",dataIndex:"statusName"},{title:"\u5275\u4f5c\u6642\u9593",dataIndex:"createdAtStr"},{title:"\u4e0a\u6b21\u4fee\u6539\u6642\u9593",dataIndex:"updatedAtStr"},{title:"\u5831\u544a\u63cf\u8ff0",dataIndex:"description"},{title:"actions",dataIndex:"delete",align:"center",render:function(e,t){return d.a.createElement(d.a.Fragment,null,d.a.createElement(l.a,{title:"\u6aa2\u8996"},d.a.createElement(f,{"data-id":t.id,className:"c-icon text-lg cursor-pointer mr-3",onClick:c})),d.a.createElement(l.a,{title:"\u522a\u9664"},d.a.createElement(v.a,{"data-id":t.id,className:"c-icon text-lg cursor-pointer"})))}}];return d.a.createElement(N.a,{className:"is--preview"},r&&d.a.createElement(k.a,{snippetList:null===u||void 0===u?void 0:u.setting,onCancel:c}),d.a.createElement(b.a,null,d.a.createElement(i.a,{className:"mb-4"},d.a.createElement(o.a,{span:24,className:"flex justify-end"},d.a.createElement(y.a,{color:"outline"},"\u532f\u5165"),d.a.createElement(y.a,{color:"outline",className:"ml-4",onClick:p(M.d)},"\u65b0\u589e"))),d.a.createElement(i.a,null,d.a.createElement(o.a,{span:24},d.a.createElement(O.a,{rowKey:"id",columns:g,dataSource:t})))))}},364:function(e,t,n){"use strict";t.a={CARD:"card",BOARD:"board",SNIPPET:"snippet"}},367:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n(183),i=n(142),r=function(e,t){return e.find((function(e){return!Object(i.b)(e.className)&&Object(a.a)(t)(e.className)}))};function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"report-template-builder__main-content",n=e,a=[];for(a.push(n);n.parentNode;)a.unshift(n.parentNode),n=n.parentNode;return!r(a,"report-template-builder-contentarea--fixed-layout")&&!r(a,"snippet-drawer-menu")&&!(!r(a,t)&&!r(a,"ui-draggable"))}function c(e){var t=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ui-draggable";return t.classList.contains(n)?t:t.parentElement&&e(t.parentElement,n)}(document.elementFromPoint(e.x,e.y)),n=t&&t.dataset.index;return{overSnippet:t,placeholderIndex:t?+t.dataset.index:-1,isOverSnippet:!Object(i.b)(n)}}function l(e){return e.displayName||e.name||("string"===typeof e&&e.length>0?e:"Unknown")}},373:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(381);var a=n(382),i=n.n(a),r=n(74),o=n(94),c=n(30),l=n(0),s=n.n(l),u=Object(c.c)("div").withConfig({displayName:"message___StyledDiv",componentId:"to9tl-0"})({marginTop:16,marginBottom:30}),d=function(e){var t=e.onOk,n=e.onCancel,a=e.content,c=void 0===a?"\u522a\u9664\u5f8c\u5c07\u7121\u6cd5\u9084\u539f\uff0c\u78ba\u8a8d\u7e7c\u7e8c\uff1f":a,l=Object(r.a)(e,["onOk","onCancel","content"]);i.a.confirm(Object(o.a)(Object(o.a)(Object(o.a)({},function(e,t){return Object(o.a)({content:s.a.createElement(u,{className:"text-primary font-medium"},e),icon:null,width:440,okText:"\u522a\u9664",cancelText:"\u53d6\u6d88",centered:!0,autoFocusButton:null,okButtonProps:{className:"c-btn is--danger",style:{minWidth:80,marginRight:24}},cancelButtonProps:{className:"c-btn is--outline mr-0 float-right",style:{minWidth:80}}},t)}(c)),l),{},{onOk:function(){t&&t()},onCancel:function(){n&&n()}}))}},375:function(e,t,n){"use strict";var a=n(97),i=n(98),r=n(141),o=n(140),c=n(94),l=n(0),s=n.n(l),u=n(350),d=n(258),h=n(187),p=n(24),g=n.n(p),m=n(373),f=n(159),v=n(364),b=(n(362),n(361)),y=n.n(b),O=n(30),S=n(1842),x=n(1843),E=n(443),j=O.c.div.withConfig({displayName:"box",componentId:"sc-15dh2m2-0"})(["",";",";",";",";",";",";",";",";"],E.c,E.e,E.g,E.d,E.h,E.b,E.f,E.a),w=Object(O.c)(j).withConfig({displayName:"snippet-toolbar__ToolbarWrapper",componentId:"sc-1penmlr-0"})(["position:absolute;top:16px;right:24px;visibility:hidden;transition:visibility 0s,opacity 0.3s,max-height 0.6s linear;opacity:0;z-index:1;&.is--over{visibility:visible;transition:visibility 0s,opacity 0.3s,max-height 0.6s linear;opacity:0.8;}"]);function C(e){var t=e.tabIndex,n=e.onEdit,a=e.onDelete;return s.a.createElement(w,{className:g()("text-primary",{"is--over":1===t})},s.a.createElement(y.a,{title:"\u7de8\u8f2f"},s.a.createElement(S.a,{className:"mr-2 cursor-pointer",onClick:n})),s.a.createElement(y.a,{title:"\u522a\u9664"},s.a.createElement(x.a,{className:"cursor-pointer",onClick:a})))}var M=Object(u.DragSource)(v.a.BOARD,{beginDrag:function(e){return Object(c.a)(Object(c.a)({},e),{},{fromMenu:!1,originalIndex:e.findSnippet(e.id).index})},canDrag:function(e){return!(!e.draggable||e.fromMenu)}},(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})),N=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).componentDidMount=function(){var e=i.props.connectDragPreview;e&&e(Object(d.a)())},i.handleRemove=function(){Object(m.a)({content:"\u522a\u9664\u5f8c\u5c07\u7121\u6cd5\u9084\u539f\uff0c\u78ba\u8a8d\u7e7c\u7e8c\uff1f",title:"\u78ba\u8a8d\u8981\u522a\u9664\u9019\u500b\u6a21\u7248?",onOk:function(){i.props.removeSnippet(i.props.index)},onCancel:function(){console.log("Cancel")}})},i.handleEditModalVisible=function(){i.setState((function(e){return{editModalVisible:!e.editModalVisible}}))},i.handleIndent=function(e){return function(){}},i._onMouseOver=function(){i.setState({tabIndex:1})},i._onMouseOut=function(){i.setState({tabIndex:-1})},i.state={top:0,tabIndex:-1,editModalVisible:!1},i}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.connectDragSource,a=t.connectDragPreview,i=t.isDragging,r=t.wrapperId,o=t.index,l=t.draggable,u=t.style,d=void 0===u?{}:u,p=t.className,m=void 0===p?"mb-3":p,v=this.state,b=v.tabIndex,y=v.editModalVisible,O=Object(h.a)(function(e){var t=e.isDragging,n=e.tabIndex,a=e.draggable,i=1===n;return Object(c.a)(Object(c.a)(Object(c.a)({},i?{borderRadius:3}:{}),a?{border:"1px dashed ".concat(a?"#e7e7e7":"transparent")}:{outlineColor:i?f.a.purple150:"transparent"}),{},{cursor:"default",position:"relative",display:t?"none":"block"})}({isDragging:i,tabIndex:b,draggable:l}),d);return n(a(s.a.createElement("div",{id:r,style:O,className:g()("ui-sortable",{"ui-draggable":l},m),tabIndex:b,onMouseOver:this._onMouseOver,onMouseOut:this._onMouseOut,"data-index":o},l&&s.a.createElement(C,{tabIndex:b,onEdit:this.handleEditModalVisible,onDelete:this.handleRemove}),s.a.Children.map(this.props.children,(function(t){return s.a.cloneElement(t,{editModalVisible:y,handleEditModalVisible:e.handleEditModalVisible})})))))}}]),n}(s.a.Component);t.a=M(N)},391:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a=n(97),i=n(98),r=n(141),o=n(140),c=n(0),l=n.n(c),s=n(30),u=n(24),d=n.n(u),h=n(74),p=n(34),g=n(131),m=n(440),f=n.n(m),v=n(99),b=n.n(v),y=n(86),O=n.n(y),S=n(367);function x(){}function E(e,t,n){return Math.floor(Math.min(t,Math.max(e,n)))}function j(e){return function(t,n){var a=t.y,i=t.h,r=t.x,o=t.w,c=Math.min(i/2,e);if(n.y>=a&&n.y<=a+i&&n.x>=r&&n.x<=r+o){if(n.y<a+c)return(n.y-a-c)/c;if(n.y>a+i-c)return-(a+i-n.y-c)/c}return 0}}var w,C=(w=150,function(e,t){var n=e.x,a=e.w,i=e.y,r=e.h,o=Math.min(a/2,w);if(t.x>=n&&t.x<=n+a&&t.y>=i&&t.y<=i+r){if(t.x<n+o)return(t.x-n-o)/o;if(t.x>n+a-o)return-(n+a-t.x-o)/o}return 0}),M=j(150);var N=function(e){var t=function(t){Object(r.a)(c,t);var n=Object(o.a)(c);function c(e,t){var i;return Object(a.a)(this,c),(i=n.call(this,e,t)).handleEvent=function(e){i.dragging&&!i.attached&&(i.attach(),i.updateScrolling(e))},i.updateScrolling=f()((function(e){var t=i.container.getBoundingClientRect(),n={x:t.left,y:t.top,w:t.width,h:t.height},a=function(e){return"touchmove"===e.type?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY}}(e);i.scaleX=i.props.horizontalStrength(n,a),i.scaleY=i.props.verticalStrength(n,a),i.frame||!i.scaleX&&!i.scaleY||i.startScrolling()}),100,{trailing:!1}),i.scaleX=0,i.scaleY=0,i.frame=null,i.attached=!1,i.dragging=!1,i}return Object(i.a)(c,[{key:"componentDidMount",value:function(){this.props.useScroll&&this._initial()}},{key:"_initial",value:function(){var e=this;this.container=Object(p.findDOMNode)(this.wrappedInstance),this.container.addEventListener("dragover",this.handleEvent),window.document.body.addEventListener("touchmove",this.handleEvent),this.clearMonitorSubscription=this.context.dragDropManager.getMonitor().subscribeToStateChange((function(){return e.handleMonitorChange()}))}},{key:"componentWillUnmount",value:function(){this.props.useScroll&&this._remove()}},{key:"_remove",value:function(){this.container.removeEventListener("dragover",this.handleEvent),window.document.body.removeEventListener("touchmove",this.handleEvent),this.clearMonitorSubscription(),this.stopScrolling()}},{key:"handleMonitorChange",value:function(){var e=this.context.dragDropManager.getMonitor().isDragging();!this.dragging&&e?this.dragging=!0:this.dragging&&!e&&(this.dragging=!1,this.stopScrolling())}},{key:"attach",value:function(){this.attached=!0,window.document.body.addEventListener("dragover",this.updateScrolling),window.document.body.addEventListener("touchmove",this.updateScrolling)}},{key:"detach",value:function(){this.attached=!1,window.document.body.removeEventListener("dragover",this.updateScrolling),window.document.body.removeEventListener("touchmove",this.updateScrolling)}},{key:"startScrolling",value:function(){var e=this,t=0;!function n(){var a=e.scaleX,i=e.scaleY,r=e.container,o=e.props,c=o.strengthMultiplier,l=o.onScrollChange;if(0!==c&&a+i!==0){if(t++%2){var s=r.scrollLeft,u=r.scrollTop,d=r.scrollWidth,h=r.scrollHeight,p=r.clientWidth,g=r.clientHeight;l(a?r.scrollLeft=E(0,d-p,s+a*c):s,i?r.scrollTop=E(0,h-g,u+i*c):u)}e.frame=b()(n)}else e.stopScrolling()}()}},{key:"stopScrolling",value:function(){this.detach(),this.scaleX=0,this.scaleY=0,this.frame&&(b.a.cancel(this.frame),this.frame=null)}},{key:"render",value:function(){var t=this,n=this.props,a=(n.strengthMultiplier,n.verticalStrength,n.horizontalStrength,n.onScrollChange,Object(h.a)(n,["strengthMultiplier","verticalStrength","horizontalStrength","onScrollChange"]));return l.a.createElement(e,Object.assign({ref:function(e){t.wrappedInstance=e}},a))}}]),c}(l.a.Component);return t.displayName="Scrolling(".concat(Object(S.b)(e),")"),t.defaultProps={useScroll:!0,onScrollChange:x,verticalStrength:M,horizontalStrength:C,strengthMultiplier:30},t.contextType=g.a,O()(t,e)}(s.c.div.withConfig({displayName:"snippet-scrollable-container__DndScrollableElement",componentId:"sc-15szisj-0"})(["height:100vh;padding-top:0;overflow-y:scroll;&.is--preview{height:auto;}"])),k=j(150),I=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.useScroll;return l.a.createElement(N,{useScroll:n,verticalStrength:k,strengthMultiplier:100,className:d()("report-template-builder",t)},this.props.children)}}]),n}(l.a.Component);I.defaultProps={useScroll:!0}},441:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(0),i=n.n(a),r=n(16),o=n(180),c=n(179),l=n(111),s=n(112),u=n(17),d=n(380),h=n(375),p=n(142),g=n(123).compose;function m(e){var t=e.onCancel,n=e.snippetList;return i.a.createElement(d.a,{visible:!0,style:{top:30},maskClosable:!1,className:"ant-modal-header--border-none",keyboard:!1,width:"85%",onCancel:t,footer:!1},g(Object(r.a)((function(e){return i.a.createElement("div",{key:e},g(Object(o.a)(c.a,0),l.a,Object(s.a)([],[e]))(n)&&i.a.createElement("h2",{className:"mb-0"},e),g(Object(p.c)((function(e,t){return i.a.createElement(h.a,{key:e.id,draggable:!1},i.a.createElement(e.Component,{id:e.id,className:e.id,item:e,index:t}))})),Object(s.a)([],[e]))(n))})),u.a)(n))}},442:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(74),i=n(0),r=n.n(i),o=n(185),c=n(387);function l(e){var t=e.columns,n=e.className,i=e.pageNum,l=void 0===i?1:i,s=e.dataSource,u=e.onChange,d=e.loading,h=void 0!==d&&d,p=e.rowSelection,g=e.pagination,m=Object(a.a)(e,["columns","className","pageNum","dataSource","onChange","loading","rowSelection","pagination"]),f=r.a.useMemo((function(){return Object(o.a)(g,{current:l,pageSize:10,total:s.total,showSizeChanger:!1})}),[s.total,g,l]);return r.a.createElement(c.a,Object.assign({rowKey:"id",dataSource:s.content,columns:t,pagination:f,onChange:function(e){var t=e.current,n=e.pageSize;u&&u({current:t,pageSize:n})},rowSelection:p,loading:h,className:n},m))}}}]);
//# sourceMappingURL=9.de157e46.chunk.js.map