(this["webpackJsonpvghks-pathol-app"]=this["webpackJsonpvghks-pathol-app"]||[]).push([[3],{1089:function(e,t,n){},1095:function(e,t,n){"use strict";n.r(t);n(632);var a=n(21),r=n.n(a),i=n(119),o=n.n(i),c=n(598),l=n.n(c),s=n(599),d=n.n(s),u=n(600),m=n.n(u),p=n(601),b=n.n(p),f=n(602),h=n.n(f),g=n(603),v=n.n(g),O=n(604),j=n.n(O),y=n(605),E=n.n(y),x=n(606),k=n.n(x),w=n(607),N=n.n(w),C=(n(634),n(635),n(636),n(254));o.a.extend(k.a),o.a.extend(N.a),o.a.extend(j.a),o.a.extend(l.a),o.a.extend(E.a),o.a.extend(d.a),o.a.extend(b.a),o.a.extend(v.a),o.a.extend(h.a),o.a.extend(m.a),o.a.locale("zh-tw");var S=n(0),I=n.n(S),_=n(51),T=n.n(_),D=n(72),A=n(1107),R=n(410),L=n(60),M=n(624),P=n.n(M),z=n(12),V=n(272),F=n(79),U=n(90),H=n(67);function B(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(!n.length)return e;var r=n[0],i=n.slice(1);return S.isValidElement(r)?S.createElement(r.type,r.props,B.apply(void 0,[e].concat(Object(H.a)(i)))):S.createElement(r,null,B.apply(void 0,[e].concat(Object(H.a)(i))))}var q=n(18),Y=n(37),W=(n(275),n(166)),G=n.n(W),J=n(3),K=n(610),Q=n(107),X=n.n(Q),$=n(9),Z=n(36),ee=n(49),te=n(45),ne=n(46),ae=n(61),re=z.d.div.withConfig({displayName:"error-boundary__ErrorFallbackWrapper",componentId:"jncpdx-0"})(["width:100%;height:100vh;margin:0 auto;padding:50px;"]);function ie(e){var t=e.error,n=e.componentStack,a=e.resetErrorBoundary;return I.a.createElement(re,{role:"alert"},I.a.createElement("p",{className:"text-xl"},"Something went wrong:"),I.a.createElement("pre",{className:"text-sm"},null===t||void 0===t?void 0:t.message),I.a.createElement("pre",{className:"text-sm"},n),I.a.createElement(ae.a,{onClick:a},"Try again"))}var oe={error:null,info:null},ce=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state=oe,e.resetErrorBoundary=function(){for(var t,n,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];null===(t=(n=e.props).onReset)||void 0===t||t.call.apply(t,[n].concat(r)),e.setState(oe)},e}return Object(ee.a)(n,[{key:"componentDidCatch",value:function(e,t){var n,a;null===(n=(a=this.props).onError)||void 0===n||n.call(a,e,null===t||void 0===t?void 0:t.componentStack),this.setState({error:e,info:t})}},{key:"componentDidUpdate",value:function(e){var t,n,a=this.state.error,r=this.props.resetKeys;null!==a&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((function(e,n){return!Object.is(e,t[n])}))}(e.resetKeys,r)&&(null===(t=(n=this.props).onResetKeysChange)||void 0===t||t.call(n,e.resetKeys,r),this.setState(oe))}},{key:"render",value:function(){var e=this.state,t=e.error,n=e.info,a=this.props,r=a.fallbackRender,i=a.FallbackComponent,o=void 0===i?ie:i,c=a.fallback;if(null!==t){var l={componentStack:null===n||void 0===n?void 0:n.componentStack,error:t,resetErrorBoundary:this.resetErrorBoundary};if(I.a.isValidElement(c))return c;if("function"===typeof r)return r(l);if(o)return I.a.createElement(o,l);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children}}]),n}(I.a.Component);var le=n(237),se=n(48);function de(e){var t=e.type,n=void 0===t?404:t;return I.a.createElement(ue,null,I.a.createElement("div",{className:"exception"},I.a.createElement("div",{className:"exception__imgBlock"},I.a.createElement("div",{className:"exception__imgEle",style:{backgroundImage:'url("'.concat(se.b.publicUrl,"/images/").concat(n,'.svg")')}})),I.a.createElement("div",{className:"exception__content"},I.a.createElement("h1",null,"404"),I.a.createElement("div",{className:"exception__desc"},"\u62b1\u6b49\uff0c\u4f60\u8a2a\u554f\u7684\u9801\u9762\u4e0d\u5b58\u5728"),I.a.createElement("div",{className:"exception__actions"},I.a.createElement(le.a,{to:"/"},I.a.createElement(ae.a,{color:"primary"},"\u56de\u9996\u9801"))))))}var ue=z.d.div.withConfig({displayName:"exception__ExceptionWrapper",componentId:"sc-193m872-0"})(["height:100%;margin-right:-24px;background:#f9f9fb;border-radius:4px;.exception{display:flex;align-items:center;height:100%;}.exception .exception__imgBlock{flex:0 0 62.5%;width:62.5%;padding-right:152px;zoom:1;}.exception .exception__imgEle{float:right;width:100%;max-width:430px;height:360px;background-repeat:no-repeat;background-position:50% 50%;background-size:contain;}.exception .exception__content{flex:auto;}.exception .exception__content h1{margin-bottom:24px;color:#434e59;font-weight:600;font-size:72px;line-height:72px;}.exception .exception__content .exception__desc{margin-bottom:24px;color:rgba(0,0,0,0.45);font-size:20px;line-height:28px;}"]),me=(n(201),n(64)),pe=n.n(me),be=(n(202),n(41)),fe=n.n(be),he=n(11),ge=n(1108),ve=z.d.div.withConfig({displayName:"loading__Wrapper",componentId:"ok4i9z-0"})([".ant-spin{&--inner{margin:0 auto;}}"]);var Oe=I.a.memo((function(e){var t=e.className,n=e.style;Object(he.a)(e,["className","style"]);return I.a.createElement(ve,{className:"bg-greyF9"},I.a.createElement(pe.a,{justify:"center",className:t},I.a.createElement(fe.a,{className:"ant-spin--inner"},I.a.createElement(ge.a,{spin:!0,style:n}))))})),je=(n(359),n(114)),ye=n.n(je),Ee=(n(706),n(623)),xe=n.n(Ee),ke=(n(479),n(99)),we=n.n(ke),Ne=n(4),Ce=n.n(Ne),Se=n(1127),Ie=n(1128),_e=n(1129),Te=n(1130),De=n(1131),Ae=n(1132),Re=(n(710),n(613)),Le=n.n(Re),Me=Object(z.d)(Le.a).withConfig({displayName:"breadcrumb__StyledBreadcrumb",componentId:"fee8hx-0"})(["&.ant-breadcrumb{font-size:16px;.ant-breadcrumb-link{cursor:pointer;}.ant-breadcrumb-link,a{color:#fff;}.anticon{font-size:16px;}.ant-breadcrumb-link:hover,a:hover{text-decoration:underline;}.ant-breadcrumb-separator{margin:0 16px;color:#fff;}> span:last-child{color:#fff;text-decoration:underline;}}"]),Pe=n(1109),ze=n(139),Ve=Object(z.d)(ze.a).withConfig({displayName:"logout-confirm-modal__StyledModal",componentId:"sc-1h9xc5b-0"})([".ant-modal-footer{border-top:none;}"]);function Fe(e){var t=e.onOk,n=e.onCancel,a=Object(he.a)(e,["onOk","onCancel"]);return I.a.createElement(Ve,Object.assign({},a,{visible:!0,centered:!0,closable:!1,bodyStyle:{paddingTop:48},width:350,footer:[I.a.createElement("div",{key:"logout-modal-footer",className:"flex items-center justify-center mb-4"},I.a.createElement(ae.a,{key:"btn-ok",color:"primary",style:{minWidth:120,marginRight:16},onClick:t},"\u78ba\u5b9a"),I.a.createElement(ae.a,{key:"btn-cancel",color:"outline",style:{minWidth:120},onClick:n},"\u53d6\u6d88"))]}),I.a.createElement("div",{className:"text-center"},I.a.createElement(Pe.a,{className:"mb-6",style:{fontSize:48,color:"#e53e3e"}}),I.a.createElement("div",{className:"text-lg font-medium text-darkGrey mb-4"},"\u8acb\u554f\u662f\u5426\u78ba\u5b9a\u8981\u767b\u51fa\uff1f")))}var Ue=n(170),He=n(183),Be=n(439),qe=n(40),Ye=n(22);function We(){var e=Object(Ue.b)(),t=Object($.a)(e,1)[0],n=Object(Ue.d)(),a=Object(C.a)(),r=Object(Y.b)(),i=r.logout,o=r.user,c=Object(Be.a)(),l=I.a.useState(U.a.location.pathname),s=Object($.a)(l,2),d=s[0],u=s[1],m=Object(He.a)(),p=Object($.a)(m,2),b=p[0],f=p[1],h=Object(He.a)(),g=Object($.a)(h,2),v=g[0],O=g[1],j=function(){o.isAdmin&&a((function(e){return Object(J.a)(Object(J.a)({},e),{},{viewDivision:!1})})),U.a.push("/")},y=function(e){return function(){e&&(u(e),U.a.push(e))}},E=function(e){return Ce()({"is--currentt":"/"!==d&&e.includes(d)})},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mode,n=void 0===t?"horizontal":t,a=c?we.a.Item:Je,r=c?we.a.SubMenu:Ke;return k?I.a.createElement(we.a,{mode:n,className:"bg-transparent ml-3",style:{borderBottom:"none",lineHeight:"46px",borderRight:"none"}},o.division===Ye.a.PATH&&I.a.createElement(a,{key:qe.b,onClick:y(qe.b),className:E(qe.b)},I.a.createElement("div",{className:"flex items-center text-base"},I.a.createElement(Se.a,null),"\u5831\u544a\u6392\u73ed")),o.division===Ye.a.RAD&&I.a.createElement(a,{key:qe.k,onClick:y(qe.k),className:E(qe.k)},I.a.createElement("div",{className:"flex items-center text-base"},I.a.createElement(Se.a,null),"\u5831\u544a\u67e5\u8a62")),o.division===Ye.a.PATH&&I.a.createElement(r,{key:qe.k,className:E(qe.k),popupOffset:[-14,0],popupClassName:"rounded",title:I.a.createElement("div",{className:"flex items-center text-base"},I.a.createElement(Se.a,null),"\u5831\u544a\u67e5\u8a62",!c&&I.a.createElement(Ie.a,{className:"ml-2 mr-0"}))},I.a.createElement(we.a.Item,{key:qe.k,onClick:y(qe.k),className:E(qe.k)},I.a.createElement("div",{className:"flex items-center text-sm"},I.a.createElement(Se.a,null),"\u5831\u544a\u67e5\u8a62")),I.a.createElement(we.a.Item,{key:qe.o,onClick:y(qe.o),className:E(qe.o)},I.a.createElement("div",{className:"flex items-center text-sm"},I.a.createElement(Se.a,null),"\u7248\u672c\u6bd4\u8f03")),I.a.createElement(we.a.Item,{key:qe.p,onClick:y(qe.p),className:E(qe.p)},I.a.createElement("div",{className:"flex items-center text-sm"},I.a.createElement(Se.a,null),"\u9ec3\u5361\u65b0\u6aa2\u7d22")),I.a.createElement(we.a.Item,{key:qe.a,onClick:y(qe.a),className:E(qe.a),style:{display:"none"}},I.a.createElement("div",{className:"flex items-center text-sm"},I.a.createElement(Se.a,null),"\u8840\u5eab\u5099\u8840\u5be9\u67e5\u4f5c\u696d"))),I.a.createElement(a,{key:qe.j,onClick:y(qe.j),className:E(qe.j)},I.a.createElement("div",{className:"flex items-center text-base"},I.a.createElement(Se.a,null),"\u8f38\u5165\u5831\u544a")),I.a.createElement(r,{key:qe.n,className:E(qe.n),popupOffset:[-14,0],popupClassName:"rounded",title:I.a.createElement("div",{className:"flex items-center text-base"},I.a.createElement(Se.a,null),"\u5831\u544a\u6a21\u7248",!c&&I.a.createElement(Ie.a,{className:"ml-2 mr-0"}))},I.a.createElement(we.a.Item,{key:qe.n,onClick:y(qe.n),className:E(qe.n)},I.a.createElement("div",{className:"flex items-center text-sm"},I.a.createElement(Se.a,null),"\u7d50\u69cb\u5f0f\u5831\u544a\u6a21\u7248")),I.a.createElement(we.a.Item,{key:qe.g,onClick:y(qe.g),className:E(qe.g)},I.a.createElement("div",{className:"flex items-center text-sm"},I.a.createElement(Se.a,null),"\u7247\u8a9e\u6a21\u7248"))),I.a.createElement(a,{key:qe.c,onClick:y(qe.c),className:E("outside")},I.a.createElement("div",{className:"flex items-center text-base"},I.a.createElement(Se.a,null),"\u91ab\u5b78\u5f71\u50cf\u6559\u5b78\u5e73\u53f0"))):I.a.createElement(we.a,{mode:n,className:"bg-transparent ml-3",style:{borderBottom:"none",lineHeight:"46px"}},I.a.createElement(a,{key:qe.k,onClick:y(qe.k),className:E(qe.k)},I.a.createElement("div",{className:"flex items-center text-base"},I.a.createElement(Se.a,null),"\u5831\u544a\u67e5\u8a62")))},k=!o.isClinician;return I.a.createElement(I.a.Fragment,null,v&&I.a.createElement(Fe,{onOk:function(){i({onCompleted:function(){window.location.href=se.b.oauthUrl}})},onCancel:O}),b&&I.a.createElement(xe.a,{visible:!0,placement:"left",bodyStyle:{paddingLeft:0},closable:!1,onClose:f},x({mode:"vertical"})),I.a.createElement(Ge,null,I.a.createElement("div",{className:"flex items-center justify-between"},c&&I.a.createElement(I.a.Fragment,null,I.a.createElement(_e.a,{className:"text-white text-2xl",onClick:f}),I.a.createElement(Qe,{onClick:j},I.a.createElement("img",{src:"".concat(se.b.publicUrl,"/images/logo-sm@2x.png"),alt:"app-logo",className:"cursor-pointer"})),I.a.createElement("div",{className:"flex items-center text-white"},I.a.createElement("div",null,"Hi, ",o.name),I.a.createElement(Te.a,{className:"text-white text-base ml-2",onClick:O,style:{marginRight:0}}))),!c&&I.a.createElement(I.a.Fragment,null,I.a.createElement("div",{className:"flex items-center"},I.a.createElement(Qe,{onClick:j},I.a.createElement("img",{src:"".concat(se.b.publicUrl,"/images/logo-sm@2x.png"),alt:"app-logo",className:"cursor-pointer"})),x()),I.a.createElement("div",{className:"flex items-center"},!se.b.useOAuth&&I.a.createElement(I.a.Fragment,null,I.a.createElement(ye.a,{bordered:!1,placeholder:"\u7ba1\u7406\u8005",className:"text-white",style:{width:96,marginRight:-30},suffixIcon:!1,defaultValue:o.isAdmin?1:0,onChange:function(e){a((function(t){return Object(J.a)(Object(J.a)({},t),{},{isAdmin:!!e,viewDivision:!1})})),U.a.push("/")}},I.a.createElement(ye.a.Option,{value:1},"\u7ba1\u7406\u8005"),I.a.createElement(ye.a.Option,{value:0},"\u4f7f\u7528\u8005")),I.a.createElement(ye.a,{bordered:!1,placeholder:"\u5207\u63db\u8eab\u5206",className:"text-white",style:{width:100,marginRight:-20},suffixIcon:!1,defaultValue:o.division,onChange:function(e){var t=e===Ye.a.CLINICIAN;a((function(n){return Object(J.a)(Object(J.a)({},n),{},{isClinician:t,division:t?null===n||void 0===n?void 0:n.division:e})})),t&&U.a.push("/")}},I.a.createElement(ye.a.Option,{value:Ye.a.RAD},"\u653e\u5c04\u79d1"),I.a.createElement(ye.a.Option,{value:Ye.a.PATH},"\u75c5\u7406\u79d1"),I.a.createElement(ye.a.Option,{value:Ye.a.CLINICIAN},"\u81e8\u5e8a"))),I.a.createElement("div",{className:"flex items-center text-white"},I.a.createElement("div",{className:"mr-2"},"Hi, ",o.name),I.a.createElement(De.a,{className:"text-white text-xl",style:{marginRight:0},onClick:O}))))),I.a.createElement("div",{className:"mt-3 ml-4 pb-0 flex justify-between"},I.a.createElement(Me,{separator:">",style:{minHeight:32,display:"flex",alignItems:"center"}},I.a.createElement(Me.Item,{onClick:y("/")},I.a.createElement(Ae.a,{className:"relative",style:{top:-4}})),t.map((function(e,t){return I.a.createElement(Me.Item,{key:"breadcrumb-".concat(t),onClick:y(e.href)},e.name)}))),n)))}var Ge=Object(z.d)(G.a.Header).withConfig({displayName:"app-header__Header",componentId:"xpms01-0"})(["&.ant-layout-header{height:auto;padding:16px 1.7rem 10px 2.1rem;background:",";color:",";box-shadow:0 0 20px ",";}.anticon{cursor:pointer;}"],(function(e){return"linear-gradient(-90deg, #42c2b8, ".concat(e.theme.primary,")")}),(function(e){return e.theme.primary}),(function(e){return e.theme.purple150})),Je=Object(z.d)(we.a.Item).withConfig({displayName:"app-header__MenuItem",componentId:"xpms01-1"})(["&.ant-menu-item{margin:0 2px !important;padding:0 10px !important;border-radius:6px;border-bottom:none !important;color:#fff;&.is--current,&:hover{color:#fff !important;background:rgba(24,144,138,1) !important;}}&.ant-menu-item-selected{color:#fff !important;}"]),Ke=Object(z.d)(we.a.SubMenu).withConfig({displayName:"app-header__SubMenu",componentId:"xpms01-2"})(["&.ant-menu-submenu{margin:0 5px !important;padding:0 15px !important;border-radius:6px;border-bottom:none !important;.ant-menu-submenu-title{color:#fff;}&.is--current,&:hover{background:rgba(24,144,138,1) !important;}}"]),Qe=z.d.div.withConfig({displayName:"app-header__Logo",componentId:"xpms01-3"})([""]),Xe=I.a.lazy((function(){return n.e(2).then(n.bind(null,1203))}));I.a.lazy((function(){return n.e(2).then(n.bind(null,1203))}));function $e(){var e=Object(K.a)(["\n  body {\n    font-family: Roboto, '\u5fae\u8edf\u6b63\u9ed1\u9ad4', 'Microsoft JhengHei', sans-serif,\n      -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue',\n      Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',\n      'Segoe UI Symbol', 'Noto Color Emoji';\n    font-size: 1rem;\n    background: #f9f9fb;\n    color: #777;\n    line-height: 1.5;\n    padding: 0;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    font-weight: 600;\n    font-family: Roboto, '\u5fae\u8edf\u6b63\u9ed1\u9ad4', 'Microsoft JhengHei', sans-serif,\n      -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue',\n      Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',\n      'Segoe UI Symbol', 'Noto Color Emoji';\n    margin-bottom: 0.75rem;\n  }\n\n  .ant-btn.c-btn {\n    border-radius: 4px;\n    font-weight: 500;\n  }\n\n  .c-btn.is--danger {\n    color: #d74c4c;\n    border: 1.3px solid #d74c4c;\n    background: #fff;\n  }\n\n  .c-btn.is--danger:focus,\n  .c-btn.is--danger:active,\n  .c-btn.is--danger:hover {\n    color: #fff;\n    background: #d74c4c;\n    border: 1.3px solid #d74c4c;\n  }\n\n  .c-btn.is--primary {\n    color: #fff;\n    border-color: #2d3159;\n    background: #2d3159;\n  }\n\n  .c-btn.is--primary:hover,\n  .c-btn.is--primary:focus,\n  .c-btn.is--primary:active {\n    color: #fff;\n    background: #2d3159;\n    border-color: #2d3159;\n  }\n\n  .c-btn.is--outline {\n    color: #2d3159;\n    border-color: #2d3159;\n    background: transparent;\n  }\n\n  .c-btn.is--outline:hover,\n  .c-btn.is--outline:focus,\n  .c-btn.is--outline:active {\n    color: #fff;\n    background: #2d3159;\n    border-color: transparent;\n  }\n\n  .ant-modal,\n  .ant-modal-confirm {\n    animation-duration: 0s !important;\n    transition: none !important;\n  }\n\n  .ant-picker-header-view button:hover,\n  .anticon.c-icon:hover,\n  .ant-picker-today-btn {\n    color: #38a8a9 !important;\n  }\n\n  .ant-picker-cell-in-view.ant-picker-cell-today .ant-picker-cell-inner::before {\n    border-color: #38a8a9 !important;\n  }\n\n  .ant-picker-ok .ant-btn-primary,\n  .ant-picker-cell-in-view.ant-picker-cell-selected .ant-picker-cell-inner,\n  .ant-picker-cell-in-view.ant-picker-cell-range-start .ant-picker-cell-inner,\n  .ant-picker-cell-in-view.ant-picker-cell-range-end .ant-picker-cell-inner {\n    border-color: #38a8a9 !important;\n    background: #38a8a9 !important;\n  }\n\n  .ant-picker-ok .ant-btn-primary {\n    color: #fff !important;\n  }\n\n  .ant-menu.ant-menu-submenu-popup .ant-menu-item:hover {\n    color: #38a8a9 !important;\n  }\n\n  .ant-menu.ant-menu-submenu-popup\n    .ant-menu:not(.ant-menu-horizontal)\n    .ant-menu-item-selected {\n    background: rgba(5, 124, 147, 0.6) !important;\n    color: #fff !important;\n  }\n\n  .DraggableItem.draggable div {\n    cursor: grab !important;\n  }\n\n  .DraggableItem.draggable.dragging div {\n    cursor: grabbing !important;\n  }\n\n  .DraggableArea {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n  }\n\n  .DraggableArea .Overlay {\n    position: fixed;\n    z-index: 999;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    overflow: auto;\n    background: rgba(0, 0, 0, 0.1);\n  }\n\n  .is--hide {\n    transition: opacity 0.5s ease-out;\n    opacity: 0;\n    height: 0;\n    overflow: hidden;\n  }\n\n  .is--visible {\n    transition: opacity 0.5s ease-out;\n    opacity: 1;\n    height: auto;\n  }\n\n  .d2h-file-header {\n    display: none;\n  }\n\n  .d2h-file-name-wrapper {\n    background: #fff;\n  }\n\n  .d2h-file-wrapper {\n    border: none;\n    border-radius: 0;\n    border-bottom-right-radius: 0.5rem;\n    border-bottom-left-radius: 0.5rem;\n  }\n\n  select[class='template-cloze__select'] {\n    color: #9e9e9e !important;\n  }\n\n  select[class='template-cloze__select'] option:not(:first-of-type) {\n    color: black !important;\n  }\n\n  .mce-ico.mce-i-far,\n  .mce-ico.mce-i-fas {\n    display: inline-block;\n    font-family: 'Font Awesome 5 Free';\n    font-weight: 900;\n    text-rendering: auto;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n"]);return $e=function(){return e},e}var Ze=Object(z.b)($e()),et=Object(z.d)("div").withConfig({displayName:"app___StyledDiv",componentId:"sc-11tw4x4-0"})({top:3});var tt=function(){var e=Object(Y.b)(),t=e.isAuthenticated,n=e.setUser,a=e.setIsAuthenticated,r=Object(qe.q)(),i=I.a.useCallback((function(e){var t="".concat(e.path).concat(e.param?"/".concat(e.param):"");return I.a.createElement(D.a,{exact:!0,key:e.id,path:t,component:e.component?e.component:function(){return I.a.createElement("h1",null," ",e.title," ")}})}),[]),o=I.a.useCallback((function(e){return e.map((function(e){return[i(e),e.children&&o(e.children),e.hide&&o(e.hide)]}))}),[i]),c=Object(q.g)(U.a.location.search);return I.a.useEffect((function(){if(c.userid){var e=Object(J.a)(Object(J.a)({},c),{},{id:c.userid,name:c.user,isClinician:"guest"===c.division,isAdmin:"MANAGER"===c.division,viewDivision:!1,expiredAt:new Date});a(!0),n(e),X.a.set("vghks_user",e),U.a.push("/")}}),[JSON.stringify(c)]),I.a.createElement(ce,null,I.a.createElement(Ze,null),!t&&I.a.createElement("div",{className:"flex items-center justify-center"},I.a.createElement(Oe,{className:"mr-2"}),I.a.createElement(et,{className:"relative"},"\u767b\u5165\u4e2d...")),t&&I.a.createElement(G.a,null,I.a.createElement(We,null),I.a.createElement(I.a.Suspense,{fallback:I.a.createElement(Oe,null)},I.a.createElement(D.c,null,I.a.createElement(D.a,{exact:!0,path:"/",component:Xe}),o(r),I.a.createElement(D.a,{component:de})))))},nt=n(178);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(1089);Object(q.i)();var at=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=e.children;return B.apply(void 0,[n].concat(t))}}(I.a.createElement(z.a,{theme:nt.a}),I.a.createElement(r.a,{locale:P.a}),I.a.createElement(Y.a,null),I.a.createElement(L.a,{initializeState:function(e){(0,e.set)({key:"userState"},Object(Y.c)().user)}}),I.a.createElement(V.a,{value:{suspense:!0,fetcher:F.a,revalidateOnFocus:!1}}),I.a.createElement(A.a,{backend:R.a}),I.a.createElement(D.b,{history:U.a}));T.a.render(I.a.createElement(at,null,I.a.createElement(tt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},111:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(3),r=n(9),i=n(11),o=n(0),c=n.n(o),l=n(78),s=n(135),d=n(56),u=n(94),m=n(156),p=n(272),b=n(79);function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.variables,o=t.onCompleted,f=t.onError,h=t.lazy,g=void 0!==h&&h,v=t.fetchOptions,O=Object(i.a)(t,["variables","onCompleted","onError","lazy","fetchOptions"]),j=arguments.length>2?arguments[2]:void 0,y=c.a.useState(n),E=Object(r.a)(y,2),x=E[0],k=E[1],w=c.a.useState(!g),N=Object(r.a)(w,2),C=N[0],S=N[1],I=c.a.useRef(),_=Object(l.a)(s.a,Object(d.a)((function(e){return Object(b.c)(e,Object(a.a)({throwable:!0},v))})),u.a)(j),T=e;if(Object(m.a)(String,e)){var D=Object(b.b)(e,x),A=D.fullUrl,R=D.params;T="".concat(A,"?").concat(Object(b.d)(R))}C||(T=null);var L=Object(p.b)(T,_,Object(a.a)(Object(a.a)({},O),{},{dedupingInterval:0,revalidateOnFocus:!1,shouldRetryOnError:!1,suspense:!1,onSuccess:function(e){o&&o(e)},onError:function(e){f&&f(e)}})),M=L.data,P=Object(i.a)(L,["data"]),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return k((function(t){return Object(a.a)(Object(a.a)({},t),e)})),S(!0),Promise.resolve({})};return void 0!==M&&(I.current=M),Object(a.a)(Object(a.a)({},P),{},{loading:P.isValidating,data:I.current,refetch:z,called:C})}},137:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));n(559);var a=n(257),r=n.n(a),i=n(0),o=n.n(i),c=n(12),l=r.a.Group,s=Object(c.d)(r.a).withConfig({displayName:"checkbox__StyledCheckbox",componentId:"sc-1xoz86q-0"})([".ant-checkbox-checked .ant-checkbox-inner{background-color:",";border-color:",";}&.ant-checkbox-wrapper:hover .ant-checkbox-inner,.ant-checkbox:hover .ant-checkbox-inner,.ant-checkbox-input:focus + .ant-checkbox-inner{border-color:",";}.ant-checkbox-checked .ant-checkbox-inner:after{border:2px solid #fff;border-top:0;border-left:0;}.ant-checkbox-inner{border:1px solid ",";}&.is--normal{font-size:14px !important;font-weight:normal !important;}"],(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.theme.darkGrey})),d=o.a.forwardRef((function(e,t){var n=Object.assign({},e);return o.a.createElement(s,Object.assign({forwardRef:t},n))}));d.displayName="Checkbox",t.c=d},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(36),r=n(49),i=n(45),o=n(46),c=(n(485),n(169)),l=n.n(c),s=n(0),d=n.n(s),u=n(12),m=Object(u.d)(l.a).withConfig({displayName:"modal__StyledModal",componentId:"sc-19qe2pb-0"})(["animation-duration:0s !important;transition:none !important;.ant-modal-header--border-none{border-bottom:none;}.ant-modal-footer{padding-top:14px;padding-bottom:14px;}"]),p=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return d.a.createElement(m,this.props,this.props.children)}}]),n}(d.a.Component);p.confirm=l.a.confirm,p.error=l.a.error,p.success=l.a.success,p.info=l.a.info},144:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return m}));n(485);var a=n(169),r=n.n(a),i=n(11),o=n(3),c=n(12),l=n(0),s=n.n(l),d=Object(c.d)("div").withConfig({displayName:"message___StyledDiv",componentId:"to9tl-0"})({marginTop:16,marginBottom:30}),u=function(e,t){return Object(o.a)({content:s.a.createElement(d,{className:"text-darkGrey font-medium"},e),icon:null,width:440,okText:"\u522a\u9664",cancelText:"\u53d6\u6d88",centered:!0,autoFocusButton:null,okButtonProps:{className:"c-btn is--danger",style:{minWidth:80,marginRight:24}},cancelButtonProps:{className:"c-btn is--outline mr-0 float-right",style:{minWidth:80}}},t)},m=function(e){var t=e.onOk,n=e.onCancel,a=e.content,c=void 0===a?"\u522a\u9664\u5f8c\u5c07\u7121\u6cd5\u9084\u539f\uff0c\u78ba\u8a8d\u7e7c\u7e8c\uff1f":a,l=Object(i.a)(e,["onOk","onCancel","content"]);r.a.confirm(Object(o.a)(Object(o.a)(Object(o.a)({},u(c)),l),{},{onOk:function(){t&&t()},onCancel:function(){n&&n()}}))}},151:function(e,t,n){"use strict";n(1082);var a=n(621),r=n.n(a),i=n(12),o=Object(i.d)(r.a).withConfig({displayName:"collapse__StyledCollapse",componentId:"sc-1nw76vc-0"})(["&.ant-collapse{border-radius:",";border-bottom:none;> .ant-collapse-item > .ant-collapse-header{padding-left:0;background:",";color:#fff;}&.header-pl-clear > .ant-collapse-item > .ant-collapse-header{padding-left:16px;}> .ant-collapse-item:first-child > .ant-collapse-header{border-top-left-radius:",";border-top-right-radius:",";}> .ant-collapse-item:last-child{border-bottom:none;}> .ant-collapse-item:last-child > .ant-collapse-content{border-bottom-left-radius:",";border-bottom-right-radius:",";}> .ant-collapse-item.ant-collapse-item-active:last-child{border-bottom:1px solid #d9d9d9;}> .ant-collapse-item:not(.ant-collapse-item-active):last-child > .ant-collapse-header{border-bottom-left-radius:",";border-bottom-right-radius:",";}}"],"8px",(function(e){return e.theme.primary}),"8px","8px","8px","8px","8px","8px");t.a=o},158:function(e,t,n){"use strict";n.d(t,"h",(function(){return ne})),n.d(t,"c",(function(){return re})),n.d(t,"g",(function(){return oe})),n.d(t,"e",(function(){return se})),n.d(t,"d",(function(){return de})),n.d(t,"a",(function(){return me})),n.d(t,"f",(function(){return pe})),n.d(t,"b",(function(){return be}));var a=n(66),r=n.n(a),i=n(128),o=n(74),c=n(9),l=n(3),s=n(11),d=n(0),u=n.n(d),m=n(60),p=n(102),b=n.n(p),f=n(107),h=n.n(f),g=n(78),v=n(50),O=n(157),j=n(56),y=n(421),E=n(44),x=n(156),k=n(104),w=n(94),N=n(29),C=n(81),S=n(340),I=n(419),_=n(138),T=n(108),D=n(413),A=n(135),R=n(255),L=n(224),M=n(411),P=n(63),z=n(189),V=n(155),F=n(234),U=n(232),H=n(197),B=n(42),q=n(229),Y=n.n(q),W=n(59),G=n(37),J=n(111),K=n(200),Q=n(70),X=n(18),$=n(79),Z=n(22),ee=n(27).compose;Object(m.b)({key:"reportListState",default:Object(Q.c)(h.a.get("reportListState")||[])});function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(G.b)(),n=t.user,a=Object(g.a)(Object(v.a)(O.a,Z.a.PATH),Object(j.a)("/api/v1/b2/getPathologyResult"),Object(j.a)("/api/v1/b1/getRdReportList"))(n.division),r=Object(K.a)(a,{method:"POST",variables:e}),i=r.data,o=Object(s.a)(r,["data"]),c=n.division===Z.a.RAD;return Object(l.a)(Object(l.a)({},o),{},{data:ee(Object(y.a)((function(e){return c?e.ordate:e.hhisnum})),Object(E.a)([],[]))(i)})}function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(K.a)("/api/v1/b31/getRpphhistResult",{method:"POST",variables:e}),n=t.data,a=Object(s.a)(t,["data"]);return Object(l.a)(Object(l.a)({},a),{},{data:Object(E.a)([],[],n)})}function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(G.b)(),n=t.user,a=Object(g.a)(Object(v.a)(O.a,Z.a.PATH),Object(j.a)("/api/v1/b21/getPathReportInfoByORREQNO"),Object(j.a)("/api/v1/b1/getRdReport/{ORREQNO}"))(n.division),r=Object(K.a)(a,{method:n.division===Z.a.PATH?"POST":"GET",lazy:!1,variables:e}),i=r.data,o=Object(s.a)(r,["data"]);return Object(l.a)(Object(l.a)({},o),{},{data:ee(Object(E.a)({},[]),Object(g.a)(Object(x.a)(Array),k.a,w.a),Object(E.a)([],[]))(i)})}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=u.a.useState(t),a=Object(c.a)(n,2),r=a[0],i=a[1],o=Object(G.b)(),d=o.user,m="/api/v1/b21/getPathologyInfoByORREQNO",p=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Object($.c)(e,Object(l.a)(Object(l.a)({},n),{},{method:"POST",body:{ORREQNO:r}}))},b=Object(J.a)(r&&d.division===Z.a.PATH?m:null,{},p),f=b.data,h=b.refetch,g=Object(s.a)(b,["data","refetch"]),v=function(e){i(e),h({ORREQNO:e})};return Object(l.a)(Object(l.a)({},g),{},{refetch:v,loadingM:g.loading,data:ee((function(e){return Object(l.a)(Object(l.a)({},e),{},{orstatuscode:"\u5b8c\u6210"===(null===e||void 0===e?void 0:e.orstatus)?Z.c.FINISH:"\u53d6\u6d88"===(null===e||void 0===e?void 0:e.orstatus)?Z.c.CANCEL:"\u5df2\u8f38\u5165"===(null===e||void 0===e?void 0:e.orstatus)?Z.c.TYPED:Z.c.UNTYPE})}),k.a,Object(E.a)([],[]))(f)})}function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(G.b)(),n=t.user,a=Object(g.a)(Object(v.a)(O.a,Z.a.PATH),Object(j.a)("/api/v1/c21/createPathReport"),Object(j.a)("/api/v1/c11/creactRdReport"))(n.division),r=Object($.e)(a,Object(l.a)(Object(l.a)({},e),{},{lazy:!0,method:"POST"})),i=r.loading,o=r.mutate;return[i,o]}var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=te(e),n=t.data,a=Object(s.a)(t,["data"]),r={content:Object(g.a)(Object(x.a)(Array),Object(N.a)((function(e){return Object(l.a)(Object(l.a)({},e),{},{id:Object(X.n)()})})),Object(j.a)([]))(n),total:Object(C.a)(n),totalPages:Math.floor(Object(C.a)(n)/10)+1};return Object(l.a)(Object(l.a)({},a),{},{dataSource:r,data:r})},ce=new RegExp(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/),le=function(){var e=Object(W.c)();return ee((function(e){return Object(l.a)(Object(l.a)({},e),{},{status:ee(Object(E.a)(void 0,["id"]),Object(S.a)(Object(I.a)("name",e.orstatus)))(Z.d),data:ee(_.a,Object(T.a)(Boolean),Object(N.a)((function(e){return Object(o.a)({},e.id,ee(Object(D.a)([[A.a,Object(j.a)(void 0)],[Object(v.a)(O.a,"undefined"),Object(j.a)(void 0)],[function(t){return Object(R.a)(Object(L.a)("TemplateDate"===e.type,"TemplateTime"===e.type),Object(L.a)(ce.test(t),b()(t,"YYYY/MM/DD HH:mm:ss").isValid()))},function(e){return Object(j.a)(b()(new Date(e).toISOString()))}],[M.a,w.a]]),Object(P.a)(["value"]))(e))})),z.a,V.a,Object(E.a)({},["setting"]))(e)})}),e,(function(e){return{data:{template:Object(F.a)(Object(l.a)(Object(l.a)({},Object(U.a)(["topic","cloze"])(e)),{},{id:null===e||void 0===e?void 0:e.orreqno})),cloze:e.cloze,topic:e.topic}}}))};function se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=Object(s.a)(e,["id"]),a=ae(Object(l.a)(Object(l.a)({},n),{},{ORREQNO:t})),r=a.data,i=Object(s.a)(a,["data"]),o=le(),c=o(r);return Object(l.a)(Object(l.a)({},i),{},{loadingData:i.loading,data:c,item:c})}function de(){var e=Object(J.a)("/api/v1/b22/getCompareReportVersionByORREQNO/{orreqno}",{lazy:!0}),t=e.data,n=Object(s.a)(e,["data"]),a=le(),r=ee(Object(E.a)({},[]),k.a,Object(E.a)([],[])),i=ee(Object(E.a)({},[]),H.a,Object(E.a)([],[])),o=ee(a,r)(t),c=ee(a,i)(t);return Object(l.a)(Object(l.a)({},n),{},{data:t,previous:c,latest:o})}var ue=function(){var e=Object(G.b)().user,t=function(e){var t=Y.a.load(e),n=[];return t("input").each((function(e,a){return n.push(t(a).val())})),t("select").each((function(e,a){return n.push(t(a).val())})),n};return function(n){var a=n.setting,r=(n.data,Object(s.a)(n,["setting","data"]));return Object(l.a)(Object(l.a)({},r),{},{status:r.status||Z.c.TYPED,user:e.name,template:ee(z.a,Object(N.a)((function(e){return ee(Object(N.a)((function(n){return Object(l.a)(Object(l.a)(Object(l.a)(Object(l.a)({},n),n.setting),n.inline?{clozeId:n.id,html:encodeURIComponent(n.html),values:ee(Object(N.a)((function(e){return{value:e}})),t,Object(E.a)("",["html"]))(n)}:{topicId:n.id,toolTip:n.setting.tooltip,value:n.setting.value}),{},{tab:e,categoryName:n.inline?"cloze":"topic"})})),Object(E.a)([],[e]))(a)})),B.a)(a)})}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ie(e),n=Object(c.a)(t,2),a=n[0],r=n[1],i=ue(),o=function(e){return console.log(e),r(i(e))};return[a,o]},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(G.b)(),n=t.user,a=Object(K.a)(e.orreqno?"/api/v1/c/getJsonDownloadInfo":null,{variables:Object(l.a)(Object(l.a)({},e),{},{division:n.division}),method:"POST",lazy:!1}),r=a.data,i=Object(s.a)(a,["data"]),o=le(),c=ee(o,Object(E.a)({},[]),Object(g.a)(Object(x.a)(Array),k.a,w.a),Object(E.a)([],[]))(r);return Object(l.a)(Object(l.a)({},i),{},{loadingData:i.loading,data:c,item:c,json:c})},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object($.e)("/api/v1/c/getJsonDownloadInfo",Object(l.a)(Object(l.a)({},e),{},{method:"POST",lazy:!0})),n=t.loading,a=t.mutate,o=function(){var e=Object(i.a)(r.a.mark((function e(t){var n,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.filename,i=Object(s.a)(t,["filename"]),e.next=3,a(i);case 3:return o=e.sent,Object(X.a)({filename:"".concat(n,"_").concat(b()().format("YYYYMMDDHHmmss")),json:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return[n,o]}},163:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return h}));var a=n(12),r=n(0),i=n.n(r),o=n(325),c=n(44),l=n(18),s=n(337),d=n(27).compose,u=[{id:Object(l.n)(),text:"default option 1",selected:!0,freetext:!1},{id:Object(l.n)(),text:"default option 2",selected:!0,freetext:!1},{id:Object(l.n)(),text:"default option 3",selected:!0,freetext:!1}],m=function(e,t){return e.find((function(e){return!Object(l.e)(e.className)&&Object(o.a)(t)(e.className)}))};function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"report-template-builder__main-content",n=e,a=[];for(a.push(n);null===(r=n)||void 0===r?void 0:r.parentNode;){var r;a.unshift(n.parentNode),n=n.parentNode}return!m(a,"report-template-builder-contentarea--fixed-layout")&&!m(a,"snippet-drawer-menu")&&!(!m(a,t)&&!m(a,"ui-draggable"))}function b(e){var t=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ui-draggable";return t.classList.contains(n)?t:t.parentElement&&e(t.parentElement,n)}(document.elementFromPoint(e.x,e.y)),n=t&&t.dataset.index;return{overSnippet:t,placeholderIndex:t?Number(t.dataset.index):-1,isOverSnippet:!Object(l.e)(n)}}var f=Object(a.d)("div").withConfig({displayName:"snippet-utils___StyledDiv",componentId:"ibf4fs-0"})({padding:16});function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return d(Object(l.f)((function(t,n){return i.a.createElement(s.a,Object.assign({},e,{key:t.id,wrapperId:"".concat(t.id),item:t,draggable:!1,tabSize:t.tabSize}),t.inline?i.a.createElement(f,{id:"".concat(t.id),className:"".concat(t.id),dangerouslySetInnerHTML:{__html:t.html}}):i.a.createElement(t.Component,{id:t.id,className:t.id,item:t,index:n}))})),Object(c.a)([],[]))(t)}}},170:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u}));var a=n(0),r=n.n(a),i=n(60),o=Object(i.b)({key:"breadcrumbState",default:[]});function c(){return Object(i.d)(o)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(i.f)(o);return r.a.useEffect((function(){t(e)}),[]),t}var s=Object(i.b)({key:"headerContentState",default:null});function d(e){var t=Object(i.f)(s);r.a.useEffect((function(){return t(e),function(){t(null)}}),[e])}function u(){return Object(i.e)(s)}},178:function(e,t,n){"use strict";var a=n(555),r=n.n(a);n.d(t,"a",(function(){return r.a}))},18:function(e,t,n){"use strict";n.d(t,"g",(function(){return x})),n.d(t,"n",(function(){return k})),n.d(t,"f",(function(){return w})),n.d(t,"e",(function(){return N})),n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return S})),n.d(t,"m",(function(){return I})),n.d(t,"b",(function(){return _})),n.d(t,"i",(function(){return T})),n.d(t,"a",(function(){return D})),n.d(t,"h",(function(){return A})),n.d(t,"l",(function(){return L})),n.d(t,"k",(function(){return M})),n.d(t,"j",(function(){return P}));var a=n(66),r=n.n(a),i=n(128),o=n(9),c=n(102),l=n.n(c),s=n(107),d=n.n(s),u=n(48),m=n(27),p=m.forEach,b=m.addIndex,f=m.map,h=m.isEmpty,g=m.either,v=m.compose,O=m.not,j=m.isNil,y=m.path,E=m.is;function x(e){e||(e=window.location.search);var t=new URLSearchParams(e),n={};return t.forEach((function(e,t){return n[t]=e})),n}function k(){var e=Date.now();return"undefined"!==typeof performance&&"function"===typeof performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))}b(p);var w=b(f),N=g(h,j),C=function(e){return v(O,N,y(e))},S=function(e,t){var n=Object(o.a)(e,2),a=n[0],r=n[1];return[a?t?a.format(t):a.valueOf():void 0,r?t?r.format(t):r.valueOf():void 0]},I=function(e){return e&&("number"===typeof e||isNaN(e))?e.toLocaleString():e};function _(e){return e?e.replace(/[^\d.]/g,""):e}var T=function(){var e=d.a.get("vghks_user");u.b.isEnvDev||"/"!==window.location.pathname||""===u.b.appBaseName?!u.b.useOAuth||e||(window.location.href=u.b.oauthUrl):window.location.href=u.b.appUrl};function D(e){var t=e.json,n=e.filename,a="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t,null,2)),r=document.createElement("a");return r.setAttribute("href",a),r.setAttribute("download",n+".json"),document.body.appendChild(r),r.click(),r.remove(),t}function A(e){return R.apply(this,arguments)}function R(){return(R=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var a=new FileReader;a.addEventListener("load",(function(){return e(a.result)})),a.onerror=n,a.readAsText(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=function(e){var t,n;return e?l.a.isMoment(e)?e:((E(Number,e)||E(String,e)||E(Date,e))&&(n=l()(e)),(null===(t=n)||void 0===t?void 0:t.isValid())?n:e):e},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY.MM.DD HH:mm:ss",n=L(e);return l.a.isMoment(n)?n.format(t):""},P=function(e){return function(t,n){return"".concat(t[e]).localeCompare(n[e])}}},183:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(9),r=n(0),i=n.n(r);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onRequestOpen,n=i.a.useState(!1),r=Object(a.a)(n,2),o=r[0],c=r[1],l=function(e){c((function(e){return!e})),t&&t()},s=function(){c(!1)};return[o,l,s]}},200:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(74),r=n(3),i=n(9),o=n(11),c=n(0),l=n.n(c),s=n(138),d=n(29),u=n(108),m=n(42),p=n(111),b=n(79),f=n(27).compose;function h(e,t){var n=t.lazy,c=void 0===n||n,h=t.method,g=void 0===h?"POST":h,v=t.variables,O=(v=void 0===v?{}:v).onCompleted,j=v.onError,y=Object(o.a)(v,["onCompleted","onError"]),E=l.a.useState(y),x=Object(i.a)(E,2),k=x[0],w=x[1],N=Object(p.a)(e,{lazy:c,onCompleted:O,onError:j,variables:y},(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Object(b.c)(e,Object(r.a)(Object(r.a)(Object(r.a)({},n),{},{method:g},"POST"===g?{body:f(s.a,Object(d.a)((function(e){return Object(a.a)({},e,k[e])})),Object(u.a)((function(e){return null!==k[e]&&void 0!==k[e]&&""!==k[e]})),m.a)(k)}:{}),{},{throwable:!0}))})),C=N.data,S=N.refetch,I=Object(o.a)(N,["data","refetch"]);return Object(r.a)(Object(r.a)({},I),{},{refetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w(e),S(e)},data:C})}},204:function(e,t,n){"use strict";var a=n(36),r=n(49),i=n(45),o=n(46),c=(n(359),n(114)),l=n.n(c),s=n(0),d=n.n(s),u=n(12),m=Object(u.d)(l.a).withConfig({displayName:"select__StyledSelect",componentId:"sc-1ya11w8-0"})(["&.ant-select{&.ant-select-single:not(.ant-select-customize-input) .ant-select-selector,.ant-select-selection:hover,.ant-select-selection:active,.ant-select-selection:focus{border-color:#d9d9d9;}.ant-select-selection{border-color:",";}.ant-select-selection:active,.ant-select-selection:focus{box-shadow:none;}.ant-select-arrow{color:",";}.ant-select-arrow-icon{position:relative;top:-1px;font-size:14px;}&.ant-select-borderless .ant-select-selector{position:relative;bottom:1px;border:0;border-bottom:1px #d9d9d9 solid !important;border-bottom-left-radius:0;border-bottom-right-radius:0;}}&.ant-select.is--outline{> .ant-select-selector{background:transparent;border:1px solid #fff;color:#fff;&:active,&:focus,&:hover{border:1px solid #fff;}}.ant-select-selection-placeholder,.ant-select-arrow{color:#fff;}.ant-select-selection-placeholder{opacity:1;left:30%;}}&.ant-select.is--transparent{&.ant-select-focused > .ant-select-selector{border:1px solid #666a8f;}> .ant-select-selector{background:transparent;border:1px solid #666a8f;color:#a9b6d8;&:active,&:focus,&:hover{border:1px solid #666a8f;}}.ant-select-arrow{color:#a9b6d8;}}"],(function(e){return e.theme.secondary}),(function(e){return e.theme.primary})),p=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return d.a.createElement(m,this.props,this.props.children)}}]),n}(d.a.Component);p.Option=l.a.Option,p.displayName="Select",t.a=p},211:function(e,t,n){"use strict";t.a={CARD:"card",BOARD:"board",SNIPPET:"snippet"}},213:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p}));n(1045);var a=n(617),r=n.n(a),i=(n(440),n(310)),o=n.n(i),c=n(0),l=n.n(c),s=n(12),d=Object(s.c)(["&.ant-picker-borderless{border:none;border-bottom:1px solid #d9d9d9 !important;border-bottom-left-radius:0;border-bottom-right-radius:0;}&.ant-picker-focused:not(.ant-picker-borderless){box-shadow:0 0 0 1px ",";}"],(function(e){return e.theme.primary})),u=Object(s.d)(o.a.RangePicker).withConfig({displayName:"datepicker__RangePicker",componentId:"sc-17k004t-0"})(["&.ant-picker{border:1px solid #d9d9d9;&:hover,&:focus{border-color:",";}&.ant-picker-focused{box-shadow:0 0 0 1px ",";}}"],(function(e){return e.theme.secondary}),(function(e){return e.theme.primary})),m=Object(s.d)(o.a).withConfig({displayName:"datepicker__StyledDatePicker",componentId:"sc-17k004t-1"})(["&.ant-picker{border:1px solid #d9d9d9;&:hover,&:focus{border-color:",";}.ant-picker-suffix{color:",";}",";}"],(function(e){return e.theme.secondary}),(function(e){return e.theme.primary}),d),p=Object(s.d)(r.a).withConfig({displayName:"datepicker__StyledTimePicker",componentId:"sc-17k004t-2"})(["&.ant-picker{border:1px solid #d9d9d9;&:hover,&:focus{border-color:",";}.ant-picker-suffix{color:",";}",";}"],(function(e){return e.theme.secondary}),(function(e){return e.theme.primary}),d);function b(e){return l.a.createElement(m,e)}t.d=b},22:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return r})),function(e){e.DELETABLE="deletable",e.UPDATABLE="updatable",e.CREATABLE="creatable",e.READABLE="readable"}(a||(a={}));var r,i=["\u6aa2\u9ad4\u4e0d\u9069\u7576","\u4e0d\u7b26\u5408","\u901a\u77e5\u60e1\u6027\u6216\u7591\u4f3c","\u901a\u77e5\u764c\u524d\u75c5\u7076","\u5176\u4ed6\u5371\u96aa\u503c","\u80ba\u7d50\u6838","\u662f\u5426\u4fdd\u7559"],o={FINISH:"s",DRAFT:"f"},c={f:"\u8349\u7a3f",s:"\u5b8c\u6210"},l=[{id:82,name:"\u53d6\u6d88"},{id:63,name:"\u5b8c\u6210"},{id:60,name:"\u5df2\u8f38"},{id:38,name:"\u672a\u8f38"}],s={FINISH:63,CANCEL:82,TYPED:60,UNTYPE:38};!function(e){e.PATH="PATH",e.RAD="RD",e.CLINICIAN="CLINICIAN"}(r||(r={}))},233:function(e,t,n){"use strict";var a=n(36),r=n(49),i=n(45),o=n(46),c=(n(566),n(258)),l=n.n(c),s=n(0),d=n.n(s),u=n(12),m=Object(u.d)(l.a).withConfig({displayName:"radio__StyledRadio",componentId:"sc-1bt5c15-0"})(["&.ant-radio-wrapper{color:",";span.ant-radio + *{padding-left:16px;}.ant-radio-inner,.ant-radio-checked .ant-radio-inner{border-color:initial;}.ant-radio-inner::after{background:",";}&:hover,.ant-radio:hover .ant-radio-inner,.ant-radio-input:focus + .ant-radio-inner{border-color:",";}}"],(function(e){return e.theme.darkGrey}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary})),p=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return d.a.createElement(m,this.props)}}]),n}(d.a.Component);p.Group=l.a.Group,p.displayName="Radio",t.a=p},254:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return s}));var a=n(9),r=n(60),i=n(107),o=n.n(i),c=n(37),l=Object(r.b)({key:"userState",default:o.a.get("vghks_user")});function s(){var e=Object(r.d)(l),t=Object(a.a)(e,2)[1],n=Object(c.c)().setUser;return function(e){n(e),t(e)}}},269:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(9),r=n(11),i=n(0),o=n.n(i),c=n(417),l=n(333);function s(e){var t=e.columns,n=e.className,i=e.pageNum,s=void 0===i?1:i,d=e.dataSource,u=e.onChange,m=e.loading,p=void 0!==m&&m,b=e.rowSelection,f=e.pagination,h=void 0===f?{}:f,g=Object(r.a)(e,["columns","className","pageNum","dataSource","onChange","loading","rowSelection","pagination"]),v=o.a.useState(s),O=Object(a.a)(v,2),j=O[0],y=O[1],E=Object(c.a)({current:j,pageSize:10,total:d.total,showSizeChanger:!1},h);return!1===h&&(E=!1),o.a.createElement(l.a,Object.assign({rowKey:"id",dataSource:d.content,columns:t,pagination:E,onChange:function(e){var t=e.current,n=e.pageSize;u&&u({current:t,pageSize:n}),t&&y(t)},rowSelection:b,loading:p,className:n},g))}},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));n(949);var a=n(344),r=n.n(a),i=n(12),o=Object(i.c)(["&.ant-input-borderless{border:none;border-bottom:1px solid #d9d9d9;border-bottom-left-radius:0;border-bottom-right-radius:0;}&:active:not(.ant-input-borderless){box-shadow:0 0 0 1px ",";}"],(function(e){return e.theme.primary})),c=Object(i.d)(r.a).withConfig({displayName:"input__StyledInput",componentId:"sc-1o19dan-0"})(["&.ant-input-affix-wrapper .ant-input,&.ant-input{border-color:#d9d9d9;&:hover,&:focus{border-color:",";}",";}&.ant-input.is--linked{border:1px solid #2d6ca2;background-color:#d9edf7;}"],(function(e){return e.theme.secondary}),o),l=Object(i.d)(r.a.TextArea).withConfig({displayName:"input__TextArea",componentId:"sc-1o19dan-2"})(["&.ant-input{resize:none;border:1px solid #d9d9d9;&:hover,&:focus{border-color:",";}",";}"],(function(e){return e.theme.secondary}),o);t.c=c},332:function(e,t,n){"use strict";function a(e){return e.displayName||e.name||("string"===typeof e&&e.length>0?e:"Unknown")}n.d(t,"a",(function(){return a}))},333:function(e,t,n){"use strict";n(171);var a=n(85),r=n.n(a),i=n(67),o=n(11),c=(n(974),n(430)),l=n.n(c),s=n(0),d=n.n(s),u=n(1103),m=n(1104),p=n(12),b=Object(p.d)(l.a).withConfig({displayName:"table__StyledTable",componentId:"pjb5el-0"})(["&.ant-table-wrapper{.ant-pagination-prev .ant-pagination-item-link,.ant-pagination-next .ant-pagination-item-link{border-color:",";border-radius:6px;color:",";}.ant-pagination-item{border-color:",";}.ant-pagination-item a{color:",";}.ant-pagination-item-active,.ant-pagination-item-active:focus,.ant-pagination-item:hover{border-color:",";background:",";a{color:#fff;}}.ant-table-pagination.ant-pagination{margin-top:32px;}.ant-pagination-prev:hover .ant-pagination-item-link,.ant-pagination-next:hover .ant-pagination-item-link{border-color:",";background:",";color:#fff;}.ant-pagination-simple-pager{color:",";}.ant-pagination.mini .ant-pagination-item-link .anticon{position:relative;top:-2px;}.ant-pagination.mini .ant-pagination-prev{margin-right:3px;}.ant-pagination.mini .ant-pagination-next{margin-left:3px;}}.ant-table{background:transparent;}.ant-table-tbody > tr > td{height:40px;padding-top:10px;padding-bottom:10px;line-height:1em;color:#4a4a4a;background:transparent !important;border-bottom:1px solid #e9e9e9;}.ant-table-thead > tr > th{padding:12px;background:",";border-bottom:1px solid #e9e9e9;color:#fff;font-weight:500;}"],(function(e){return e.theme.pagination}),(function(e){return e.theme.pagination}),(function(e){return e.theme.pagination}),(function(e){return e.theme.pagination}),(function(e){return e.theme.pagination}),(function(e){return e.theme.pagination}),(function(e){return e.theme.pagination}),(function(e){return e.theme.pagination}),(function(e){return e.theme.pagination}),(function(e){return e.theme.primary}));function f(e){var t=e.editable,n=void 0!==t&&t,a=e.columns,c=void 0===a?[]:a,l=e.onAddRowClick,s=e.isRowDeletable,p=void 0===s?function(){return!0}:s,f=e.onDeleteRowClick,h=e.isCanEdit,g=void 0===h?"":h,v=Object(o.a)(e,["editable","columns","onAddRowClick","isRowDeletable","onDeleteRowClick","isCanEdit"]),O=d.a.useMemo((function(){var e=!0;if(!n)return c;""!==g&&(e=g);return[{title:d.a.createElement(r.a,{placement:"topLeft",title:"\u65b0\u589e"},d.a.createElement(u.a,{className:"ml-1 relative",style:{top:-3},onClick:e?l:void 0})),width:50,render:function(e,t,n){return d.a.createElement("div",{className:"text-center"},"#",n+1)}}].concat(Object(i.a)(c),[{width:50,render:function(e,t,n){return d.a.createElement(r.a,{placement:"topLeft",title:"\u522a\u9664"},d.a.createElement(m.a,{onClick:p(t)?(a=t.id,function(){f&&f(a)}):void 0}));var a}}])}),[c,n]);return d.a.createElement(b,Object.assign({columns:O},v),v.children)}f.displayName="Table",f.Column=l.a.Column,t.a=f},334:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(3),r=n(9),i=n(0),o=n.n(i),c=n(135),l=n(81),s=n(78),d=n(94),u=n(225),m=n(186),p=n(108),b=n(194),f=n(44),h=n(576);function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=e.defaultRowKeys,i=void 0===n?[]:n,g=e.defaultRows,v=void 0===g?[]:g,O=e.multiple,j=void 0===O||O,y=o.a.useState(i),E=Object(r.a)(y,2),x=E[0],k=E[1],w=o.a.useState(v),N=Object(r.a)(w,2),C=N[0],S=N[1],I=function(e,n){!Object(c.a)(t)&&Object(l.a)(e)>t||(k(Object(s.a)((function(){return j}),d.a,Object(u.a)(1))(e)),S((function(t){return Object(s.a)((function(){return j}),Object(m.a)(Object(p.a)((function(t){return e.includes(t.id)})),Object(b.a)(t)),Object(u.a)(1))(n)})))},_=o.a.useMemo((function(){return x.length>0}),[x]),T={selectedRowKeys:x,onChange:I},D=Object(h.a)(Object(a.a)(Object(a.a)({},e),{},{isDeletable:_,content:"\u78ba\u5b9a\u8981\u522a\u9664 ".concat(Object(l.a)(x)," \u7b46\u8cc7\u6599\u55ce\uff1f"),deleteItem:C.map((function(e){return{id:Object(f.a)("code",["id"],e)}})),onAfterDelete:function(){k([]),S([])}})),A=D.handleConfirm,R=D.onAfterDelete;return{rowSelection:T,isDeletable:_,handleConfirm:A,selectedRowKeys:x,selectedRows:C,selectedRowCount:x.length,onAfterDelete:R,clearSelection:function(){k([]),S([])}}}},337:function(e,t,n){"use strict";var a=n(36),r=n(49),i=n(45),o=n(46),c=n(3),l=n(0),s=n.n(l),d=n(127),u=n(587),m=n(454),p=n(4),b=n.n(p),f=n(144),h=n(211),g=n(9),v=n(11),O=(n(941),n(618)),j=n.n(O),y=n(1119),E=n(12),x=n(59),k=Object(E.d)(j.a).withConfig({displayName:"snippet-template-wrapper__StyledCard",componentId:"bqi320-0"})(["&.ant-card{border-radius:10px;border:none;cursor:move;}.ant-card-head{padding-left:18px;border-bottom:none;color:",";font-size:15px;font-weight:500;}&.ant-card-head--hide .ant-card-head{display:none;}&.ant-card-body--hide{.ant-card-head{padding-bottom:16px;border-bottom:1px dashed #f0f0f0;}.ant-card-body{display:none;}}&.is--preview .ant-card-head{min-height:auto;}&.is--preview .ant-card-head-title{padding-top:0;}&.is--preview .ant-card-body{padding-top:12px;padding-bottom:8px;}.ant-card-head-title{display:flex;align-items:center;justify-content:space-between;padding-bottom:0;}.ant-card-body{padding-top:6px;padding-left:26px;padding-bottom:20px;}"],(function(e){return e.theme.darkGrey}));var w=function(e){var t=e.title,n=e.children,a=(e.onDelete,e.onEdit,e.titleVisible),r=void 0===a||a,i=e.bodyVisible,o=void 0===i||i,c=e.icon,l=Object(v.a)(e,["title","children","onDelete","onEdit","titleVisible","bodyVisible","icon"]),d=Object(x.g)(),u=Object(g.a)(d,1)[0],m=c||y.a;return s.a.createElement(k,Object.assign({},r?{title:s.a.createElement("div",{className:"flex items-center"},!u&&s.a.createElement(m,{className:"mr-3"}),t||"\u6a21\u7248\u6a19\u984c ".concat(u?"":"(\u9ede\u925b\u7b46\u5716\u793a\u53ef\u9032\u884c\u7de8\u8f2f)"))}:{},{className:b()({"ant-card-body--hide":!o})},l),n)},N=(n(171),n(85)),C=n.n(N),S=n(1120),I=n(1121),_=n(1122),T=n(1123),D=E.d.div.withConfig({displayName:"snippet-toolbar__ToolbarWrapper",componentId:"sc-1penmlr-0"})(["position:absolute;top:8px;right:15px;visibility:hidden;transition:visibility 0s,opacity 0.3s,max-height 0.6s linear;opacity:0;z-index:1;&.is--over{visibility:visible;transition:visibility 0s,opacity 0.3s,max-height 0.6s linear;opacity:0.8;}"]),A=-1,R=1;function L(e){var t=e.tabIndex,n=e.onEdit,a=e.onDelete,r=e.onShift,i=e.editable,o=void 0===i||i,c=e.visible,l=void 0!==c&&c,d=function(e){return function(){r(e)}};return s.a.createElement(D,{className:b()("text-primary",{"is--over":1===t,hidden:!l})},s.a.createElement(C.a,{title:"\u5411\u5de6\u7e2e\u6392"},s.a.createElement(S.a,{className:"mr-2 cursor-pointer",onClick:d(A)})),s.a.createElement(C.a,{title:"\u5411\u53f3\u7e2e\u6392"},s.a.createElement(I.a,{className:"mr-2 cursor-pointer",onClick:d(R)})),o&&s.a.createElement(C.a,{title:"\u7de8\u8f2f"},s.a.createElement(_.a,{className:"mr-2 cursor-pointer",onClick:n})),s.a.createElement(C.a,{title:"\u522a\u9664"},s.a.createElement(T.a,{className:"cursor-pointer",onClick:a})))}var M=n(447),P=n(156),z=n(50),V=n(48),F=n(97),U=n.n(F),H=n(332),B={block_formats:"Heading 1=h1;Heading 2=h2;Heading 3=h3;Paragraph=p",inline:!0,menubar:!1,external_plugins:{dropdown:"".concat(V.a.publicUrl,"/js/tinymce/plugins/dropdown/plugin.js"),inputtext:"".concat(V.a.publicUrl,"/js/tinymce/plugins/inputtext/plugin.js")},env:V.a.appBaseName,fontsize_formats:"10px 12px 14px 16px 18px 20px 24px 32px 36px",force_br_newlines:!0,force_p_newlines:!1,forced_root_block:"div",plugins:"image textcolor lists emoticons link table media code",tinymce:"".concat(V.a.publicUrl,"/js/tinymce/4.9.2/tinymce.min.js"),link_title:!1,table_toolbar:"tablemergecells tablesplitcells | tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",textcolor_cols:"5",content_security_policy:"",allow_unsafe_link_target:!0,relative_urls:!1,convert_urls:!1,valid_elements:"*[*]",valid_children:"h1[div|strong|b],h2[div|strong|b],h3[div|strong|b],p[div|strong|b]",toolbar1:"undo redo | custom-formatselect fontsizeselect | bold italic underline strikethrough forecolor removeformat | align numlist bullist outdent indent | link | fontawesome | inputtext | dropdown"};var q=n(70),Y=n(178),W=n(27).compose,G=Object(d.DragSource)(h.a.BOARD,{beginDrag:function(e){return Object(c.a)(Object(c.a)({},e),{},{fromMenu:!1,originalIndex:e.findSnippet(e.id).index})},canDrag:function(e){return!(!e.draggable||e.fromMenu)}},(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})),J=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).componentDidMount=function(){var e=r.props.connectDragPreview;e&&e(Object(u.a)())},r.handleShift=function(e){var t=r.props,n=t.id,a=t.shiftSnippet;a&&n&&a(n,e)},r.handleRemove=function(){Object(f.a)({content:"\u522a\u9664\u5f8c\u5c07\u7121\u6cd5\u9084\u539f\uff0c\u78ba\u8a8d\u7e7c\u7e8c\uff1f",title:"\u78ba\u8a8d\u8981\u522a\u9664\u9019\u500b\u6a21\u7248?",onOk:function(){r.props.removeSnippet(r.props.index)},onCancel:function(){}})},r.handleEditModalVisible=function(){r.setState((function(e){return{editModalVisible:!e.editModalVisible}}))},r._onMouseOver=function(){r.setState({tabIndex:1})},r._onMouseOut=function(){r.setState({tabIndex:-1})},r.state={tabIndex:-1,editModalVisible:!1},r}return Object(r.a)(n,[{key:"render",value:function(){var e,t=this,n=this.props,a=n.connectDragSource,r=void 0===a?function(e){return e}:a,i=n.connectDragPreview,o=void 0===i?function(e){return e}:i,l=n.wrapperId,d=n.index,u=n.draggable,p=n.style,f=void 0===p?{}:p,h=n.className,g=void 0===h?"mb-2":h,v=n.item,O=this.state,j=O.tabIndex,y=O.editModalVisible,E=Object(m.a)(function(e){var t=e.isDragging,n=e.tabIndex,a=e.draggable,r=e.tabSize,i=void 0===r?0:r,o=1===n;return Object(c.a)(Object(c.a)(Object(c.a)({},o?{borderRadius:3}:{}),a?{border:"1px dashed ".concat(a?"#e7e7e7":"transparent")}:{outlineColor:o?Y.a.purple150:"transparent"}),{},{cursor:"default",position:"relative",display:t?"none":"block",marginLeft:50*i})}(Object(c.a)(Object(c.a)({},this.props),this.state)),f),x=s.a.Children.map(this.props.children,(function(e){return s.a.cloneElement(e,{editModalVisible:y,handleEditModalVisible:t.handleEditModalVisible})}));return r(o(s.a.createElement("div",{id:l,style:E,className:b()("ui-sortable",{"ui-draggable":u},g),tabIndex:j,onMouseOver:this._onMouseOver,onMouseOut:this._onMouseOut,"data-index":d},s.a.createElement(L,{visible:u,tabIndex:j,editable:!v.inline,onEdit:this.handleEditModalVisible,onDelete:this.handleRemove,onShift:this.handleShift}),v.type!==q.e.CLOZE?s.a.createElement(w,{titleVisible:!0,bodyVisible:v.type!==q.e.HEADER,title:(null===v||void 0===v||null===(e=v.setting)||void 0===e?void 0:e.text)||"",icon:v.icon},x):x)))}}]),n}(s.a.Component);t.a=W(G,(function(e){var t=function(t){Object(i.a)(l,t);var n=Object(o.a)(l);function l(){var e;Object(a.a)(this,l);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).state={top:0,tabIndex:-1,editor:null,toolbarMouseOver:!1,toolbarVisible:!1},e._addEventListeners=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.state.editor;t&&(t.dom.select("input").forEach((function(e){return e.addEventListener("input",(function(e){var t=e.target.value;this.innerHTML=t,this.setAttribute("data-mce-value",t),this.setAttribute("value",t),t||(this.removeAttribute("data-mce-value"),this.removeAttribute("value")),tinymce.triggerSave()}))})),t.dom.select("select").forEach((function(e){e.addEventListener("change",(function(e){this.setAttribute("data-mce-value",e.target.value),this.setAttribute("value",e.target.value),this.childNodes.forEach((function(t){t instanceof HTMLElement&&(t.innerText===e.target.value&&t.setAttribute("selected","selected"),t.innerText!==e.target.value&&t.hasAttribute("selected")&&t.removeAttribute("selected"))})),tinymce.triggerSave()}))})))},e.initialize=function(t){e._get(t.id)&&e.remove(t.id);var n=Object(M.a)(t.config||B);tinymce.init(Object(c.a)(Object(c.a)({},n),{},{selector:"#".concat(t.id),language_url:"".concat(V.a.publicUrl,"/js/tinymce/langs/zh_TW.js"),content:t.html,setup:function(a){a.on("blur",e.onBlur),a.on("focus",e.onFocus),Object(P.a)(Function,n.execInit)&&n.execInit(a),t.html&&a.on("init",(function(){return a.setContent(t.html)}))},init_instance_callback:function(t){e.setState({editor:t}),e._addEventListeners(t),t.undoManager.add()}}))},e.onFocus=function(){},e.onChange=function(){e.state.editor.getContent({format:"text"})},e.onBlur=function(t){var n=e.props,a=n.updateSnippet,r=n.item;a&&a(Object(c.a)(Object(c.a)({},r),{},{html:t.target.getContent()}))},e._get=function(e){return tinymce.get(e)},e.remove=function(t){tinymce.remove(e._get(t||e.props.id))},e}return Object(r.a)(l,[{key:"componentDidMount",value:function(){this.props.inline&&this.initialize(this.props.item)}},{key:"componentDidUpdate",value:function(e,t){var n,a=this.props,r=a.isDragging,i=a.inline,o=a.id,c=a.item,l=this.state.editor;!r&&e.isDragging&&this.setState({toolbarVisible:!1}),i&&(Object(z.a)(o,e.id)||this.initialize(c),Object(z.a)(null===c||void 0===c?void 0:c.html,null===(n=e.item)||void 0===n?void 0:n.html)||(l.setContent(null===c||void 0===c?void 0:c.html),this._addEventListeners(l)))}},{key:"render",value:function(){return s.a.createElement(e,Object.assign({},this.state,this.props))}}]),l}(s.a.Component);return t.displayName="withTinyMCE(".concat(Object(H.a)(e),")"),t.defaultProps={inline:!1},U()(t,e)}))(J)},343:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(11),r=n(36),i=n(49),o=n(45),c=n(46),l=n(0),s=n.n(l),d=n(127),u=n(4),m=n.n(u),p=n(186),b=(n(556),n(423)),f=n.n(b),h=n(12),g="rgb(43,193,183)",v=Object(h.d)(f.a).withConfig({displayName:"tabs",componentId:"sc-5lpi6j-0"})(["&.ant-tabs{.ant-tabs-tab{display:flex;align-items:center;padding:10px 24px !important;margin-right:4px !important;color:#fff !important;border-color:"," !important;background:"," !important;border-top-left-radius:12px !important;border-top-right-radius:12px !important;}.ant-tabs-tab-active{border-color:#fff !important;background:#fff !important;svg path{fill:"," !important;}}.ant-tabs-tab .anticon{color:#fff !important;}.ant-tabs-tab.is--over{border:1px dashed lightgrey !important;}.ant-tabs-tab.is--dragging{opacity:0.3;}> .ant-tabs-nav .ant-tabs-nav-add,.ant-tabs > div > .ant-tabs-nav .ant-tabs-nav-add{background:transparent;border-color:transparent;color:",";.anticon-plus{color:",";}.anticon-plus:hover{color:",";}}.ant-tabs-tab-btn:focus,.ant-tabs-tab-remove:focus,.ant-tabs-tab-btn:active,.ant-tabs-tab-remove:active,.ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn{color:"," !important;}}&.ant-tabs-top > .ant-tabs-nav,&.ant-tabs-top > div > .ant-tabs-nav{margin-bottom:0;}&.ant-tabs-top > .ant-tabs-nav::before{border-bottom:none;}"],g,g,(function(e){return e.theme.primary}),(function(e){return e.theme.darkGrey}),(function(e){return e.theme.darkGrey}),(function(e){return e.theme.primary}),(function(e){return e.theme.secondary})),O=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.connectDragSource,n=e.connectDropTarget,r=e.isDragging,i=e.isOver,o=(e.moveTabNode,e.draggingItem),c=e.id,l=Object(a.a)(e,["connectDragSource","connectDropTarget","isDragging","isOver","moveTabNode","draggingItem","id"]);return t(n(s.a.cloneElement(l.children,{className:m()(l.children.props.className,{"is--dragging":r,"is--over":i&&c!==(null===o||void 0===o?void 0:o.id)})})))}}]),n}(s.a.Component),j=Object(d.DropTarget)("DND_NODE",{drop:function(e,t){var n=t.getItem().index,a=e.index;n!==a&&(e.moveTabNode(n,a),t.getItem().index=a)}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),draggingItem:t.getItem()}})),y=Object(d.DragSource)("DND_NODE",{beginDrag:function(e){return{id:e.id,index:e.index}}},(function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})),E=Object(p.a)(j,y)(O),x=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).moveTabNode=function(t,n){var a=e.props,r=a.children,i=a.order,o=a.moveTabNode,c=i.slice();s.a.Children.forEach(r,(function(e){-1===c.indexOf(e.key)&&c.push(e.key)}));var l=c.indexOf(t),d=c.indexOf(n);c.splice(l,1),c.splice(d,0,t),o(c)},e.renderTabBar=function(t,n){return s.a.createElement(n,t,(function(t){return s.a.createElement(E,{key:t.key,id:t.key,index:t.key,moveTabNode:e.moveTabNode},t)}))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.moveTabNode,e.children),n=Object(a.a)(e,["moveTabNode","children"]);return s.a.createElement(v,Object.assign({renderTabBar:this.renderTabBar},n),t)}}]),n}(s.a.Component);x.defaultProps={order:[]},x.TabPane=v.TabPane},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return f}));var a=n(3),r=n(9),i=n(0),o=n.n(i),c=n(135),l=n(107),s=n.n(l),d=n(22),u=n(48),m=o.a.createContext({isAuthenticated:!1,user:{},logout:function(){return{}},setUser:function(e){return{}},setIsAuthenticated:function(e){return{}}}),p=s.a.get("vghks_user");function b(e){var t=o.a.useState(!u.a.useOAuth||!Object(c.a)(p)),n=Object(r.a)(t,2),i=n[0],l=n[1],b=o.a.useState(Object(a.a)({id:1,name:"\u91ab\u5e2b\u59d3\u540d",division:d.a.PATH,position:"A",isAdmin:!0,viewDivision:!1},p)),f=Object(r.a)(b,2),h=f[0],g=f[1],v=o.a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onCompleted;s.a.remove("vghks_token"),s.a.remove("vghks_user"),l(!1),t&&t()}),[]),O=o.a.useMemo((function(){return{isAuthenticated:i,setIsAuthenticated:l,setUser:g,logout:v,user:h}}),[i,v,h,g,l]);return o.a.createElement(m.Provider,Object.assign({value:O},e))}function f(){var e=o.a.useContext(m);if(void 0===e)throw new Error("useAuth must be used within a AuthProvider");return e}t.b=f},40:function(e,t,n){"use strict";n.d(t,"n",(function(){return rn})),n.d(t,"i",(function(){return on})),n.d(t,"h",(function(){return cn})),n.d(t,"m",(function(){return ln})),n.d(t,"l",(function(){return sn})),n.d(t,"j",(function(){return dn})),n.d(t,"o",(function(){return un})),n.d(t,"k",(function(){return mn})),n.d(t,"g",(function(){return pn})),n.d(t,"e",(function(){return bn})),n.d(t,"f",(function(){return fn})),n.d(t,"a",(function(){return hn})),n.d(t,"p",(function(){return gn})),n.d(t,"d",(function(){return vn})),n.d(t,"b",(function(){return On})),n.d(t,"c",(function(){return jn})),n.d(t,"q",(function(){return yn}));var a=n(67),r=n(0),i=n.n(r),o=i.a.lazy((function(){return n.e(8).then(n.bind(null,1188))})),c=i.a.lazy((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,1189))})),l=i.a.lazy((function(){return n.e(16).then(n.bind(null,1190))})),s=(n(432),n(345)),d=n.n(s),u=(n(201),n(64)),m=n.n(u),p=(n(202),n(41)),b=n.n(p),f=(n(364),n(259)),h=n.n(f),g=(n(171),n(85)),v=n.n(g),O=(n(740),n(622)),j=n.n(O),y=(n(346),n(125)),E=n.n(y),x=n(3),k=(n(100),n(20)),w=n.n(k),N=n(9),C=n(12),S=n(1121),I=n(1120),_=n(4),T=n.n(_),D=n(102),A=n.n(D),R=n(78),L=n(50),M=n(56),P=n(457),z=n(420),V=n(44),F=n(452),U=n(29),H=n(104),B=n(81),q=n(108),Y=n(256),W=n(130),G=n(189),J=n(155),K=n(308),Q=n(456),X=n(215),$=n(156),Z=n(411),ee=n(94),te=n(449),ne=n(157),ae=n(42),re=n(229),ie=n.n(re),oe=n(434),ce=n(183),le=n(170),se=n(37),de=n(18),ue=n(433),me=n(435),pe=n(443),be=n(163),fe=n(343),he=n(59),ge=n(158),ve=n(90),Oe=n(22),je=(n(441),n(311)),ye=n.n(je),Ee=n(36),xe=n(49),ke=n(45),we=n(46),Ne=n(268),Ce=n(619),Se=n.n(Ce);function Ie(e){return parseInt(getComputedStyle(e).height,10)-(parseInt(getComputedStyle(e).paddingTop,10)+parseInt(getComputedStyle(e).paddingBottom,10))}var _e,Te=function(){return function(e){return function(t){Object(ke.a)(a,t);var n=Object(we.a)(a);function a(){var e;Object(Ee.a)(this,a);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).state={computedHeight:0},e.root=void 0,e.handleRoot=function(t){e.root=t},e}return Object(xe.a)(a,[{key:"componentDidMount",value:function(){if(!this.props.height){var e=function(e){if(!e)return 0;for(var t=e,n=Ie(t);!n&&(t=t.parentNode);)n=Ie(t);return n}(this.root);this.setState({computedHeight:e})}}},{key:"render",value:function(){var t=this.props.height,n=this.state.computedHeight,a=t||n;return i.a.createElement("div",{ref:this.handleRoot},a>0&&i.a.createElement(e,Object.assign({},this.props,{height:a})))}}]),a}(i.a.Component)}},De=(n(1070),n(620)),Ae=n.n(De),Re=Object(C.d)(Ae.a).withConfig({displayName:"components__StyledAnchor",componentId:"gqfddg-0"})(["&.ant-anchor-wrapper{background:transparent;}.fixed{position:relative !important;}a:hover,.ant-anchor-link-active > .ant-anchor-link-title{color:",";}.ant-anchor-ink-ball{border:2px solid ",";}.ant-anchor-ink::before{}"],(function(e){return e.theme.primary}),(function(e){return e.theme.primary})),Le=C.d.div.withConfig({displayName:"components__PieChart",componentId:"gqfddg-1"})(["&.pie{position:relative;.chart{position:relative;}&.hasLegend .chart{width:calc(100% - ",");}.legend{position:absolute;top:50%;right:0;min-width:","px;margin:0 20px;padding:0;list-style:none;transform:translateY(-50%);li{height:22px;margin-bottom:16px;line-height:22px;cursor:pointer;&:last-child{margin-bottom:0;}}}.dot{position:relative;top:-1px;display:inline-block;width:8px;height:8px;margin-right:8px;border-radius:8px;}.line{display:inline-block;width:1px;height:16px;margin-right:8px;background-color:hsv(0,0,91%);}.legendTitle{color:rgba(0,0,0,0.65);}.percent{color:rgba(0,0,0,0.45);}.value{position:absolute;right:0;}.title{margin-bottom:8px;}.total{position:absolute;top:50%;left:50%;max-height:62px;text-align:center;transform:translate(-50%,-50%);font-size:14px;& > h4{height:22px;margin-bottom:8px;color:rgba(0,0,0,0.45);font-weight:normal;font-size:14px;line-height:22px;}& > p{display:block;height:32px;color:rgba(0,0,0,0.85);font-size:1.2em;line-height:32px;white-space:nowrap;}}}&.legendBlock{&.hasLegend .chart{width:100%;margin:0 0 32px 0;}.legend{position:relative;transform:none;}}"],(function(e){return e.chartWidth+"px"}),(function(e){return e.legendWidth})),Me=n(178),Pe=n(1075),ze=n(1078).DataView,Ve=function(e){Object(ke.a)(n,e);var t=Object(we.a)(n);function n(){var e;Object(Ee.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={legendData:[],legendBlock:!1},e.requestRef=void 0,e.root=void 0,e.chart=void 0,e.getG2Instance=function(t,n){e.chart=n,requestAnimationFrame((function(){e.getLegendData(),e.resize()}))},e.getLegendData=function(){if(e.chart);},e.handleRoot=function(t){e.root=t},e.handleLegendClick=function(t,n){var a=t;a.checked=!a.checked;var r=e.state.legendData;r[n]=a;var i=r.filter((function(e){return e.checked})).map((function(e){return e.x}));e.chart&&e.chart.filter("x",(function(e){return i.indexOf("".concat(e))>-1})),e.setState({legendData:r})},e.resize=Se()((function(){var t=e.props.hasLegend,n=e.state.legendBlock;t&&e.root?e.root&&e.root.parentNode&&e.root.parentNode.clientWidth<=380?n||e.setState({legendBlock:!0}):n&&e.setState({legendBlock:!1}):window.removeEventListener("resize",e.resize)}),400),e}return Object(xe.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",(function(){e.requestRef=requestAnimationFrame((function(){return e.resize()}))}),{passive:!0})}},{key:"componentDidUpdate",value:function(e){this.props.data!==e.data&&this.getLegendData()}},{key:"componentWillUnmount",value:function(){this.requestRef&&window.cancelAnimationFrame(this.requestRef),this.resize&&(window.removeEventListener("resize",this.resize),this.resize.cancel())}},{key:"render",value:function(){var e=this,t=this.props,n=t.valueFormat,a=t.subTitle,r=t.total,o=t.hasLegend,c=void 0!==o&&o,l=t.className,s=t.style,d=t.height,u=t.forceFit,m=void 0===u||u,p=t.percent,b=t.color,f=t.inner,h=void 0===f?.75:f,g=t.animate,v=void 0===g||g,O=t.lineWidth,j=void 0===O?0:O,y=t.width,E=void 0===y?240:y,x=t.legendWidth,k=void 0===x?250:x,w=this.state,N=w.legendData,C=w.legendBlock,S=T()("pie",l,{hasLegend:!!c,legendBlock:C}),I=this.props,_=I.data,D=I.selected,A=void 0===D||D,R=I.tooltip,L=_||[],M=A,P=void 0===R||R;L=L||[],M=M||!0,P=P||!0;(p||0===p)&&(M=!1,P=!1,L=[{x:"\u5360\u6bd4",y:parseFloat("".concat(p))},{x:"\u53cd\u6bd4",y:100-parseFloat("".concat(p))}]);var z=new ze;return z.source(L).transform({type:"percent",field:"y",dimension:"x",as:"percent"}),i.a.createElement(Le,{ref:this.handleRoot,className:S,chartWidth:E,style:s,legendWidth:k},i.a.createElement(Pe,{maxFontSize:25},i.a.createElement("div",{className:"chart"},i.a.createElement(Ne.Chart,{scale:{x:{type:"cat",range:[0,1]},y:{min:0}},height:d,autoFit:m,data:z,padding:[6,0,6,0],animate:v,onGetG2Instance:this.getG2Instance},!!P&&i.a.createElement(Ne.Tooltip,{showTitle:!1}),i.a.createElement(Ne.Coordinate,{type:"theta",innerRadius:h}),i.a.createElement(Ne.Geom,{style:{lineWidth:j,stroke:"#fff"},tooltip:P&&["x*percent",function(e,t){return{name:e,value:"".concat((100*t).toFixed(2),"%")}}],type:"interval",position:"percent",adjust:"stack",color:["x",function(e){return"\u5360\u6bd4"===e?b||Me.a.primary:"#f0f2f5"}],animate:!1,label:!1,selected:M})),(a||r)&&i.a.createElement("div",{className:"total"},a&&i.a.createElement("h4",{className:"pie-sub-title"},a),r&&i.a.createElement("div",{className:"pie-stat"},"function"===typeof r?r():r)))),c&&i.a.createElement("ul",{className:"legend"},N.map((function(t,a){return i.a.createElement("li",{key:t.x,onClick:function(){return e.handleLegendClick(t,a)}},i.a.createElement("span",{className:"dot",style:{backgroundColor:t.checked?t.color:"#aaa"}}),i.a.createElement("span",{className:"legendTitle"},t.x),i.a.createElement(ye.a,{type:"vertical"}),i.a.createElement("span",{className:"percent"},"".concat((Number.isNaN(t.percent)?0:100*t.percent).toFixed(2),"%")),i.a.createElement("span",{className:"value"},n?n(t.y):t.y))}))))}}]),n}(i.a.PureComponent),Fe=Te()(Ve),Ue=n(66),He=n.n(Ue),Be=n(128),qe=n(436),Ye=n(61),We=n(48),Ge=n(1079);function Je(e){var t=e.data,n=e.isExport,a=e.readOnly,r=void 0!==a&&a,o=e.onToggleExport,c=e.onOk,l=Object(qe.a)(dn),s=Object(se.b)().user,d=i.a.useState(!1),u=Object(N.a)(d,2),m=u[0],p=u[1],b=Object(ge.b)({onCompleted:function(){}}),f=Object(N.a)(b,2),h=f[0],g=f[1],v=function(){var e=Object(Be.a)(He.a.mark((function e(){var t,n;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),t=document.querySelector(".js-export-pdf"),n={margin:1,filename:"\u5831\u544a\u532f\u51fa_".concat(A()().format("YYYYMMDDHHmmss"),".pdf"),image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}},e.next=5,Ge().set(n).from(t).save();case 5:p(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:"inline-flex"},!n&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Ye.a,{color:"outline",className:"ml-2 text-white border-white bg-transparent",onClick:function(){c()},style:{minWidth:80}},"\u5132\u5b58"),i.a.createElement(Ye.a,{color:"outline",className:"ml-2 text-white border-white bg-transparent",onClick:l,style:{minWidth:80}},"\u53d6\u6d88"),i.a.createElement(Ye.a,{color:"outline",className:"ml-2 text-white border-white bg-transparent",onClick:function(){var e=Object(z.a)(":studyInstanceUIDs","1.3.6.1.4.1.14519.5.2.1.3098.4963.119176436435873112231353675460")(s.division===Oe.a.PATH?We.a.viewerUrl:We.a.radiolViewerUrl);window.open("".concat(e,"?PatientID=").concat(t.hhisnum),"__blank")},style:{minWidth:80}},"\u5f71\u50cf"),i.a.createElement(Ye.a,{color:"outline",className:"ml-6 text-white border-white bg-transparent",onClick:o},"\u8f38\u51fa\u5831\u544a")),n&&i.a.createElement(i.a.Fragment,null,"CLINICIAN"!==s.division&&!r&&i.a.createElement(Ye.a,{color:"outline",className:"text-white border-white bg-transparent",onClick:o},"\u53d6\u6d88"),i.a.createElement(Ye.a,{color:"outline",className:"ml-6 text-white border-white bg-transparent",loading:h,onClick:function(){g({orreqno:t.orreqno,division:s.division,filename:t.name})}},"\u4e0b\u8f09 JSON"),i.a.createElement(Ye.a,{color:"outline",className:"ml-2 text-white border-white bg-transparent",loading:m,onClick:v},"\u4e0b\u8f09\u5831\u544a")))}!function(e){e.VISIBLE_RIGHT="1",e.VISIBLE_LEFT="2"}(_e||(_e={}));var Ke=n(1124),Qe=n(151),Xe=n(137),$e=n(233),Ze=n(71);function et(e){var t=e.data,n=e.onToggle,a=Object(se.b)().user;return i.a.createElement(Qe.a,{activeKey:[1,2,3,4],expandIcon:function(){return null},className:"shadow-2xl"},i.a.createElement(Qe.a.Panel,{header:i.a.createElement("div",{className:"text-center relative"},i.a.createElement(v.a,{title:"\u6536\u5408\u91ab\u56d1\u5167\u5bb9"},i.a.createElement(Ke.a,{className:"absolute",style:{top:5,left:15},onClick:n})),"\u91ab\u56d1\u5167\u5bb9"),key:1},i.a.createElement("div",{className:"border-b border-gray-600 p-3"},"\u7533\u8acb\u5e8f\u865f\uff1a",null===t||void 0===t?void 0:t.orreqno),a.division===Oe.a.PATH&&i.a.createElement("div",{className:"border-b border-gray-600 p-3"},"\u75c5\u7406\u865f\uff1a",null===t||void 0===t?void 0:t.orworkno),i.a.createElement("div",{className:"border-b border-gray-600 p-3"},"\u75c5\u60a3\u59d3\u540d\uff1a",null===t||void 0===t?void 0:t.hnamec),i.a.createElement("div",{className:"border-b border-gray-600 p-3"},"\u6027\u5225\uff1a",null===t||void 0===t?void 0:t.hsex),i.a.createElement("div",{className:"border-b border-gray-600 p-3"},"\u7533\u8acb\u79d1\u5225\uff1a",null===t||void 0===t?void 0:t.csect),i.a.createElement("div",{className:"border-b border-gray-600 p-3"},"\u75c5\u6b77\u865f\uff1a",null===t||void 0===t?void 0:t.hhisnum),i.a.createElement("div",{className:"border-b border-gray-600 p-3"},"\u75c5\u623f\uff1a",null===t||void 0===t?void 0:t.hnursta),i.a.createElement("div",{className:"border-b border-gray-600 p-3"},"\u75c5\u623f\u5e8a\u865f\uff1a",null===t||void 0===t?void 0:t.hbed),i.a.createElement("div",{className:"border-b border-gray-600 p-3"},"\u51fa\u751f\u65e5\u671f\uff1a",(null===t||void 0===t?void 0:t.hbirthdt)||(null===t||void 0===t?void 0:t.hbirthd2)),i.a.createElement("div",{className:"border-b border-gray-600 p-3"},"\u91ab\u56d1\u540d\u7a31\uff1a",null===t||void 0===t?void 0:t.orproced),i.a.createElement("div",{className:"border-b border-gray-600 p-3"},"\u73fe\u5728\u8f38\u5165\uff1a",a.name),i.a.createElement("div",{className:"border-b border-gray-600 p-3"},"\u5be9\u6838\u8005\uff1a",a.name)),i.a.createElement(Qe.a.Panel,{header:i.a.createElement("div",{className:"text-center"},"\u5132\u5b58\u72c0\u614b"),key:2},i.a.createElement(w.a.Item,{noStyle:!0,name:"status",rules:[Ze.d.required]},i.a.createElement($e.a.Group,{className:"pl-3"},Object(U.a)((function(e){return i.a.createElement($e.a,{key:e.id,className:"block mb-1",value:e.id},e.name)}))(Oe.d)))),a.division===Oe.a.PATH&&i.a.createElement(Qe.a.Panel,{header:i.a.createElement("div",{className:"text-center"},"\u5831\u544a\u8a3b\u8a18"),key:3},i.a.createElement(w.a.Item,{noStyle:!0,name:"annotations"},i.a.createElement(Xe.b,null,Oe.b.map((function(e,t){return i.a.createElement(Xe.a,{key:"annotations-".concat(t),className:T()("block ml-0 pl-2",{"mt-1":t>0}),defaultChecked:!1,value:"".concat(t)},e)}))))),i.a.createElement(Qe.a.Panel,{header:i.a.createElement("div",{className:"text-center"},"\u64cd\u4f5c\u71b1\u9375"),key:4},i.a.createElement("div",{className:"pl-6"},i.a.createElement("code",{className:"bg-yellow-400 px-1"},"CTRL+S")," \u5132\u5b58"),i.a.createElement("div",{className:"pl-6 pt-2"},i.a.createElement("code",{className:"bg-yellow-400 px-1"},"F9")," \u7247\u8a9e\u8996\u7a97")))}var tt=n(11),nt=n(135),at=n(70),rt=n(33),it=n(27).compose,ot=Object(Ze.a)(8),ct=Object(Ze.a)(3),lt=Object(C.d)(w.a.Item).withConfig({displayName:"report-typing-preview__FormItem",componentId:"sc-1ot2kci-0"})(["margin-bottom:12px;"]),st=Object(C.d)(ye.a).withConfig({displayName:"report-typing-preview__Divider",componentId:"sc-1ot2kci-1"})(["margin:16px 0;"]),dt=C.d.div.withConfig({displayName:"report-typing-preview__SnippetPreviewWrapper",componentId:"sc-1ot2kci-2"})([".ant-card-head{min-height:auto;}.ant-card-head-title{padding-top:0;font-size:14px;}.ant-card-body{padding-top:6px;padding-bottom:8px;padding-left:18px;}"]),ut=Object(C.d)("div").withConfig({displayName:"report-typing-preview___StyledDiv",componentId:"sc-1ot2kci-3"})({fontSize:15,lineHeight:1.65,color:"rgba(0, 0, 0, 0.85)"}),mt=Object(C.d)("h2").withConfig({displayName:"report-typing-preview___StyledH",componentId:"sc-1ot2kci-4"})({fontSize:16}),pt=Object(C.d)("div").withConfig({displayName:"report-typing-preview___StyledDiv2",componentId:"sc-1ot2kci-5"})({fontSize:15,lineHeight:1.65,color:"rgba(0, 0, 0, 0.85)"}),bt=Object(C.d)("h2").withConfig({displayName:"report-typing-preview___StyledH2",componentId:"sc-1ot2kci-6"})({fontSize:16});function ft(e){var t=e.className,n=e.style,a=e.data;Object(le.a)([{name:"\u8f38\u5165\u5831\u544a"},{name:"\u6587\u4ef6\u5831\u544a"}]);var r=Object(ge.f)({orreqno:a.template.orreqno}).json,o=a.snippetList,c=a.medical,l=Object(se.c)().user,s=function(e,t){var n=e.html,a=void 0===n?"":n,r=e.valuesJson,i=void 0===r?[]:r,o=ie.a.load(a);o(".template-cloze__control").each((function(e,t){var n=o(t);n.replaceWith("select"===t.name?" ":function(e,t){return Object(V.a)(Object(de.m)(t),[e,"codexxx"],i)}(e,n.val())+" ")}));var c=document.createElement("div");c.innerHTML=o.html();var l=c.textContent||c.innerText||"";return c.remove(),"".concat(t?t+". ":"").concat(l)},d=Object(V.a)(o,["setting"],r);return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:n,className:T()("js-export-pdf",t)},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.useCode;return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,{className:"mb-3"},i.a.createElement(b.a,{span:24},i.a.createElement("div",{className:"text-xl text-center mt-2"},"\u9ad8\u96c4\u69ae\u7e3d",i.a.createElement("span",{className:"mx-6"},l.division===Oe.a.RAD?"\u653e\u5c04\u7dda\u90e8":"\u75c5\u7406\u6aa2\u9a57\u90e8"),"\u6aa2\u67e5\u5831\u544a\u55ae"))),i.a.createElement(st,null),i.a.createElement(m.a,{gutter:16},i.a.createElement(b.a,{span:8},i.a.createElement(lt,Object.assign({},ot,{label:"\u75c5\u623f\u5e8a\u865f"}),i.a.createElement(rt.a,{readOnly:!0,bordered:!1,value:null===c||void 0===c?void 0:c.hbed}))),i.a.createElement(b.a,{span:8},i.a.createElement(lt,Object.assign({},ot,{label:"\u75c5\u60a3\u59d3\u540d"}),i.a.createElement(rt.a,{readOnly:!0,bordered:!1,value:null===c||void 0===c?void 0:c.hnamec}))),i.a.createElement(b.a,{span:8},i.a.createElement(lt,Object.assign({},ot,{label:"\u75c5\u6b77\u865f"}),i.a.createElement(rt.a,{readOnly:!0,bordered:!1,value:null===c||void 0===c?void 0:c.hhisnum})))),i.a.createElement(m.a,{gutter:16},i.a.createElement(b.a,{span:8},i.a.createElement(lt,Object.assign({},ot,{label:"\u75c5\u60a3\u6027\u5225"}),i.a.createElement(rt.a,{readOnly:!0,bordered:!1,value:null===c||void 0===c?void 0:c.hsex}))),i.a.createElement(b.a,{span:8},i.a.createElement(lt,Object.assign({},ot,{label:"\u75c5\u60a3\u8eab\u5206"}),i.a.createElement(rt.a,{readOnly:!0,bordered:!1,value:null===c||void 0===c?void 0:c.cfinancl}))),i.a.createElement(b.a,{span:8},i.a.createElement(lt,Object.assign({},ot,{label:"\u51fa\u751f\u65e5\u671f"}),i.a.createElement(rt.a,{readOnly:!0,bordered:!1,value:(null===c||void 0===c?void 0:c.hbirthdt)||(null===c||void 0===c?void 0:c.hbirthd2)})))),i.a.createElement(m.a,{gutter:16},i.a.createElement(b.a,{span:8},i.a.createElement(lt,Object.assign({},ot,{label:"\u7533\u8acb\u5e8f\u865f"}),i.a.createElement(rt.a,{readOnly:!0,bordered:!1,value:null===c||void 0===c?void 0:c.orreqno}))),i.a.createElement(b.a,{span:8},i.a.createElement(lt,Object.assign({},ct,{label:"\u958b\u7acb\u79d1\u5225"}),i.a.createElement(rt.a,{readOnly:!0,bordered:!1,value:null===c||void 0===c?void 0:c.csect}))),i.a.createElement(b.a,{span:8},l.division===Oe.a.RAD?i.a.createElement(lt,Object.assign({},ot,{label:"\u6aa2\u67e5\u65e5\u671f"}),i.a.createElement(rt.a,{readOnly:!0,bordered:!1,value:"xxxx"})):i.a.createElement(lt,Object.assign({},ot,{label:"\u75c5\u7406\u865f"}),i.a.createElement(rt.a,{readOnly:!0,bordered:!1,value:null===c||void 0===c?void 0:c.orworkno})))),i.a.createElement(m.a,null,i.a.createElement(b.a,{span:24},i.a.createElement(lt,Object.assign({},ct,{label:"\u91ab\u56d1\u9805\u76ee"}),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:"".concat(null===c||void 0===c?void 0:c.orword)},style:{maxWidth:"100%",whiteSpace:"initial",borderBottom:"1px solid #d9d9d9",paddingBottom:5,paddingLeft:5,marginLeft:-15}})))),l.division===Oe.a.RAD&&i.a.createElement(m.a,null,i.a.createElement(b.a,{span:24},i.a.createElement(lt,Object.assign({},ct,{label:"\u6aa2\u67e5\u65e5\u671f"}),i.a.createElement(rt.a,{readOnly:!0,bordered:!1,value:"xxxx"})))),i.a.createElement(st,null),i.a.createElement(m.a,null,i.a.createElement(b.a,{span:24},i.a.createElement(dt,null,it(Object(U.a)((function(e){return i.a.createElement(ut,{key:e},it(Object(te.a)(ne.a,0),B.a,Object(V.a)([],[e]))(o)&&i.a.createElement(mt,{className:"my-1 font-normal underline"},e),it(Object(de.f)((function(t,n){var a=t.setting,r=Object(tt.a)(t,["setting"]);return i.a.createElement("div",{key:r.id},function(){var t="Gross"===e;return r.inline?i.a.createElement("div",{className:"ml-0",dangerouslySetInnerHTML:{__html:s(r,t?void 0:n+1)}}):r.type===at.e.HEADER?i.a.createElement("div",{className:"ml-0"},n+1,". ",a.text):i.a.createElement("div",{className:"ml-0"},t?"":n+1+"."," ",a.text,": ",a.value)}())})),Object(q.a)((function(e){var t=e.setting,n=Object(tt.a)(e,["setting"]);return!Object(nt.a)(t)&&!Object(nt.a)(t.value)||n.type===at.e.HEADER||n.inline})),Object(V.a)([],[e]))(d))})),ae.a)(d)))),i.a.createElement(st,null),i.a.createElement(m.a,{gutter:16},i.a.createElement(b.a,{span:8},i.a.createElement(lt,Object.assign({},ot,{label:"\u5224\u8b80\u91ab\u5e2b"}),i.a.createElement(rt.a,{readOnly:!0,bordered:!1,value:l.name}))),i.a.createElement(b.a,{span:8},i.a.createElement(lt,Object.assign({},ot,{label:"\u8907\u5be9\u91ab\u5e2b"}),i.a.createElement(rt.a,{readOnly:!0,bordered:!1,value:l.name}))),i.a.createElement(b.a,{span:8},i.a.createElement(lt,Object.assign({},ot,{label:"\u7533\u8acb\u91ab\u5e2b"}),i.a.createElement(rt.a,{readOnly:!0,bordered:!1,value:l.name})))),i.a.createElement(m.a,{gutter:16},i.a.createElement(b.a,{span:12},i.a.createElement(lt,Object.assign({},ot,{label:"\u5831\u544a\u8f38\u5165\u4eba\u54e1"}),i.a.createElement(rt.a,{bordered:!1}))),i.a.createElement(b.a,{span:12},i.a.createElement(lt,Object.assign({},ot,{label:"\u5831\u544a\u8907\u5be9\u4eba\u54e1"}),i.a.createElement(rt.a,{bordered:!1})))),i.a.createElement(st,null),i.a.createElement(m.a,{className:"mb-4"},i.a.createElement(b.a,{span:24},i.a.createElement("div",{className:"text-center"},"\u75c5\u89e3\u5c08\u91ab\u5b57\u7b2c000001\u865f"))),i.a.createElement(m.a,{className:"mt-4 hidden"},i.a.createElement(b.a,{span:24},i.a.createElement(dt,null,it(Object(U.a)((function(e){return i.a.createElement(pt,{key:e},it(Object(te.a)(ne.a,0),B.a,Object(V.a)([],[e]))(o)&&i.a.createElement(bt,{className:"my-1 mt-5 font-normal underline"},e),it(Object(de.f)((function(t,n){var a=t.setting,r=Object(tt.a)(t,["setting"]);return i.a.createElement("span",{key:r.id},function(){var t=!1;if("Pathological diagnosis"!==e&&"Notes"!==e||(t=!0),r.inline){var o=t?"span":"div";return i.a.createElement(o,{className:"ml-0",dangerouslySetInnerHTML:{__html:s(r,t||"Gross"===e&&1===Object(B.a)(d[e])?void 0:n+1)}})}return r.type===at.e.HEADER?t?"".concat(a.text,"."):i.a.createElement("div",{className:"ml-0"},n+1,". ",a.text):t?"".concat(a.text," ").concat(a.value,", "):i.a.createElement("div",{className:"ml-0"},n+1,". ",a.text,": ",a.value)}())})),Object(q.a)((function(e){var t=e.setting,n=Object(tt.a)(e,["setting"]);return!Object(nt.a)(t)&&!Object(nt.a)(t.value)||n.type===at.e.HEADER||n.inline})),Object(V.a)([],[e]))(d))})),ae.a)(d)))))}()))}var ht=n(261),gt=n(1125),vt=n(1126),Ot=n(455),jt=n(444),yt=n(27).compose,Et=Re.Link;function xt(e){var t=e.affixed,n=void 0!==t&&t,a=e.onChange,r=e.onClick,o=e.snippetList;return i.a.createElement(h.a,{offsetTop:0,onChange:a},i.a.createElement(Re,{showInkInFixed:!0,affix:!1,className:"is--fixed",style:kt(n),onClick:r},yt(Object(de.f)((function(e,t){return i.a.createElement(Et,{key:"".concat(e,"-").concat(t),href:e,title:e},yt(Object(de.f)((function(t){return i.a.createElement(Et,{key:t.id,href:"".concat(e,"-").concat(t.id),title:Object(V.a)(t.id,["setting","text"],t)})})),Object(V.a)([],[e]))(o))})),ae.a)(o)))}function kt(e){if(e)return{marginLeft:-16,marginRight:-16,background:"#fff",padding:24,borderBottomLeftRadius:8,borderBottomRightRadius:8}}var wt=n(27).compose,Nt=Object(C.d)("div").withConfig({displayName:"report-typing-sidemenu___StyledDiv",componentId:"sc-1aw1z4q-0"})({width:65}),Ct=Object(C.d)("div").withConfig({displayName:"report-typing-sidemenu___StyledDiv2",componentId:"sc-1aw1z4q-1"})({width:65}),St=Object(C.d)("div").withConfig({displayName:"report-typing-sidemenu___StyledDiv3",componentId:"sc-1aw1z4q-2"})({width:65});function It(e){var t=e.onLayoutChnage,n=e.onReportChange,a=e.onTabChange,r=e.onPhraseListModalVisible,o=e.category,c=e.templateName,l=e.snippetList,s=Object(se.b)().user,d=i.a.useState(!1),u=Object(N.a)(d,2),p=u[0],f=u[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(b.a,{span:5},i.a.createElement(Qe.a,{defaultActiveKey:[1,2],expandIcon:function(){return null},className:"shadow-2xl"},i.a.createElement(Qe.a.Panel,{header:i.a.createElement("div",{className:"text-center relative"},"\u5831\u544a\u5167\u5bb9",i.a.createElement(v.a,{title:"\u6536\u5408\u5831\u544a\u5167\u5bb9"},i.a.createElement(gt.a,{className:"absolute cursor-pointer",style:{top:5,right:0},onClick:t}))),key:1},i.a.createElement(m.a,{className:"mb-2 text-sm text-darkGrey"},i.a.createElement(b.a,{span:24,className:"mb-3"},i.a.createElement(Nt,{className:"inline-block"},"\u5224\u8b80\u91ab\u5e2b"),i.a.createElement(w.a.Item,{noStyle:!0,name:"doctor",initialValue:s.name},i.a.createElement(rt.c,{className:"w-2/3",bordered:!1}))),i.a.createElement(b.a,{span:24,className:"my-3"},i.a.createElement(Ct,{className:"inline-block"},"\u7533\u8acb\u5e8f\u865f"),i.a.createElement(w.a.Item,{noStyle:!0,name:"orreqno"},i.a.createElement(rt.c,{className:"w-2/3",bordered:!1}))),i.a.createElement(b.a,{span:24,className:"my-3"},i.a.createElement(St,{className:"inline-block"},"\u5831\u544a\u683c\u5f0f"),i.a.createElement(w.a.Item,{noStyle:!0,name:"templateName",initialValue:c},i.a.createElement(he.a,{className:"w-2/3",onChange:n}))),"overview"===o&&i.a.createElement(b.a,{span:24,className:"mt-3"},i.a.createElement(xt,{affixed:p,onClick:function(e,t){var n;e.preventDefault();var r=wt((function(e){var t=Object(ht.a)(e),n=t[0],a=t.slice(1);return[n,Object(F.a)("-")(a)]}),Object(Ot.a)("-"),Object(V.a)("",["href"]))(t),i=Object(N.a)(r,2),c=i[0],l=i[1];"overview"!==o&&a(c),l&&window.scroll({behavior:"smooth",left:0,top:null===(n=document.getElementById(l))||void 0===n?void 0:n.offsetTop})},onChange:function(e){f(e)},snippetList:l})))),i.a.createElement(Qe.a.Panel,{header:i.a.createElement("div",{className:"text-center"},"\u6a21\u7248\u5de5\u5177"),key:2},i.a.createElement(m.a,null,i.a.createElement(b.a,{span:24},i.a.createElement(jt.a,null),i.a.createElement("div",{className:"flex items-center mt-2 cursor-pointer",onClick:r},i.a.createElement(vt.a,{className:"mr-2"}),"Phrase")))))))}var _t=n(139),Tt=n(269),Dt=n(442),At=n(334),Rt=n(27).compose;function Lt(e){var t=e.onOk,n=e.onCancel,a=Object(tt.a)(e,["onOk","onCancel"]),r=Object(Dt.c)().data,o=Object(At.a)(),c=o.rowSelection,l=o.selectedRows;return i.a.createElement(_t.a,Object.assign({},a,{visible:!0,title:"\u9078\u64c7\u7247\u8a9e\u6a21\u7248",bodyStyle:{paddingTop:48,paddingLeft:64,paddingRight:64},width:800,footer:[i.a.createElement(Ye.a,{key:"btn-cancel",color:"outline",onClick:n},"\u53d6\u6d88"),i.a.createElement(Ye.a,{key:"btn-ok",color:"primary",onClick:function(){t(Rt(G.a,Object(W.a)("setting"))(l)),n()},className:"ml-3"},"\u78ba\u8a8d")],onCancel:n,keyboard:!1,maskClosable:!1}),i.a.createElement(Tt.a,{size:"small",columns:[{title:"\u6a21\u7248\u540d\u7a31",dataIndex:"name"},{title:"\u5275\u4f5c\u8005",dataIndex:"author"},{title:"\u72c0\u614b",dataIndex:"statusName"},{title:"\u5275\u4f5c\u6642\u9593",dataIndex:"createdAtStr"},{title:"\u4e0a\u6b21\u4fee\u6539\u6642\u9593",dataIndex:"updatedAtStr"},{title:"\u6a21\u7248\u63cf\u8ff0",dataIndex:"description"}],dataSource:r,rowSelection:c}))}var Mt,Pt=n(144),zt=n(27).compose;!function(e){e.VISIBLE_RIGHT="1",e.VISIBLE_LEFT="2"}(Mt||(Mt={}));var Vt=n(27),Ft=Vt.compose,Ut=Vt.cond,Ht=Object(R.a)(Object(L.a)(!1),Object(M.a)(5),Object(M.a)(0)),Bt=Object(C.d)("div").withConfig({displayName:"report-typing___StyledDiv",componentId:"fs5rxp-0"})((function(e){return{left:e._css,top:7}})),qt=Object(C.d)("div").withConfig({displayName:"report-typing___StyledDiv2",componentId:"fs5rxp-1"})({background:"#fff"}),Yt=Object(C.d)("span").withConfig({displayName:"report-typing___StyledSpan",componentId:"fs5rxp-2"})({whiteSpace:"nowrap"}),Wt=Object(C.d)("div").withConfig({displayName:"report-typing___StyledDiv3",componentId:"fs5rxp-3"})((function(e){return{right:e._css2,top:7}}));var Gt=function(e){var t=Object(se.b)().user;Object(he.j)(!0),Object(oe.a)("\u8f38\u5165\u5831\u544a"),Object(le.a)([{name:"\u8f38\u5165\u5831\u544a"},{name:t.division===Oe.a.PATH?"\u75c5\u7406\u5831\u544a\u8f38\u5165":"\u653e\u5c04\u5831\u544a\u8f38\u5165"}]);var n=e.match.params,o=w.a.useForm(),c=Object(N.a)(o,1)[0],l=Object(ce.a)(),s=Object(N.a)(l,2),u=s[0],p=s[1],f=function(){var e=i.a.useState([Mt.VISIBLE_LEFT,Mt.VISIBLE_RIGHT]),t=Object(N.a)(e,2),n=t[0],r=t[1],o=function(e){return function(){r((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):[].concat(Object(a.a)(t),[e])}))}},c=o(Mt.VISIBLE_LEFT),l=o(Mt.VISIBLE_RIGHT);return{visibleLayouts:n,setVisibleLayouts:r,toggleLeftMenu:c,toggleRightMenu:l,leftContentVisible:n.includes(Mt.VISIBLE_LEFT),rightContentVisible:n.includes(Mt.VISIBLE_RIGHT),handleLayoutChange:o}}(),g=f.setVisibleLayouts,O=f.leftContentVisible,y=f.rightContentVisible,k=f.toggleLeftMenu,C=f.toggleRightMenu,_=function(e){var t=e.form,n=e.setVisibleLayouts,a=e.onExportableChange,r=Object(tt.a)(e,["form","setVisibleLayouts","onExportableChange"]),o=r.match.params,c=Object(de.g)(r.location.search);i.a.useEffect((function(){c.doctor&&t.setFieldsValue({doctor:c.doctor}),c.orreqno&&t.setFieldsValue({orreqno:c.orreqno})}),[JSON.stringify(c)]);var l=o.id||c.orreqno;i.a.useEffect((function(){m(c.templateName)}),[c.templateName]);var s=i.a.useState(c.templateName),d=Object(N.a)(s,2),u=d[0],m=d[1],p=Object(ge.c)({id:l}),b=p.data,f=p.loadingM,h=Object(ge.e)({id:l,onError:function(e){Object(L.a)("ORREQNO is not exist.",null===e||void 0===e?void 0:e.message)&&(ve.a.push(dn),E.a.error("\u7533\u8acb\u5e8f\u865f\u4e0d\u5b58\u5728\uff0c\u8acb\u91cd\u65b0\u8f38\u5165"))}}),g=h.item,v=h.loading,O=Object(he.h)({id:u,data:g,shouldFetch:!Object(nt.a)(u),errorMsg:!1,onCompleted:function(e){var n=zt(H.a,Object(V.a)([],["template"]))(e);n&&n.templateName&&(t.setFieldsValue({templateId:y.templateName}),m(y.templateName))}}),j=O.loading,y=O.reportTemplate,k=O.setReportTemplate,w=Object(tt.a)(O,["loading","reportTemplate","setReportTemplate"]);i.a.useEffect((function(){y&&t.setFieldsValue(y),"s"===y.status&&t.setFieldsValue({status:void 0}),"\u5b8c\u6210"===y.orstatus&&(n([]),a())}),[JSON.stringify(y)]);var C=j||f||v;return Object(x.a)(Object(x.a)({},w),{},{templateName:u,reportTemplate:y,medicalorder:b,handleReportTemplateChange:function(e){Object(Pt.a)({content:"\u8b8a\u66f4\u5f8c\u6703\u4ee5\u65b0\u6a21\u7248\u4f86\u53d6\u4ee3\u539f\u6709\u7684\u6a21\u7248\u554f\u984c\uff0c\u78ba\u8a8d\u8981\u8b8a\u66f4\u55ce\uff1f",okText:"\u78ba\u8a8d\u8b8a\u66f4",onOk:function(){m(e),k((function(t){return Object(x.a)(Object(x.a)({},t),{},{templateName:e})}))},onCancel:function(){return t.setFieldsValue({templateName:u})}})},readOnly:"\u5b8c\u6210"===y.orstatus,loading:C})}(Object(x.a)(Object(x.a)({},e),{},{form:c,setVisibleLayouts:g,onExportableChange:p})),D=_.loading,R=_.total,M=_.category,re=_.reportTemplate,je=_.snippetList,ye=_.handleTabEdit,Ee=_.handleTabChange,xe=_.handleTabMove,ke=_.handleTabNameChange,we=_.handleSnippetUpdate,Ne=_.handleReportTemplateChange,Ce=_.templateName,Se=_.medicalorder,Ie=_.readOnly;Object(r.useEffect)((function(){var e=function(e){u||((e.ctrlKey&&"W"===Object(P.a)(e.key)||e.ctrlKey&&"S"===Object(P.a)(e.key))&&(e.preventDefault(),e.stopPropagation()),e.ctrlKey&&"S"===Object(P.a)(e.key)&&Ve(),e.ctrlKey||"F9"!==e.key||Ae())};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[JSON.stringify(je),JSON.stringify(re),JSON.stringify(Se)]),Object(r.useEffect)((function(){t.division!==Oe.a.PATH&&t.division!==Oe.a.RAD&&p()}),[t.division]);var _e=Object(ce.a)(),Te=Object(N.a)(_e,2),De=Te[0],Ae=Te[1],Re=Object(ge.a)({onCompleted:function(e){ve.a.push(Object(z.a)(":id",null===e||void 0===e?void 0:e.data.orreqno)(cn)),E.a.success("\u5831\u544a\u5df2\u5132\u5b58\u6210\u529f")}}),Le=Object(N.a)(Re,2),Me=Le[0],Pe=Le[1],ze=Object(he.b)().templateByName,Ve=function(){c.validateFields().then((function(e){Pe(Object(x.a)(Object(x.a)(Object(x.a)({},e),n.id?{orreqno:n.id}:{}),{},{hhisnum:(null===Se||void 0===Se?void 0:Se.hhisnum)||re.hhisnum,templateId:Object(V.a)(re.templateId,[e.templateName,"id"],ze),setting:je}))})).catch((function(e){E.a.config({maxCount:1}),E.a.error(Ft(Object(F.a)("\n"),Object(U.a)((function(e){return"".concat(Ft(Object(V.a)("",[]),H.a,Object(V.a)([],["name"]))(e),": ").concat(Ft(Object(F.a)("\u3001"),Object(V.a)([],["errors"]))(e))})),Object(V.a)([],["errorFields"]))(e))}))};Object(le.c)(i.a.createElement(Je,{readOnly:Ie,data:re,isExport:u,onToggleExport:p,onOk:Ve}));var Ue=i.a.useState(0),He=Object(N.a)(Ue,2),Be=He[0],qe=He[1];i.a.useEffect((function(){Ye(je)}),[JSON.stringify(je)]);var Ye=function(e){var t=Ft(B.a,Object(q.a)(Ft(Y.a,de.e)),Object(W.a)("value"),Object(W.a)("setting"),G.a,J.a)(je),n=Ft(K.a,Object(U.a)((function(e){var t=ie.a.load(e.html),n=!0;return t("input").each((function(e,a){Object(de.e)(t(a).val())&&(n=!1)})),t("select").each((function(e,a){Object(de.e)(t(a).val())&&(n=!1)})),n?1:0})),Object(q.a)((function(e){return"TemplateCloze"===e.type})),G.a,J.a)(je);qe(Math.round((t+n)/R*100))},We=function(e,t){if(e){var n=Ft(Object(V.a)([],[]),H.a,Q.a,Object(V.a)({},["data"]))(e),a=Object(N.a)(n,2),r=a[0],i=a[1];if(r){var o=je[M],c=o.filter((function(e){return e.id===r}))[0],l=o.indexOf(c);we(Object(X.a)(l,Object(x.a)(Object(x.a)({},c),{},{setting:Object(x.a)(Object(x.a)({},c.setting),{},{value:Ut([[Object($.a)(Array),Object(F.a)("\u3001")],[function(e){return A.a.isMoment(e)},function(e){return"TemplateDate"===c.type?e.format("YYYY/MM/DD"):e.format("HH:mm:ss")}],[Z.a,ee.a]])(i)})}),o))}}};i.a.useEffect((function(){We(null,c.getFieldsValue())}),[R]);var Ge=14+Ht(O)+Ht(y),Ke=t.division===Oe.a.PATH?Se:re;return i.a.createElement(me.a,{className:"is--preview"},De&&i.a.createElement(Lt,{onOk:function(e){var t=[].concat(Object(a.a)(je[M]),Object(a.a)(e.map((function(e){return Object(x.a)(Object(x.a)({},e),{},{fromMenu:!1,id:"".concat(e.id,"__").concat(Object(de.n)())})}))));we(t)},onCancel:Ae}),i.a.createElement(j.a,null),i.a.createElement(d.a,{spinning:D||Me},i.a.createElement(ue.a,null,i.a.createElement(w.a,{form:c,labelAlign:u?"left":"right",className:"relative",onValuesChange:We},!O&&!Ie&&i.a.createElement(v.a,{title:"\u5c55\u958b\u5831\u544a\u5167\u5bb9"},i.a.createElement(Bt,{className:"absolute z-10 bg-secondary text-white rounded-tr-md rounded-br-md flex items-center justify-center cursor-pointer py-2 pl-1",onClick:k,_css:-40},i.a.createElement(S.a,{className:"text-xl"}))),i.a.createElement(m.a,{gutter:16},O&&i.a.createElement(It,{onLayoutChnage:k,onReportChange:Ne,onTabChange:Ee,onPhraseListModalVisible:Ae,snippetList:je,category:M,templateName:Ce}),i.a.createElement(b.a,{span:Ge},!u&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"pt-2 bg-white rounded-lg shadow-2xl"},i.a.createElement(h.a,{offsetTop:0},i.a.createElement(qt,{className:T()("px-4 mb-4 -mt-2","flex items-center justify-between","rounded-lg shadow-sm","text-xl text-darkGrey font-medium")},i.a.createElement("div",null,t.division===Oe.a.PATH?"Pathological":"Radiological"," ","Image Report",i.a.createElement("div",{className:"text-base text-gray-600"})),i.a.createElement(Fe,{percent:Be,total:"".concat(Be||0,"%"),style:{width:70,paddingTop:6},height:80})))),i.a.createElement("div",{className:"rounded-lg shadow-2xl"},i.a.createElement(fe.a,{type:"editable-card",activeKey:M,onChange:Ee,onEdit:ye,tabBarGutter:8,moveTabNode:xe,className:"flex-1"},Ft(Object(de.f)((function(e,t){return i.a.createElement(fe.a.TabPane,{closable:!0,key:e,tab:i.a.createElement(Yt,{contentEditable:!0,suppressContentEditableWarning:!0,spellCheck:!1,className:"outline-none",onBlur:ke(e)},e)},i.a.createElement(b.a,{span:24,className:"p-4 report-template-builder__main-content"},function(e){var t=Object(V.a)(null===re||void 0===re?void 0:re.orword,["orword"],Se);return!!t&&0===e&&i.a.createElement("div",{className:"mb-4 px-1",dangerouslySetInnerHTML:{__html:"".concat(t)}})}(t),i.a.createElement(pe.a,{draggable:!0,snippetList:je[e],onSnippetUpdate:we})))})),ae.a)(je),i.a.createElement(fe.a.TabPane,{key:"overview",tab:"Overview"},Ft(Object(U.a)((function(e){return i.a.createElement("div",{key:e,className:"px-3 bg-white"},function(e){return Ft(Object(te.a)(ne.a,0),B.a,Object(V.a)([],[e]))(je)?i.a.createElement("h2",{id:e,className:"my-2"},e):null}(e),Ft(Object(be.d)({className:"mb-0"}),Object(V.a)([],[e]))(je))})),ae.a)(je))))),u&&i.a.createElement("div",{className:"rounded-log shadow-2x bg-white p-3 px-5"},i.a.createElement("div",{id:"editor"}),i.a.createElement(ft,{data:{template:re,medical:Ke,snippetList:je}}))),y&&i.a.createElement(b.a,{span:5},i.a.createElement(et,{data:Ke,onToggle:C}))),!y&&!Ie&&i.a.createElement(v.a,{title:"\u5c55\u958b\u91ab\u56d1\u5167\u5bb9"},i.a.createElement(Wt,{className:"absolute z-10 bg-secondary text-white rounded-tl-md rounded-bl-md flex items-center justify-center cursor-pointer py-2 pr-1",onClick:C,_css2:-49},i.a.createElement(I.a,{className:"text-xl"})))))))},Jt=i.a.lazy((function(){return n.e(13).then(n.bind(null,1191))})),Kt=i.a.lazy((function(){return n.e(11).then(n.bind(null,1192))})),Qt=i.a.lazy((function(){return n.e(14).then(n.bind(null,1193))})),Xt=i.a.lazy((function(){return n.e(15).then(n.bind(null,1194))})),$t=i.a.lazy((function(){return n.e(18).then(n.bind(null,1195))})),Zt=(i.a.lazy((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,1196))})),i.a.lazy((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,1196))}))),en=i.a.lazy((function(){return n.e(10).then(n.bind(null,1197))})),tn=i.a.lazy((function(){return Promise.all([n.e(7),n.e(19)]).then(n.bind(null,1204))})),nn=i.a.lazy((function(){return n.e(12).then(n.bind(null,1201))})),an=i.a.lazy((function(){return Promise.all([n.e(6),n.e(17)]).then(n.bind(null,1202))})),rn="/report-templates",on="/report-input",cn="".concat(on,"/:id"),ln="".concat(rn,"/:id"),sn="".concat(rn,"/create"),dn="/report-inquiry",un="/report-version-comparison",mn="/report-list",pn="/phrase-list",bn="/phrase-list/create",fn="".concat(pn,"/:id"),hn="/blood-bank-review",gn="/yellow-card-inquiry",vn="/medical-order/:id",On="/image-scheduler",jn="/image-viewer-tutorial";function yn(){var e=Object(se.b)().user,t=e.division===Oe.a.PATH,n=e.division===Oe.a.RAD,r=e.isClinician,i=e.isClinician&&e.division===Oe.a.PATH,s=t||r&&i,d=n||r&&!i;return[].concat(Object(a.a)(s?[{id:666,title:"\u5f71\u50cf\u6392\u73ed",path:On,component:nn},{id:999,title:"\u5831\u544a\u67e5\u8a62",path:mn,component:Jt}]:[]),Object(a.a)(d?[{id:99999,title:"\u5831\u544a\u67e5\u8a62",path:mn,component:Kt},{id:99999878,title:"\u5831\u544a\u67e5\u8a62",path:"/radiol-report-list",component:Kt}]:[]),[{id:3,title:"\u8f38\u5165\u5831\u544a",path:dn,component:l},{id:15,title:"\u8f38\u5165\u5831\u544a",path:cn,component:Gt},{id:10,title:"\u8f38\u5165\u5831\u544a",path:on,component:Gt},{id:87878,title:"\u7248\u672c\u6bd4\u8f03",path:un,component:tn},{id:87,title:"\u9ec3\u5361\u65b0\u6aa2\u7d22",path:gn,component:Qt},{id:88,title:"\u8840\u5eab\u5099\u8840\u5be9\u67e5\u4f5c\u696d",path:hn,component:Xt},{id:89,title:"\u91ab\u56d1\u5167\u5bb9",path:vn,component:$t},{id:90,title:"\u7247\u8a9e\u6a21\u7248",path:"phrase",children:[{id:93,title:"\u7247\u8a9e\u6a21\u7248\u6e05\u55ae",path:pn,component:Zt},{id:94,title:"\u7247\u8a9e\u6a21\u7248\u7de8\u8f2f",path:bn,component:en},{id:95,title:"\u7247\u8a9e\u6a21\u7248\u7de8\u8f2f",path:fn,component:en}]},{id:4,title:"\u7d50\u69cb\u5f0f\u5831\u544a\u6a21\u7248",path:"report-template",children:[{id:5,title:"\u5831\u544a\u6a21\u7248\u6e05\u55ae",path:rn,component:c},{id:6,title:"\u5831\u544a\u6a21\u7248\u65b0\u589e",path:sn,component:o},{id:7,title:"\u5831\u544a\u6a21\u7248\u7de8\u8f2f",path:ln,component:o}]},{id:878788,title:"\u5f71\u50cf\u6559\u5b78",path:jn,component:an}])}},433:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n(275);var a=n(166),r=n.n(a),i=n(12),o=n(0),c=n.n(o),l=n(4),s=n.n(l),d=n(554),u=n(178),m=Object(i.d)("div").withConfig({displayName:"layout___StyledDiv",componentId:"sc-1iclh1-0"})({background:"rgb(221, 228, 237)"});function p(e){var t=e.children,n=e.style,a=e.className,i=void 0===a?"pr-12":a;return c.a.createElement(r.a,null,c.a.createElement(r.a.Content,{style:{background:"linear-gradient(-90deg,#42c2b8,".concat(u.a.primary,")")}},c.a.createElement(m,{className:s()("pl-8 pt-6 pb-12",i),style:n},t)),c.a.createElement(d.a,null))}},434:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(420),o=n(48),c={restoreOnUnmount:!1};t.a="undefined"!==typeof document?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,n=r.a.useRef(document.title);document.title=Object(i.a)(/%s/,e)(o.b.appTitle),r.a.useEffect((function(){return t&&t.restoreOnUnmount?function(){document.title=n.current}:void 0}),[])}:function(e){}},435:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var a=n(36),r=n(49),i=n(45),o=n(46),c=n(0),l=n.n(c),s=n(12),d=n(4),u=n.n(d),m=n(48),p=n(11),b=n(51),f=n(198),h=n(614),g=n.n(h),v=n(427),O=n.n(v),j=n(97),y=n.n(j),E=n(332);function x(){}function k(e,t,n){return Math.floor(Math.min(t,Math.max(e,n)))}function w(e){return function(t,n){var a=t.y,r=t.h,i=t.x,o=t.w,c=Math.min(r/2,e);if(n.y>=a&&n.y<=a+r&&n.x>=i&&n.x<=i+o){if(n.y<a+c)return(n.y-a-c)/c;if(n.y>a+r-c)return-(a+r-n.y-c)/c}return 0}}var N,C=(N=150,function(e,t){var n=e.x,a=e.w,r=e.y,i=e.h,o=Math.min(a/2,N);if(t.x>=n&&t.x<=n+a&&t.y>=r&&t.y<=r+i){if(t.x<n+o)return(t.x-n-o)/o;if(t.x>n+a-o)return-(n+a-t.x-o)/o}return 0}),S=w(150);var I=function(e){var t=function(t){Object(i.a)(c,t);var n=Object(o.a)(c);function c(e,t){var r;return Object(a.a)(this,c),(r=n.call(this,e,t)).handleEvent=function(e){r.dragging&&!r.attached&&(r.attach(),r.updateScrolling(e))},r.updateScrolling=g()((function(e){var t=r.container.getBoundingClientRect(),n={x:t.left,y:t.top,w:t.width,h:t.height},a=function(e){return"touchmove"===e.type?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY}}(e);r.scaleX=r.props.horizontalStrength(n,a),r.scaleY=r.props.verticalStrength(n,a),r.frame||!r.scaleX&&!r.scaleY||r.startScrolling()}),100,{trailing:!1}),r.scaleX=0,r.scaleY=0,r.frame=null,r.attached=!1,r.dragging=!1,r}return Object(r.a)(c,[{key:"componentDidMount",value:function(){this.props.useScroll&&this._initial()}},{key:"_initial",value:function(){var e=this;this.container=Object(b.findDOMNode)(this.wrappedInstance),this.container.addEventListener("dragover",this.handleEvent),window.document.body.addEventListener("touchmove",this.handleEvent),this.clearMonitorSubscription=this.context.dragDropManager.getMonitor().subscribeToStateChange((function(){return e.handleMonitorChange()}))}},{key:"componentWillUnmount",value:function(){this.props.useScroll&&this._remove()}},{key:"_remove",value:function(){this.container.removeEventListener("dragover",this.handleEvent),window.document.body.removeEventListener("touchmove",this.handleEvent),this.clearMonitorSubscription(),this.stopScrolling()}},{key:"handleMonitorChange",value:function(){var e=this.context.dragDropManager.getMonitor().isDragging();!this.dragging&&e?this.dragging=!0:this.dragging&&!e&&(this.dragging=!1,this.stopScrolling())}},{key:"attach",value:function(){this.attached=!0,window.document.body.addEventListener("dragover",this.updateScrolling),window.document.body.addEventListener("touchmove",this.updateScrolling)}},{key:"detach",value:function(){this.attached=!1,window.document.body.removeEventListener("dragover",this.updateScrolling),window.document.body.removeEventListener("touchmove",this.updateScrolling)}},{key:"startScrolling",value:function(){var e=this,t=0;!function n(){var a=e.scaleX,r=e.scaleY,i=e.container,o=e.props,c=o.strengthMultiplier,l=o.onScrollChange;if(0!==c&&a+r!==0){if(t++%2){var s=i.scrollLeft,d=i.scrollTop,u=i.scrollWidth,m=i.scrollHeight,p=i.clientWidth,b=i.clientHeight;l(a?i.scrollLeft=k(0,u-p,s+a*c):s,r?i.scrollTop=k(0,m-b,d+r*c):d)}e.frame=O()(n)}else e.stopScrolling()}()}},{key:"stopScrolling",value:function(){this.detach(),this.scaleX=0,this.scaleY=0,this.frame&&(O.a.cancel(this.frame),this.frame=null)}},{key:"render",value:function(){var t=this,n=this.props,a=(n.strengthMultiplier,n.verticalStrength,n.horizontalStrength,n.onScrollChange,Object(p.a)(n,["strengthMultiplier","verticalStrength","horizontalStrength","onScrollChange"]));return l.a.createElement(e,Object.assign({ref:function(e){t.wrappedInstance=e}},a))}}]),c}(l.a.Component);return t.displayName="Scrolling(".concat(Object(E.a)(e),")"),t.defaultProps={useScroll:!0,onScrollChange:x,verticalStrength:S,horizontalStrength:C,strengthMultiplier:30},t.contextType=f.a,y()(t,e)}(s.d.div.withConfig({displayName:"snippet-scrollable-container__DndScrollableElement",componentId:"sc-15szisj-0"})(["height:",";padding-top:0;overflow-y:scroll;.report-template-builder{&__main-content{min-height:371.25mm;margin:0 auto;padding:16px;box-sizing:border-box;max-width:100%;background:#fff;border-top-right-radius:16px;border-bottom-left-radius:16px;border-bottom-right-radius:16px;}&__contentarea{min-height:348.75mm;}&__contentarea--fixed-layout{min-height:auto;}&__snippet-toolbar{visibility:hidden;}}.ui-draggable{&:focus,&:active{outline:0;.course-builder__snippet-toolbar{visibility:visible;opacity:1;transition:visibility 0s,opacity 0.3s,max-height 0.6s linear;}}}&.is--preview{height:auto;}"],Object(m.c)()?"72vh":"85vh")),_=w(150),T=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.useScroll;return l.a.createElement(I,{useScroll:n,verticalStrength:_,strengthMultiplier:100,className:u()("report-template-builder",t)},this.props.children)}}]),n}(l.a.Component);T.defaultProps={useScroll:!0}},436:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(144),r=n(90);function i(e){return function(){Object(a.a)({title:"\u78ba\u8a8d\u8981\u53d6\u6d88\u55ce\uff1f",content:"\u53d6\u6d88\u5f8c\u672a\u5132\u5b58\u7684\u8cc7\u6599\u5c07\u6703\u6d88\u5931\uff0c\u78ba\u8a8d\u53d6\u6d88\u55ce\uff1f",okText:"\u78ba\u8a8d",onOk:function(){e&&r.a.push(e)}})}}},439:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(9),r=n(0),i=n.n(r),o=n(48);function c(){var e=i.a.useState(Object(o.c)()),t=Object(a.a)(e,2),n=t[0],r=t[1];return i.a.useEffect((function(){var e=function(){var e=window.innerWidth;window.innerHeight;r(Object(o.c)()||e<=1024)};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),function(){window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}}),[]),n}},442:function(e,t,n){"use strict";n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return N})),n.d(t,"b",(function(){return C}));var a=n(9),r=n(11),i=n(3),o=n(0),c=n.n(o),l=n(29),s=n(44),d=n(104),u=n(234),m=n(81),p=n(37),b=n(22),f=n(70),h=n(111),g=n(79),v=n(18),O=n(27).compose,j=O(f.b,Object(l.a)((function(e){return Object(i.a)(Object(i.a)({},e),{},{id:e.no||e.id,name:e.templateName,description:e.templateDescription,setting:O(Object(l.a)((function(e){return Object(i.a)(Object(i.a)({},e),e.inline?{html:decodeURIComponent(e.html)}:{})})),Object(s.a)([],["template"]))(e),statusName:"\u8349\u7a3f",createdAt:Object(v.l)(e.createDate),createdAtStr:Object(v.k)(e.createDate,"YYYY.MM.DD HH:mm"),updatedAt:Object(v.l)(e.updateDate),updatedAtStr:Object(v.k)(e.updateDate,"YYYY.MM.DD HH:mm")})})),Object(s.a)([],[]));function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=void 0===t?0:t,a=e.division,o=void 0===a?b.a.PATH:a,c=Object(r.a)(e,["id","division"]),l=Object(h.a)("/api/v1/c5/getPhraseTemplateList/{id}&{division}",{variables:Object(i.a)(Object(i.a)({},c),{},{id:n,division:o})}),s=l.data,d=Object(r.a)(l,["data"]);return Object(i.a)(Object(i.a)({},d),{},{data:j(s)})}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(g.e)("/api/v1/c5/createPhraseTemplate",Object(i.a)(Object(i.a)({},e),{},{method:"POST"})),n=t.loading,a=t.mutate;return[n,a]}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(g.e)("/api/v1/c5/deletePhraseTemplate",Object(i.a)(Object(i.a)({},e),{},{method:"POST"})),n=t.loading,a=t.mutate;return[n,a]}var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(p.b)(),n=t.user,a=y(Object(i.a)(Object(i.a)({},n),e)),o=a.data,c=Object(r.a)(a,["data"]),l={content:o,total:Object(m.a)(o),totalPages:Math.floor(Object(m.a)(o)/10+1)};return Object(i.a)(Object(i.a)({},c),{},{dataSource:l,data:l})},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=E(e),n=Object(a.a)(t,2),r=n[0],o=n[1],c=Object(p.b)(),d=c.user,u=function(e){return o(Object(i.a)(Object(i.a)({},e),{},{userId:d.id,division:d.division,status:b.e.DRAFT,templateName:e.name,templateDescription:e.description,template:O(Object(l.a)((function(e){var t;return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.setting),e.inline?{clozeId:e.id,html:encodeURIComponent(e.html)}:{topicId:e.id,toolTip:null===e||void 0===e||null===(t=e.setting)||void 0===t?void 0:t.tooltip})})),Object(s.a)([],["setting"]))(e)}))};return[r,u]},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=x(e),n=Object(a.a)(t,2),r=n[0],o=n[1],c=Object(p.b)(),l=c.user,s=function(e){return o(Object(i.a)(Object(i.a)({},e),{},{userId:l.id,division:l.division,TemplateName:e.name}))};return[r,s]},C=function(e){var t=Object(p.b)().user,n=function(e){var t=e.userId,n=void 0===t?0:t,o=e.division,m=void 0===o?b.a.PATH:o,p=e.name,g=void 0===p?"":p,v=e.data,y=Object(r.a)(e,["userId","division","name","data"]),E=Object(h.a)(g?"/api/v1/c5/getPhraseTemplate/{userId}&{division}&{name}":null,{variables:Object(i.a)(Object(i.a)({},y),{},{userId:n,division:m,name:g})}),x=O(d.a,j,Object(s.a)([],["data"]))(E),k=c.a.useState({setting:[]}),w=Object(a.a)(k,2),N=w[0],C=w[1];c.a.useEffect((function(){(null===v||void 0===v?void 0:v.id)&&C(O(d.a,f.b,u.a)(v))}),[v]),c.a.useEffect((function(){x&&C((function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),x),{},{author:"Author"})}))}),[JSON.stringify(x)]);var S=Object(s.a)([],["setting"])(N);c.a.useEffect((function(){D(S)}),[JSON.stringify(S)]);var I=c.a.useState(S),_=Object(a.a)(I,2),T=_[0],D=_[1],A={};return Object(i.a)(Object(i.a)({},E),{},{phraseTemplate:N,snippetList:T,setSnippetList:D,snippetById:Object(l.a)((function(e){return A[e.id]=e}),T)})}(Object(i.a)(Object(i.a)({},e),{},{userId:t.id,division:t.division,name:e.id})),o=n.setSnippetList,m=n.snippetList,g=Object(r.a)(n,["setSnippetList","snippetList"]);return Object(i.a)(Object(i.a)({},g),{},{snippetList:m,setSnippetList:o,handleSnippetUpdate:o})}},443:function(e,t,n){"use strict";var a=n(67),r=n(11),i=n(36),o=n(49),c=n(45),l=n(46),s=n(3),d=n(12),u=n(0),m=n.n(u),p=n(72),b=n(127),f=n(50),h=n(81),g=n(451),v=n(305),O=n(413),j=n(449),y=n(157),E=n(56),x=n(416),k=n(411),w=n(94),N=n(179),C=n(44),S=n(215),I=n(4),_=n.n(I),T=n(18),D=n(211),A=n(337),R=d.d.div.attrs({className:"block-placeholder"}).withConfig({displayName:"snippet-block-placeholder",componentId:"ot8tdn-0"})(["display:flex;align-items:center;padding-left:25px;height:50px;border:rgba(225,225,225,0.9) 2px ",";background-color:transparent;margin-bottom:35px;"],(function(e){return e.border||"dashed"})),L=n(163),M=n(27).compose,P=Object(b.DropTarget)(D.a.BOARD,{drop:function(e,t,n){if(n&&n.props.draggable){var a=t.canDrop(),r=n.state.placeholderIndex,i=t.getItem();a&&i.fromMenu&&n.handleSnippetDrop(Object(s.a)(Object(s.a)({},i),{},{placeholderIndex:r})),a&&!i.fromMenu&&n.handleSnippetMove(i.id,r)}},canDrop:function(e,t){if(0===e.snippetList.length&&t.isOver())return!0;var n=t.getClientOffset(),a=document.elementFromPoint(n.x,n.y);return Object(L.a)(a)},hover:function(e,t,n){var a=t.getClientOffset(),r=Object(L.c)(a),i=r.placeholderIndex,o=r.isOverSnippet,c=r.overSnippet;if(o){var l=c.getBoundingClientRect(),s=(l.bottom-l.top)/2;a.y-l.top<s&&(i-=1),t.canDrop()&&!Object(f.a)(n.state.placeholderIndex,i)&&n.setState({placeholderIndex:i})}}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop(),didDrop:t.didDrop(),draggingItem:t.getItem()}})),z=Object(d.d)("div").withConfig({displayName:"snippets-container___StyledDiv",componentId:"imr5xd-0"})({padding:16,lineHeight:2}),V=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={placeholderIndex:null},e.handleSnippetMove=function(t,n){var a=e.props.snippetList,r=e.handleFindSnippet(t),i=r.snippet,o=r.index,c=[],l=!1;a.forEach((function(e,t){t!==o&&(!l&&n<t&&(c.push(i),l=!0),c.push(e),l||n!==t||(c.push(i),l=!0))})),1!==Object(h.a)(a)||n||c.push(i),e.props.onSnippetUpdate(c),e.setState({placeholderIndex:null})},e.handleSnippetDrop=function(t){var n=t.placeholderIndex,i=Object(r.a)(t,["placeholderIndex"]),o=Object(a.a)(e.props.snippetList),c=n+1,l=[],d=Object(s.a)(Object(s.a)({},i),{},{fromMenu:!1,id:"".concat(i.id,"__").concat(Object(T.n)())});0===Object(h.a)(o)&&(l=Object(g.a)(0,d)(o)),Object(h.a)(o)>0&&(l=Object(g.a)(c,d)(o)),e.props.onSnippetUpdate(l),e.setState({placeholderIndex:null})},e.handleSnippetRemove=function(t){e.props.onSnippetUpdate(Object(v.a)(t,1)(e.props.snippetList))},e.handleSnippetShift=function(t,n){var a=e.handleFindSnippet(t).snippet;e.handleSnippetUpdate(Object(s.a)(Object(s.a)({},a),{},{tabSize:M(Object(O.a)([[Object(j.a)(y.a,2),Object(E.a)(2)],[Object(x.a)(y.a,0),Object(E.a)(0)],[k.a,w.a]]),Object(N.a)(n),Object(C.a)(0,["tabSize"]))(a)}))},e.handleSnippetUpdate=function(t){var n=e.handleFindSnippet(t.id),a=n.snippet,r=n.index;e.props.onSnippetUpdate(Object(S.a)(r,Object(s.a)(Object(s.a)({},a),t))(e.props.snippetList))},e.handleFindSnippet=function(t){var n=e.props.snippetList,a=n.filter((function(e){return e.id===t}))[0];return{snippet:a,index:n.indexOf(a)}},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.connectDropTarget,a=t.isOver,i=t.canDrop,o=t.snippetList,c=t.draggingItem,l=t.draggable,s=Object(r.a)(t,["connectDropTarget","isOver","canDrop","snippetList","draggingItem","draggable"]),d=this.state.placeholderIndex,u=!1,p=[];return o.forEach((function(t,n){a&&i&&(u=!1,0===n&&-1===d?p.push(m.a.createElement(R,{key:"block-placeholder-".concat(n)})):d>n&&(u=!0)),void 0!==t&&p.push(m.a.createElement(A.a,Object.assign({},s,{key:t.id,id:t.id,index:n,draggable:l,item:t,inline:t.inline,wrapperId:"snippet-wrapper-".concat(n),tabSize:t.tabSize,findSnippet:e.handleFindSnippet,updateSnippet:e.handleSnippetUpdate,shiftSnippet:e.handleSnippetShift,removeSnippet:e.handleSnippetRemove}),t.inline?m.a.createElement(z,{id:"".concat(t.id),className:"".concat(t.id)}):m.a.createElement(t.Component,{id:t.id,className:t.id,item:t,index:n,onUpdate:e.handleSnippetUpdate}))),a&&i&&d===n&&p.push(m.a.createElement(R,{key:"block-placeholder-".concat(n)}))})),u&&p.push(m.a.createElement(R,{key:"block-placeholder-bottom"})),a&&i&&0===o.length&&p.push(m.a.createElement(R,{key:"block-placeholder-zero"})),a&&i&&1===o.length&&(c.fromMenu||p.push(m.a.createElement(R,{key:"block-placeholder-zero"}))),n(m.a.createElement("div",{className:_()("report-template-builder__contentarea",{"report-template-builder__contentarea--fixed-layout":!l})},p))}}]),n}(m.a.Component);V.defaultProps={draggable:!0,snippetList:[]};t.a=M(p.h,P)(V)},444:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(36),r=n(49),i=n(45),o=n(46),c=n(0),l=n.n(c),s=n(4),d=n.n(s),u=n(1119),m=n(12),p=n(3),b=n(11),f=n(127),h=n(211),g=Object(f.DragSource)(h.a.BOARD,{beginDrag:function(e){e.children,e.className;var t=Object(b.a)(e,["children","className"]);return Object(p.a)(Object(p.a)({},t),{},{fromMenu:!0})},endDrag:function(e,t){t.didDrop()},isDragging:function(e,t){var n=e.id===t.getItem().id;return n}},(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})),v=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.connectDragSource,n=e.id,a=Object(b.a)(e,["connectDragSource","id"]);return l.a.createElement(O,Object.assign({},a,{ref:function(e){return t(e)},id:"".concat(n)}),l.a.createElement("div",{className:"snippet-drawer-menu__item--content"},this.props.children))}}]),n}(l.a.Component),O=m.d.div.withConfig({displayName:"snippet-list-menu-item__SnippetListMenuWrapper",componentId:"sc-7d8862-0"})(["cursor:move;"]),j=g(v),y=n(70),E=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return l.a.createElement(x,Object.assign({className:d()("snippet-drawer-menu",this.props.className)},this.props),l.a.createElement("div",{className:"snippet-drawer-menu__list"},y.a.map((function(e){return l.a.createElement(j,Object.assign({},e,{key:e.id,className:"snippet-drawer-menu__item py-3"}),l.a.createElement("div",{className:"flex items-center"},e.icon?l.a.createElement(e.icon,{className:"mr-2"}):l.a.createElement(u.a,{className:"mr-2"}),e.name))}))))}}]),n}(l.a.Component),x=m.d.div.withConfig({displayName:"snippet-list-menu__SnippetListMenuWrapper",componentId:"sc-1fa5a52-0"})([".snippet-drawer-menu{&__list{height:100%;overflow-y:auto;overflow-x:hidden;::-webkit-scrollbar{display:none;}}}"])},48:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var a=n(36),r=n(49),i=new(function(){function e(){Object(a.a)(this,e),this.pageSize=10,this.apiBaseUrl="https://path.weiecampus.com/backend/kmedical"}return Object(r.a)(e,[{key:"isEnvDev",get:function(){return!1}},{key:"appBaseName",get:function(){return"/vghks-pathol-app"}},{key:"appTitle",get:function(){return"%s | ".concat(Object({NODE_ENV:"production",PUBLIC_URL:"https://falloutchonny.github.io/vghks-pathol-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_OAUTH:"false",REACT_APP_RADIOL_VIEWER_URL:"https://path.weiecampus.com/radiology-viewer/html/start.html",REACT_APP_API_ROOT:"https://path.weiecampus.com/backend/kmedical",REACT_APP_BASE_NAME:"/vghks-pathol-app",REACT_APP_VIEWER_URL:"https://path.weiecampus.com/openslide/demo/index.html",REACT_APP_OAUTH_URL:"http://18.181.199.235:8080/oauth2Login/login"}).REACT_APP_TITLE||"\u9ad8\u96c4\u69ae\u6c11\u7e3d\u91ab\u9662 \u6578\u4f4d\u75c5\u7406\u5e73\u53f0")}},{key:"appUrl",get:function(){return"".concat(window.location.protocol,"//").concat(window.location.host).concat(this.appBaseName,"/#/")}},{key:"fakeApiBaseUrl",get:function(){return Object({NODE_ENV:"production",PUBLIC_URL:"https://falloutchonny.github.io/vghks-pathol-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_OAUTH:"false",REACT_APP_RADIOL_VIEWER_URL:"https://path.weiecampus.com/radiology-viewer/html/start.html",REACT_APP_API_ROOT:"https://path.weiecampus.com/backend/kmedical",REACT_APP_BASE_NAME:"/vghks-pathol-app",REACT_APP_VIEWER_URL:"https://path.weiecampus.com/openslide/demo/index.html",REACT_APP_OAUTH_URL:"http://18.181.199.235:8080/oauth2Login/login"}).REACT_APP_FAKE_API_ROOT||(this.isEnvDev,"http://localhost:3004")}},{key:"publicUrl",get:function(){return"https://falloutchonny.github.io/vghks-pathol-app"}},{key:"radiolViewerUrl",get:function(){return"https://path.weiecampus.com/radiology-viewer/html/start.html"}},{key:"viewerUrl",get:function(){return"https://path.weiecampus.com/openslide/demo/index.html"}},{key:"oauthUrl",get:function(){return"http://18.181.199.235:8080/oauth2Login/login"}},{key:"canUseDOM",get:function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},{key:"useOAuth",get:function(){return!1}},{key:"setPageSize",set:function(e){this.pageSize=e||50}},{key:"setApiBaseUrl",set:function(e){this.apiBaseUrl=e}}]),e}());function o(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}t.a=i},554:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(275);var a=n(166),r=n.n(a),i=n(0),o=n.n(i);function c(){return o.a.createElement(r.a.Footer,{className:"pb-6 text-center text-gray-600 border-t border-gray-400",style:{background:"rgb(221, 228, 237)"}},"2020 \u9ad8\u96c4\u69ae\u7e3d\u6578\u4f4d\u75c5\u7406\u5e73\u53f0")}},555:function(e,t){e.exports={primary:"#38a8a9",secondary:"#42c2b8",danger:"#d74c4c",darkGrey:"#4a4a4a",purple150:"rgba(115, 105, 215, 0.15)",cornblue:"#a9b6d8",comet:"#555977",btn:{danger:"#d74c4c",primary:"#2c908a",secondary:"#42c2b8"},sider:{bg:"#38a8a9"},login:{cyan:"rgba(5,124,147,1)"},pagination:"#38a8a9"}},576:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var a,r=n(3),i=n(0),o=n.n(i),c=n(340),l=n(63),s=n(139),d=n(144),u=s.a.confirm;t.a=function(e){var t=e.isDeletable,n=void 0===t||t,i=e.content,s=e.dataSource,m=void 0===s?[]:s,p=e.onRequestDelete,b=e.onBeforeDelete,f=e.refetchQueries,h=e.onCancel,g=e.deleteItem,v=e.modalProps,O=void 0===v?{}:v,j=e.onAfterDelete,y=o.a.useRef((function(){return{}})),E=function(e){if(n){var t=Object(c.a)((function(t){return"".concat(Object(l.a)(["id"],t))===e.currentTarget.dataset.id}))(m);a=u(Object(r.a)(Object(r.a)({},Object(d.b)(i,O)),{},{onOk:function(){return a&&a.update({okButtonProps:{className:"c-btn c-btn--danger",style:{minWidth:80,marginRight:24},loading:!0}}),new Promise((function(e){p&&p(t||g),j&&j(),y.current=function(){e(),f&&f()}}))},onCancel:function(){h&&h()}}))}};return{handleConfirmDeletion:function(e){b&&b(),E(e)},handleConfirm:E,handleDeleteFailure:function(){a&&a.update({okButtonProps:{className:"c-btn c-btn--danger",style:{minWidth:96,marginRight:104},loading:!1}})},onAfterDelete:y}}},59:function(e,t,n){"use strict";n.d(t,"b",(function(){return ce})),n.d(t,"c",(function(){return le})),n.d(t,"k",(function(){return me})),n.d(t,"i",(function(){return pe})),n.d(t,"a",(function(){return be})),n.d(t,"h",(function(){return fe})),n.d(t,"d",(function(){return ge})),n.d(t,"l",(function(){return ve})),n.d(t,"e",(function(){return Oe})),n.d(t,"f",(function(){return je})),n.d(t,"g",(function(){return xe})),n.d(t,"j",(function(){return ke}));var a=n(9),r=n(11),i=n(3),o=n(74),c=n(0),l=n.n(c),s=n(60),d=n(102),u=n.n(d),m=n(78),p=n(50),b=n(157),f=n(56),h=n(63),g=n(138),v=n(29),O=n(155),j=n(44),y=n(42),E=n(156),x=n(94),k=n(326),w=n(131),N=n(412),C=n(414),S=n(104),I=n(108),_=n(416),T=n(81),D=n(265),A=n(195),R=n(130),L=n(232),M=n(146),P=n(189),z=n(234),V=n(418),F=n(256),U=n(325),H=n(415),B=n(197),q=n(22),Y=n(204),W=n(37),G=n(111),J=n(254),K=n(70),Q=n(144),X=n(79),$=n(18),Z=n(27),ee=Z.compose,te=Z.mergeDeepRight,ne=Z.concat,ae={"Pathological diagnosis":1,"Procedure Information":1,"Clinical Information":2,Gross:2,Microscopy:3,Comparison:3,Notes:4,Findings:4,References:5,Impression:5},re=Object(s.c)({key:"snippetCategoryOfReportState",get:function(e){var t=e.get;return ee(Object(m.a)(Object(p.a)(b.a,q.a.RAD),Object(f.a)({PROCEDURE_INFORMATION:"Procedure Information",CLINICAL_INFORMATION:"Clinical Information",COMPARISON:"Comparison",FINDINGS:"Findings",IMPRESSION:"Impression"}),Object(f.a)({PATHOLOGICAL_DIAGNOSIS:"Pathological diagnosis",GROSS:"Gross",MICROSCOPY:"Microscopy",NOTES:"Notes",REFERENCES:"References"})),Object(h.a)(["division"]))(t(J.b))}}),ie=function(){var e=Object(s.e)(re);return ee(g.a,Object(v.a)((function(e){return Object(o.a)({},e,[])})),O.a)(e)},oe=function(){var e=ie();return ee(K.c,Object(v.a)((function(t){return Object(i.a)(Object(i.a)({},t),{},{name:t.templateName,description:t.templateDescription,setting:ee((function(e){return ee(g.a,Object(v.a)((function(t){return Object(o.a)({},t,ee(Object(v.a)((function(e){return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.inline?{html:decodeURIComponent(e.html)}:{}),{},{icon:Object(h.a)([e.type,"icon"],K.d)})})),Object(j.a)([],[t]))(e))})),y.a)(e)}),Object(m.a)($.e,Object(f.a)(e),ee(Object(m.a)(Object(E.a)(Object),x.a,Object(f.a)(e)),Object(m.a)(Object(E.a)(String),Object(k.a)(Object(w.a)(1,"parse")(b.a)(JSON),Object(f.a)(e)),x.a),Object(m.a)(Object(N.a)([Object(p.a)(b.a,"undefined"),Object(p.a)(b.a,"[object Object]")]),Object(f.a)(e),x.a))))(t.templateJson),statusName:Object(j.a)("",[t.status],q.f),createdAt:Object($.l)(t.createDate),createdAtStr:Object($.k)(t.createDate,"YYYY.MM.DD HH:mm"),updatedAt:Object($.l)(t.updateDate),updatedAtStr:Object($.k)(t.updateDate,"YYYY.MM.DD HH:mm")})})),Object(j.a)([],[]))};function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.id,e.division),n=(void 0===t&&q.a.PATH,Object(r.a)(e,["id","division"])),a=Object(W.b)(),o=a.user,c=Object(G.a)("/api/v1/c1/getCompleteReportTemplateList/{id}&{division}",{variables:Object(i.a)(Object(i.a)({},n),{},{id:o.id,division:o.division})}),l=c.data,s=Object(r.a)(c,["data"]),d=oe()(l),u={};return Object(C.a)((function(e){return u[e.name]=e}))(d),Object(i.a)(Object(i.a)({},s),{},{templateByName:u,data:d})}var le=function(){var e=oe(),t=ie();return ee((function(n){var a=n.template,r=n.cloze,c=void 0===r?[]:r,l=n.topic,s=void 0===l?[]:l;return Object(i.a)(Object(i.a)({},ee(S.a,e)(a)),{},{setting:ee(g.a,Object(v.a)((function(e){return Object(o.a)({},e,ne(ee(Object(v.a)((function(t){return Object(i.a)(Object(i.a)({},t),{},{id:t.clozeId,categoryName:e,inline:!0,html:decodeURIComponent(t.html),icon:Object(h.a)([t.type,"icon"],K.d)})})),Object(I.a)((function(t){return t.tab===e})),Object(j.a)([],[]))(c),ee(Object(v.a)((function(t){return Object(i.a)(Object(i.a)({},t),{},{id:t.topicId,categoryName:e,inline:!1,icon:Object(h.a)([t.type,"icon"],K.d),setting:{text:t.text,options:Object(m.a)($.e,x.a,Object(k.a)((function(e){return JSON.parse(e)}),Object(f.a)([])))(t.options),tooltip:"undefined"===t.toolTip?void 0:t.toolTip,value:"undefined"===t.value?void 0:t.value,units:Object(h.a)(["units"],t),defaultValue:Object(h.a)(["defaultValue"],t),max:Object(h.a)(["max"],t),min:Object(h.a)(["min"],t)}})})),Object(I.a)((function(t){return t.tab===e})),Object(j.a)([],[]))(s)))})),y.a,Object(m.a)(ee(Object(_.a)(0),T.a),ee(g.a,Object(v.a)((function(e){return Object(o.a)({},e,[])})),Object(D.a)((function(e,t){return ae[e]-ae[t]}))),Object(f.a)(t)),A.a,Object(R.a)("tab"),ne(c))(s)})}),Object(j.a)({},["data"]))};function se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(X.e)("/api/v1/c4/createReportTemplate",Object(i.a)(Object(i.a)({},e),{},{method:"POST"})),n=t.loading,a=t.mutate;return[n,a]}function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(X.e)("/api/v1/c4/updateReportTemplate",Object(i.a)(Object(i.a)({},e),{},{method:"POST"})),n=t.loading,a=t.mutate;return[n,a]}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(X.e)("/api/v1/c4/delectReportTemplate",Object(i.a)(Object(i.a)({},e),{},{method:"POST"})),n=t.loading,a=t.mutate;return[n,a]}function me(e){var t=e.item,n=e.onUpdate,r=e.defaultValue,o=void 0===r?{}:r,c=l.a.useState(Object(j.a)(o,["setting"],t)),s=Object(a.a)(c,2),d=s[0],u=s[1];return{setting:d,handleOk:function(e){var a=te(d,e);u(a),n(Object(i.a)(Object(i.a)({},t),{},{setting:a}))}}}var pe=function(){var e=Object(W.b)().user,t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=void 0===t?0:t,a=e.division,o=void 0===a?q.a.PATH:a,c=Object(r.a)(e,["id","division"]),l=Object(G.a)("/api/v1/c4/getReportTemplateList/{id}&{division}",{variables:Object(i.a)(Object(i.a)({},c),{},{id:n,division:o})}),s=l.data,d=Object(r.a)(l,["data"]);return Object(i.a)(Object(i.a)({},d),{},{data:oe()(s)})}(e),n=t.data,a=t.refetch,o=Object(r.a)(t,["data","refetch"]);l.a.useEffect((function(){a({division:e.division})}),[e.division]);var c={content:Object(v.a)((function(t){return Object(i.a)(Object(i.a)({},t),{},{author:e.name})}))(n),total:Object(T.a)(n),totalPages:Math.floor(Object(T.a)(n)/10)+1};return Object(i.a)(Object(i.a)({},o),{},{refetch:a,dataSource:c,data:c})},be=function(e){var t=e.onChange,n=(e.onSearch,Object(r.a)(e,["onChange","onSearch"])),i=l.a.useState(),o=Object(a.a)(i,2),c=o[0],s=o[1],d=Object(W.b)().user,u=ce(Object(V.a)(["division","id"])(d)),p=u.data,b=u.loading,h=Object(m.a)($.e,Object(f.a)(p),(function(e){return Object(I.a)((function(t){var n;return null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase())}))(p)}))(c);return l.a.createElement(Y.a,Object.assign({showSearch:!0,bordered:!1,filterOption:!1,onSearch:function(e){s(e)},onChange:function(e){t&&t(e)},loading:b,disabled:b},n),h.map((function(e){return l.a.createElement(Y.a.Option,{key:e.id,value:e.name},e.name)})))},fe=function(e){var t=Object(W.b)().user,n=function(e){var t=e.userId,n=void 0===t?0:t,c=e.division,s=void 0===c?q.a.PATH:c,d=e.shouldFetch,u=void 0===d||d,b=e.name,h=void 0===b?"":b,E=e.data,x=(e.id,e.onCompleted),k=e.onError,w=e.errorMsg,N=Object(r.a)(e,["userId","division","shouldFetch","name","data","id","onCompleted","onError","errorMsg"]),C=!Object($.e)(h)&&u,_=Object(G.a)(Object(m.a)(Object(p.a)(!0),Object(f.a)("/api/v1/c4/getReportTemplate/{userId}&".concat(s,"&").concat(h)),Object(f.a)(null))(C),{onError:k,onCompleted:function(e){x&&x(e),ee(Y,Object(L.a)(["status"]),A,Object(M.a)("data",e))({})},fetchOptions:{errorMsg:w},variables:Object(i.a)(Object(i.a)({},N),{},{userId:n,division:s,name:h})}),D=ie(),A=le(),R=A(_),V=l.a.useState({setting:D}),F=Object(a.a)(V,2),U=F[0],H=F[1],B=ee(Object(p.a)(0),T.a,P.a,O.a,Object(j.a)({},["setting"]))(E),Y=function(e){H((function(t){return te(t,ee(Object(M.a)("author","Author"),S.a,K.c,z.a)(e))}))};l.a.useEffect((function(){(null===E||void 0===E?void 0:E.id)&&(console.log("using report's template"),H(ee(S.a,K.c,z.a)(E)))}),[JSON.stringify(E)]),l.a.useEffect((function(){R&&B&&(R.templateName&&console.log("using template ".concat(R.templateName)),Y(R))}),[JSON.stringify(R),B]);var W=Object(j.a)(D,["setting"])(U);l.a.useEffect((function(){Z(W)}),[JSON.stringify(W)]);var J=l.a.useState(W),Q=Object(a.a)(J,2),X=Q[0],Z=Q[1],ne={};return Object(i.a)(Object(i.a)({},_),{},{setReportTemplate:H,reportTemplate:U,snippetList:X,setSnippetList:Z,categoryCountById:ee(g.a,Object(v.a)((function(e){return Object(o.a)({},e,Object(T.a)(X[e]))})),y.a)(X),categoryCount:ee(T.a,y.a)(X),total:ee(T.a,Object(I.a)((function(e){return"TemplateSectionHeader"!==e.type})),P.a,O.a)(X),snippetById:ee(Object(v.a)((function(e){return ne[e.id]=e})),P.a,O.a)(X)})}(Object(i.a)(Object(i.a)({},e),{},{userId:t.id,division:t.division,name:e.id})),c=n.setSnippetList,d=n.snippetList,u=n.refetch,b=Object(r.a)(n,["setSnippetList","snippetList","refetch"]),h=Object(s.d)(Ee),E=Object(a.a)(h,2),x=E[0],k=E[1];l.a.useEffect((function(){u({division:t.division})}),[t.division]),l.a.useEffect((function(){(!x||ee(F.a,Object(U.a)(x),y.a)(d)&&"overview"!==x)&&k(ee(S.a,y.a)(d))}),[x,JSON.stringify(d)]);var w=function(){var e=ee(H.a,Object(j.a)(0,[]),$.b,B.a,Object(D.a)((function(e,t){return e-t})),y.a)(d);c((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(o.a)({},"\u65b0\u6a19\u7c64\u9801".concat(e),[]))})),k("\u65b0\u6a19\u7c64\u9801".concat(e))},N=function(e){Object(Q.a)({title:"\u78ba\u8a8d\u8981\u522a\u9664\u6b64\u9801\u7c64\u55ce\uff1f",content:"\u522a\u9664\u6703\u9023\u540c\u6a21\u7248\u8cc7\u6599\u4e00\u8d77\u522a\u9664\uff0c\u78ba\u8a8d\u7e7c\u7e8c\uff1f",onOk:function(){c((function(t){return Object(L.a)([e],t)})),x===e&&k(ee(B.a,Object(I.a)((function(t){return t!==e})),y.a)(d))}})};return Object(i.a)(Object(i.a)({},b),{},{refetch:u,category:x,snippetList:d,setCategory:k,setSnippetList:c,handleTabEdit:function(e,t){("add"===t?w:N)(e)},handleTabChange:function(e){k(e)},handleTabMove:function(e){var t=Object(y.a)(d);c(ee(g.a,Object(v.a)((function(e){return Object(o.a)({},e,d[e])})),Object(D.a)((function(n,a){var r=e.indexOf(n),i=e.indexOf(a);return-1!==r&&-1!==i?r-i:-1!==r?-1:-1!==i?1:t.indexOf(n)-t.indexOf(a)})),y.a)(d))},handleTabAdd:w,handleTabRemove:N,handleTabNameChange:function(e){return function(t){var n=t.target.innerHTML;c((function(t){return ee(g.a,Object(v.a)((function(a){return Object(o.a)({},a===e?n:a,t[a])})),y.a)(t)})),k(n)}},handleSnippetUpdate:function(e){c((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(o.a)({},x,e))}))}})},he=function(){var e=Object(W.b)().user;return function(t){return Object(L.a)(["setting","createDate","createdAt","createdAtStr","updateDate","updatedAt","updatedAtStr"])(Object(i.a)(Object(i.a)(Object(i.a)({},t),t.id?{templateId:t.id}:{}),{},{userId:e.id,division:e.division,templateName:t.name,status:t.status||q.e.DRAFT,templateDescription:t.description,template:ee(P.a,Object(v.a)((function(e){return ee(Object(v.a)((function(t){var n;return Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},t),t.setting),t.inline?{clozeId:t.id,html:encodeURIComponent(t.html)}:{topicId:t.id,toolTip:null===t||void 0===t||null===(n=t.setting)||void 0===n?void 0:n.tooltip}),{},{tab:e,categoryName:t.inline?"cloze":"topic"})})),Object(j.a)([],["setting",e]))(t)})),y.a)(t.setting)}))}},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=se(e),n=Object(a.a)(t,2),r=n[0],i=n[1],o=he(),c=function(e){return i(o(e))};return[r,c]},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=de(e),n=Object(a.a)(t,2),r=n[0],i=n[1],o=he(),c=function(e){return i(o(e))};return[r,c]},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ue(e),n=Object(a.a)(t,2),r=n[0],o=n[1],c=Object(W.b)(),l=c.user,s=function(e){return o(Object(i.a)(Object(i.a)({},e),{},{userId:l.id,division:l.division,TemplateNAME:e.name}))};return[r,s]},je=function(e){var t=e.data,n=e.filename;return function(){Object($.a)({filename:"".concat(n,"_").concat((null===t||void 0===t?void 0:t.name)||"","_").concat(u()().format("YYYYMMDDHHmmss")),json:t})}},ye=Object(s.b)({key:"reportPreviewState",default:!1}),Ee=Object(s.b)({key:"categoryState",default:Object(s.c)({key:"categoryState/default",get:function(e){var t=e.get;return ee(S.a,O.a)(t(re))}})});function xe(){var e=Object(s.d)(ye),t=Object(a.a)(e,2),n=t[0],r=t[1];return[n,function(){return r((function(e){return!e}))}]}function ke(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(s.d)(ye),n=Object(a.a)(t,2),r=n[0],i=n[1];return l.a.useEffect((function(){return i(e),function(){i(!1)}}),[e]),[r,function(){return i((function(e){return!e}))}]}},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(11),r=(n(203),n(172)),i=n.n(r),o=n(0),c=n.n(o),l=n(12),s=Object(l.d)(i.a).withConfig({displayName:"button__StyledButton",componentId:"sc-1w8kqqi-0"})(["&.ant-btn{min-width:80px;display:inline-flex;align-items:center;justify-content:center;border-radius:4px;.anticon{margin-right:6px;}&.ant-btn-loading{padding-left:8px;}.ant-btn > .ant-btn-loading-icon .anticon{padding-right:0;}svg{width:20px;height:20px;}&.ant-btn-sm svg{width:16px;height:16px;}",";",";",";",";"," &.hover--none{&:hover,&:focus,&:active{color:initial;background:initial;border-color:initial;}}}&.ant-btn.ant-btn-loading:not(.ant-btn-circle):not(.ant-btn-circle-outline):not(.ant-btn-icon-only){padding-left:20px;}&.ant-btn[disabled]{svg > g path:nth-child(2){transition:fill 0.4s ease;fill:darkgrey;}}"],(function(e){return"primary"===e.color&&Object(l.c)(["color:#fff;border-color:",";background:",";&:hover,&:focus,&:active{color:#fff;background:",";border-color:",";}"],(function(e){return e.theme.btn.primary}),(function(e){return e.theme.btn.primary}),(function(e){return e.theme.btn.secondary}),(function(e){return e.theme.btn.secondary}))}),(function(e){return"outline"===e.color&&Object(l.c)(["padding:0 8px;color:",";border:1.3px solid ",";background:transparent;&:hover,&:focus,&:active{color:",";background:transparent;border:1.3px solid ",";}"],(function(e){return e.theme.btn.primary}),(function(e){return e.theme.btn.primary}),(function(e){return e.theme.primary}),(function(e){return e.theme.btn.primary}))}),(function(e){return"danger"===e.color&&Object(l.c)(["color:",";border:1.3px solid ",";background:#fff;&:hover,&:focus,&:active{color:",";background:#fff6e4;border:1.3px solid ",";}"],(function(e){return e.theme.btn.danger}),(function(e){return e.theme.btn.danger}),(function(e){return e.theme.btn.danger}),(function(e){return e.theme.btn.danger}))}),(function(e){return"link"===e.type&&Object(l.c)(["min-width:auto;padding-left:0;padding-right:0;background:transparent;border-color:transparent;color:",";> span{text-decoration:underline;}&:hover{background:transparent;border-color:transparent;}"],e.theme.primary)}),(function(e){return"small"===e.size&&Object(l.c)(["line-height:1.2;"])}));function d(e){var t=e.children,n=e.loading,r=(e.actionType,Object(a.a)(e,["children","loading","actionType"]));return c.a.createElement(s,Object.assign({},r,{loading:n}),t)}},631:function(e,t,n){e.exports=n(1095)},70:function(e,t,n){"use strict";n.d(t,"e",(function(){return Ve})),n.d(t,"d",(function(){return Ue})),n.d(t,"c",(function(){return He})),n.d(t,"b",(function(){return Be}));var a=n(3),r=n(74),i=n(138),o=n(29),c=n(63),l=n(44),s=n(42),d=n(1111),u=n(1112),m=n(1113),p=n(1114),b=n(1115),f=n(1116),h=n(1117),g=n(1118),v=n(1119),O=n(18),j=n(9),y=n(11),E=(n(100),n(20)),x=n.n(E),k=n(0),w=n.n(k),N=n(33),C=n(137),S=n(139),I=n(61);function _(e){var t=e.onCancel,n=e.onOk,a=(e.item,e.children),r=Object(y.a)(e,["onCancel","onOk","item","children"]);return w.a.createElement(S.a,Object.assign({visible:!0,onCancel:t,width:650,maskClosable:!1,keyboard:!1,footer:[w.a.createElement(I.a,{key:"btn-cancel",color:"outline",style:{minWidth:80,marginRight:16},onClick:t},"\u53d6\u6d88"),w.a.createElement(I.a,{key:"btn-save",color:"primary",style:{minWidth:80},onClick:function(){n&&n()}},"\u5132\u5b58")]},r),a)}n(201);var T=n(64),D=n.n(T),A=(n(202),n(41)),R=n.n(A),L=n(4),M=n.n(L),P=n(1110),z=n(78),V=n(156),F=n(215),U=n(56),H=n(135),B=n(94),q=n(234),Y=n(104),W=n(12),G=Object(W.d)(x.a.Item).withConfig({displayName:"form__FormItem",componentId:"sc-15sjgws-0"})(["&.is--flex .ant-form-item-control-input-content{display:flex;align-items:center;}"]),J=n(269),K=n(81),Q=n(200);var X=n(334),$=n(183),Z=n(27).compose;function ee(e){return function(t){e&&e(t)}}function te(e){var t=e.onSelect,n=e.inline,r=void 0!==n&&n,i=e.field,o=void 0===i?"text":i,s=e.item,d=Object($.a)(),u=Object(j.a)(d,2),m=u[0],p=u[1],b=Object(z.a)(Object(V.a)(Array),(function(e){var t=Object(j.a)(e,2)[1];return Object(c.a)(["options",t,"radlexCode"],s)}),(function(){return Object(c.a)(["radlexCode"],s)}))(o);return w.a.createElement(w.a.Fragment,null,m&&w.a.createElement(ne,{selected:b,onOk:function(e){t&&t(Object(z.a)(Object(V.a)(Array),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=Object(j.a)(t,2),r=n[1];return{options:Z(Object(F.a)(r,Object(a.a)(Object(a.a)({},Object(l.a)({},["options",r])(s)),{},{radlexCode:null===e||void 0===e?void 0:e.code})),Object(l.a)([],["options"]))(s)}}),Object(U.a)({radlexCode:null===e||void 0===e?void 0:e.code}))(o)),p()},onCancel:p}),w.a.createElement(G,{noStyle:r,label:"Text",className:"is--flex"},w.a.createElement(x.a.Item,{noStyle:!0,name:o},w.a.createElement(N.a,{className:M()({"is--linked":!Object(H.a)(b),"w-11/12":r})})),w.a.createElement(x.a.Item,{noStyle:!0},w.a.createElement(P.a,{className:"ml-2 cursor-pointer relative",style:{top:-3},onClick:p}))))}function ne(e){var t=e.onOk,n=e.onCancel,r=e.selected,i=Object(y.a)(e,["onOk","onCancel","selected"]),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Q.a)("/api/v1/c/getCodeBooksByKeyword",{variables:e,method:"POST",lazy:!1}),n=t.data,r=Object(y.a)(t,["data"]),i=Object(l.a)([{code:1,value:"Couinaud hepatic segment II"},{code:2,value:"Couinaud hepatic segment III"},{code:3,value:"Couinaud hepatic segment VI"},{code:4,value:"Couinaud hepatic segment V"},{code:5,value:"Couinaud hepatic segment VI"},{code:6,value:"Couinaud hepatic segment VII"},{code:7,value:"Couinaud hepatic segment VIII"}],[],n),o={content:i,total:Object(K.a)(i),totalPages:Math.floor(Object(K.a)(i)/12)+1};return Object(a.a)(Object(a.a)({},r),{},{data:n,dataSource:o})}(),c=o.dataSource,s=o.loading,d=w.a.useState(),u=Object(j.a)(d,2),m=u[0],p=u[1],b=Object(X.a)(Object(a.a)({multiple:!1},r?{defaultRowKeys:Object(z.a)(Object(V.a)(Array),B.a,q.a)(r)}:{})),f=b.rowSelection,h=b.selectedRows,g=Object(a.a)(Object(a.a)({},c),{},{content:c.content.filter((function(e){return!m||("".concat(e.code).includes(m)||"".concat(e.value).includes(m))}))});return w.a.createElement(S.a,Object.assign({},i,{visible:!0,title:"\u9078\u64c7 SNOMED CT",bodyStyle:{paddingTop:48,paddingLeft:64,paddingRight:64},width:650,footer:[w.a.createElement(I.a,{key:"btn-cancel",color:"outline",onClick:n},"\u53d6\u6d88"),w.a.createElement(I.a,{key:"btn-ok",color:"primary",onClick:function(){t(Object(Y.a)(h))},className:"ml-3"},"\u78ba\u8a8d")],onCancel:n,keyboard:!1,maskClosable:!1}),w.a.createElement(D.a,null,w.a.createElement(R.a,{span:24},"\u95dc\u9375\u5b57:",w.a.createElement(N.a,{className:"ml-2 w-2/3",placeholder:"\u8f38\u5165 SNOMED CT",onChange:function(e){p(e.target.value)}}))),w.a.createElement(D.a,{className:"mt-6"},w.a.createElement(R.a,{span:24},w.a.createElement(J.a,{rowKey:"code",size:"small",dataSource:g,loading:s,columns:[{title:"SNOMED CT",dataIndex:"code",render:function(e,t){return"".concat(t.value," (").concat(t.code,")")}}],pagination:{pageSize:12},rowSelection:f}))))}var ae=n(71),re=n(59);function ie(e){var t=e.onOk,n=e.onCancel,a=e.item,r=Object(y.a)(e,["onOk","onCancel","item"]),i=x.a.useForm(),o=Object(j.a)(i,1)[0],c=ee(t);return w.a.createElement(_,Object.assign({},r,{title:w.a.createElement(w.a.Fragment,null,w.a.createElement("div",null,"Text",w.a.createElement("div",{className:"inline ml-2 text-sm text-gray-600"},"typically used for description something."))),onCancel:n,onOk:function(){o.validateFields().then((function(e){t&&t(e),n()}))}}),w.a.createElement(x.a,Object.assign({},Object(ae.a)(5,16),{labelAlign:"left",form:o,initialValues:a}),w.a.createElement(te,{item:a,onSelect:c}),w.a.createElement(x.a.Item,{label:"Default Value",name:"defaultValue"},w.a.createElement(N.a,null)),w.a.createElement(x.a.Item,{label:"Tooltip",name:"tooltip"},w.a.createElement(N.a,null)),w.a.createElement(x.a.Item,{label:"Multiple Lines",name:"multipleLine",valuePropName:"checked"},w.a.createElement(C.c,null))))}n(1040);var oe=n(616),ce=n.n(oe),le=Object(W.d)(ce.a).attrs({min:0}).withConfig({displayName:"input-number__StyledInputNumber",componentId:"sc-1ga7759-0"})(["&.ant-input-number{border-color:#d9d9d9;}&.ant-input-number-focused,&.ant-input-number:focus,&.ant-input-number:hover{border-color:",";}&.ant-input-number-focused:not(.ant-input-number-borderless),&.ant-input-number:focus:not(.ant-input-number-borderless){box-shadow:0 0 0 1px ",";}&.ant-input-number-borderless,&.ant-input-number-borderless:hover,&.ant-input-number-borderless:focus,&.ant-input-number-borderless-focused,&.ant-input-number-borderless-disabled,&.ant-input-number-borderless[disabled]{border:none;border-bottom:1px solid #d9d9d9;}"],(function(e){return e.theme.primary}),(function(e){return e.theme.primary})),se=w.a.forwardRef((function(e,t){var n=Object.assign({},e);return w.a.createElement(le,Object.assign({forwardRef:t},n,ae.e))})),de=w.a.forwardRef((function(e,t){var n=Object.assign({},e);return w.a.createElement(le,Object.assign({forwardRef:t},n,ae.b))})),ue=w.a.forwardRef((function(e,t){var n=Object.assign({},e);return w.a.createElement(le,Object.assign({forwardRef:t},n,ae.c))}));se.displayName="ThousandSeprartorInput",de.displayName="CurrencyInput",ue.displayName="PercentInput";var me=le;function pe(e){var t=e.onOk,n=e.onCancel,a=e.item,r=Object(y.a)(e,["onOk","onCancel","item"]),i=x.a.useForm(),o=Object(j.a)(i,1)[0],c=ee(t);return w.a.createElement(_,Object.assign({},r,{title:w.a.createElement(w.a.Fragment,null,w.a.createElement("div",null,"Number",w.a.createElement("div",{className:"inline ml-2 text-sm text-gray-600"},"typically used for input number."))),onOk:function(){o.validateFields().then((function(e){t&&t(e),n()}))},onCancel:n}),w.a.createElement(x.a,Object.assign({},Object(ae.a)(5,16),{labelAlign:"left",form:o,initialValues:a}),w.a.createElement(te,{item:a,onSelect:c}),w.a.createElement(x.a.Item,{label:"Default Value",name:"defaultValue"},w.a.createElement(N.c,null)),w.a.createElement(x.a.Item,{label:"Tooltip",name:"tooltip"},w.a.createElement(N.c,null)),w.a.createElement(x.a.Item,{label:"Minimum Value",name:"min"},w.a.createElement(me,null)),w.a.createElement(x.a.Item,{label:"Maximum Value",name:"max"},w.a.createElement(me,null)),w.a.createElement(x.a.Item,{label:"Units",name:"units"},w.a.createElement(N.c,null))))}var be=n(67),fe=n(194),he=n(157),ge=n(131),ve=n(108),Oe=n(333);function je(e){var t=e.form,n=e.value,a=e.onChange,r=e.onRowAdd,i=e.onRowDelete,o=Object(y.a)(e,["form","value","onChange","onRowAdd","onRowDelete"]),c=function(e){a&&a(e)};return w.a.createElement(Oe.a,Object.assign({},o,{rowKey:"id",pagination:!1,size:"small",dataSource:n,onAddRowClick:function(){c(r(t))},onDeleteRowClick:function(e){c(i({id:e,form:t}))},editable:!0}))}var ye=n(27).compose,Ee={options:[{id:Object(O.n)(),text:"default option 1",selected:!0,freetext:!1},{id:Object(O.n)(),text:"default option 2",selected:!0,freetext:!1},{id:Object(O.n)(),text:"default option 3",selected:!0,freetext:!1}]};function xe(e){var t=e.onCancel,n=e.onOk,a=e.item,r=e.freetextVisible,i=void 0===r||r,o=e.title,c=Object(y.a)(e,["onCancel","onOk","item","freetextVisible","title"]),s=x.a.useForm(),d=Object(j.a)(s,1)[0],u=ee(n),m=[{title:"\u9078\u9805\u540d\u7a31",render:function(e,t,n){return w.a.createElement(te,{inline:!0,item:a,field:["options",n,"text"],onSelect:u})}},{title:"\u662f\u5426\u53ef\u9078",align:"center",render:function(e,t,n){return w.a.createElement(x.a.Item,{noStyle:!0,name:["options",n,"selected"],valuePropName:"checked"},w.a.createElement(C.c,null))}}].concat(Object(be.a)(i?[{title:"\u662f\u5426\u53ef\u8f38\u5165",align:"center",render:function(e,t,n){return w.a.createElement(x.a.Item,{noStyle:!0,name:["options",n,"freetext"],valuePropName:"checked"},w.a.createElement(C.c,null))}}]:[]));return w.a.useEffect((function(){d.setFieldsValue(a)}),[JSON.stringify(a)]),w.a.createElement(_,Object.assign({},c,{title:o||w.a.createElement(w.a.Fragment,null,w.a.createElement("div",null,"Single Selection List"),w.a.createElement("div",{className:"mt-1 text-sm text-gray-600"},"Typically used for shorter lists so that all responses are visible as radio buttons. Only allow a single selection.")),onCancel:t,onOk:function(){d.validateFields().then((function(e){n&&n(e),t()}))}}),w.a.createElement(x.a,Object.assign({},Object(ae.a)(3,16),{labelAlign:"left",form:d,initialValues:a}),w.a.createElement(te,{item:a,onSelect:u}),w.a.createElement(x.a.Item,{label:"Tooltip",name:"tooltip"},w.a.createElement(N.c,null)),w.a.createElement(x.a.Item,{label:"Options"}),w.a.createElement(x.a.Item,{noStyle:!0,name:"options"},w.a.createElement(je,{columns:m,form:d,onRowAdd:function(e){return ye(Object(fe.a)(he.a,[{id:Object(O.n)(),text:void 0,radlexCode:void 0,selected:!0,freetext:!1}]),Object(l.a)([],["options"]),Object(ge.a)(0,"getFieldsValue")())(e)},onRowDelete:function(e){var t=e.id,n=e.form;return ye(Object(ve.a)((function(e){return e.id!==t})),Object(l.a)([],["options"]),Object(ge.a)(0,"getFieldsValue")())(n)}}))))}var ke=n(27).compose;var we=function(e){var t=e.item,n=e.editModalVisible,a=e.handleEditModalVisible,r=e.onUpdate,i=Object(re.k)({item:t,onUpdate:r,defaultValue:Ee}),o=i.setting,c=i.handleOk;return w.a.createElement(w.a.Fragment,null,n&&w.a.createElement(xe,{item:o,onCancel:a,onOk:c,title:w.a.createElement(w.a.Fragment,null,w.a.createElement("div",null,"Multiple Selection List"),w.a.createElement("div",{className:"mt-1 text-sm text-gray-600"},"typically used for shorter lists so that all responses are visible as checkboxes. Allows Multiple selections."))}),w.a.createElement(x.a.Item,{noStyle:!0,name:["data",t.id]},w.a.createElement(C.b,null,ke(Object(O.f)((function(e,t){return w.a.createElement(C.a,{key:e.id,className:M()("block ml-0",{"mt-1":t>0}),defaultChecked:!1,value:e.text},e.text,e.freetext&&w.a.createElement(N.c,{bordered:!1,size:"small",placeholder:"\u8f38\u5165\u5099\u8a3b",className:"ml-4 w-full"}))})),Object(l.a)([],["options"]))(o))))},Ne=n(233),Ce=n(27).compose;var Se=function(e){var t=e.item,n=e.editModalVisible,a=e.handleEditModalVisible,r=e.onUpdate,i=Object(re.k)({item:t,onUpdate:r,defaultValue:Ee}),o=i.setting,c=i.handleOk;return w.a.createElement(w.a.Fragment,null,n&&w.a.createElement(xe,{item:o,onCancel:a,onOk:c}),w.a.createElement(x.a.Item,{noStyle:!0,name:["data",t.id]},w.a.createElement(Ne.a.Group,null,Ce(Object(O.f)((function(e,t){return w.a.createElement(Ne.a,{key:e.id,className:M()("block",{"mt-1":t>0}),defaultChecked:!1,value:e.text},e.text||"\u9810\u8a2d\u9078\u9805",e.freetext&&w.a.createElement(N.c,{size:"small",bordered:!1,placeholder:"\u8f38\u5165\u5099\u8a3b",className:"ml-3 w-full"}))})),Object(l.a)([],["options"]))(o))))},Ie=n(213);function _e(e){var t=e.onOk,n=e.onCancel,a=e.item,r=Object(y.a)(e,["onOk","onCancel","item"]),i=x.a.useForm(),o=Object(j.a)(i,1)[0],c=ee(t);return w.a.createElement(_,Object.assign({},r,{title:w.a.createElement(w.a.Fragment,null,w.a.createElement("div",null,"Date",w.a.createElement("div",{className:"inline ml-2 text-sm text-gray-600"},"typically used for target date."))),onCancel:n,onOk:function(){o.validateFields().then((function(e){t&&t(e),n()}))}}),w.a.createElement(x.a,Object.assign({},Object(ae.a)(5,16),{labelAlign:"left",form:o,initialValues:a}),w.a.createElement(te,{item:a,onSelect:c}),w.a.createElement(x.a.Item,{label:"Default Value",name:"defaultValue"},w.a.createElement(Ie.d,{allowClear:!0,picker:"date",className:"w-full"})),w.a.createElement(x.a.Item,{label:"Tooltip",name:"tooltip"},w.a.createElement(N.c,null))))}function Te(e){var t=e.onOk,n=e.onCancel,a=e.item,r=Object(y.a)(e,["onOk","onCancel","item"]),i=x.a.useForm(),o=Object(j.a)(i,1)[0],c=ee(t);return w.a.createElement(_,Object.assign({},r,{title:w.a.createElement(w.a.Fragment,null,w.a.createElement("div",null,"Time",w.a.createElement("div",{className:"inline ml-2 text-sm text-gray-600"},"typically used for target time."))),onCancel:n,onOk:function(){o.validateFields().then((function(e){t&&t(e),n()}))}}),w.a.createElement(x.a,Object.assign({},Object(ae.a)(5,16),{labelAlign:"left",form:o,initialValues:a}),w.a.createElement(te,{item:a,onSelect:c}),w.a.createElement(x.a.Item,{label:"Default Value",name:"defaultValue"},w.a.createElement(Ie.c,{allowClear:!0,format:"HH:mm",className:"w-full"})),w.a.createElement(x.a.Item,{label:"Tooltip",name:"tooltip"},w.a.createElement(N.c,null))))}var De=n(204),Ae=n(27).compose;function Re(e){var t=e.onOk,n=e.onCancel,a=e.item,r=Object(y.a)(e,["onOk","onCancel","item"]),i=x.a.useForm(),o=Object(j.a)(i,1)[0];return w.a.createElement(_,Object.assign({},r,{title:w.a.createElement(w.a.Fragment,null,w.a.createElement("div",null,"Section Header",w.a.createElement("div",{className:"inline ml-2 text-sm text-gray-600"},"typically used for section."))),onCancel:n,onOk:function(){o.validateFields().then((function(e){t&&t(e),n()}))}}),w.a.createElement(x.a,Object.assign({},Object(ae.a)(5,16),{labelAlign:"left",form:o,initialValues:a}),w.a.createElement(x.a.Item,{label:"Text",name:"text"},w.a.createElement(N.c,null)),w.a.createElement(x.a.Item,{label:"Tooltip",name:"tooltip"},w.a.createElement(N.c,null))))}function Le(){return w.a.createElement("div",null)}var Me=Le,Pe=n(163),ze=n(27).compose,Ve={HEADER:"TemplateSectionHeader",TEXT:"TemplateInputText",NUMBER:"TemplateInputNumber",SELECT:"TemplateSelect",MULTIPLE_SELECTION:"TemplateMultipleSelection",SINGLE_SELECTION:"TemplateSingleSelection",DATE:"TemplateDate",TIME:"TemplateTime",CLOZE:"TemplateCloze"},Fe=[{id:Object(O.n)(),type:Ve.HEADER,name:"Section Header",inline:!1,icon:d.a,Component:function(e){var t=e.item,n=e.editModalVisible,a=e.handleEditModalVisible,r=e.onUpdate,i=Object(re.k)({item:t,onUpdate:r}),o=i.setting,c=i.handleOk;return w.a.createElement(w.a.Fragment,null,n&&w.a.createElement(Re,{item:o,onCancel:a,onOk:c}))},setting:{text:"Section Header - typically used for section."}},{id:Object(O.n)(),type:Ve.TEXT,name:"Text",inline:!1,icon:u.a,Component:function(e){var t=e.editModalVisible,n=e.handleEditModalVisible,a=e.onUpdate,r=e.item,i=Object(re.k)({item:r,onUpdate:a}),o=i.setting,c=i.handleOk,l={bordered:!1,className:"w-2/3",placeholder:o.tooltip,defaultValue:o.defaultValue};return w.a.createElement(w.a.Fragment,null,t&&w.a.createElement(ie,{item:o,onCancel:n,onOk:c}),w.a.createElement(x.a.Item,{noStyle:!0,name:["data",r.id]},o.multipleLine?w.a.createElement(N.b,Object.assign({},l,{autoSize:{minRows:3}})):w.a.createElement(N.a,l)))},setting:{text:"Text - typically used for description something."}},{id:Object(O.n)(),type:Ve.NUMBER,name:"Number",inline:!1,icon:m.a,Component:function(e){var t=e.editModalVisible,n=e.handleEditModalVisible,a=e.item,r=e.onUpdate,i=Object(re.k)({item:a,onUpdate:r}),o=i.setting,c=i.handleOk;return w.a.createElement(w.a.Fragment,null,t&&w.a.createElement(pe,{item:o,onCancel:n,onOk:c}),w.a.createElement(x.a.Item,{noStyle:!0,name:["data",a.id],initialValue:o.defaultValue},w.a.createElement(me,{style:{width:"33.333333%"},className:"ant-input-number-borderless",min:o.min,max:o.max,formatter:function(e){return o.units?e&&Object(V.a)(String,e)&&e.includes(o.units)?"".concat(Object(O.b)(e)," ").concat(o.units):"".concat(e," ").concat(o.units):e},parser:function(e){return o.units?e.replace(new RegExp("/s".concat(o.units,"/g")),""):e},placeholder:o.tooltip})))},setting:{text:"Number - typically used for input number."}},{id:Object(O.n)(),type:Ve.SELECT,name:"Drop-down List",inline:!1,icon:p.a,Component:function(e){var t=e.item,n=e.editModalVisible,a=e.handleEditModalVisible,r=e.onUpdate,i=Object(re.k)({item:t,onUpdate:r,defaultValue:Ee}),c=i.setting,s=i.handleOk;return w.a.createElement(w.a.Fragment,null,n&&w.a.createElement(xe,{item:c,onCancel:a,onOk:s,freetextVisible:!1,title:w.a.createElement(w.a.Fragment,null,w.a.createElement("div",null,"Drop-down List"),w.a.createElement("div",{className:"mt-1 text-sm text-gray-600"},"typically used for lists of greater than 6 or 7 options."))}),w.a.createElement(x.a.Item,{noStyle:!0,name:["data",t.id]},w.a.createElement(De.a,{allowClear:!0,bordered:!1,className:"w-2/3",placeholder:c.tooltip},Ae(Object(o.a)((function(e){return w.a.createElement(De.a.Option,{key:e.id,value:e.text||""},e.text||"")})),Object(l.a)([],["options"]))(c))))},setting:{text:"Drop-down List - typically used for lists of greater than 6 or 7 options.",options:Pe.b}},{id:Object(O.n)(),type:Ve.MULTIPLE_SELECTION,name:"Multiple Selection List",inline:!1,icon:b.a,Component:we,setting:{text:"Multiple Selection List | typically used for shorter lists so that all responses are visible as checkboxes. Allows Multiple selections.",options:Pe.b}},{id:Object(O.n)(),type:Ve.SINGLE_SELECTION,name:"Single Selection List",inline:!1,icon:f.a,Component:Se,setting:{text:"Single Selection List | Typically used for shorter lists so that all responses are visible as radio buttons. Only allow a single selection.",options:Pe.b}},{id:Object(O.n)(),type:Ve.DATE,name:"Date",inline:!1,icon:h.a,Component:function(e){var t=e.editModalVisible,n=e.handleEditModalVisible,a=e.item,r=e.onUpdate,i=Object(re.k)({item:a,onUpdate:r}),o=i.setting,c=i.handleOk;return w.a.createElement(w.a.Fragment,null,t&&w.a.createElement(_e,{item:o,onCancel:n,onOk:c}),w.a.createElement(x.a.Item,{noStyle:!0,name:["data",a.id],initialValue:o.defaultValue},w.a.createElement(Ie.d,{bordered:!1,className:"w-1/3",placeholder:o.tooltip})))},setting:{text:"Date - typically used for target date."}},{id:Object(O.n)(),type:Ve.TIME,name:"Time",inline:!1,icon:g.a,Component:function(e){var t=e.editModalVisible,n=e.handleEditModalVisible,a=e.item,r=e.onUpdate,i=Object(re.k)({item:a,onUpdate:r}),o=i.setting,c=i.handleOk;return w.a.createElement(w.a.Fragment,null,t&&w.a.createElement(Te,{item:o,onCancel:n,onOk:c}),w.a.createElement(x.a.Item,{noStyle:!0,name:["data",a.id],initialValue:o.defaultValue},w.a.createElement(Ie.c,{bordered:!1,className:"w-1/3",placeholder:o.tooltip})))},setting:{text:"Time - typically used for target time."}},{id:Object(O.n)(),type:Ve.CLOZE,name:"Cloze",inline:!0,icon:v.a,html:'\n  <span style="color: grey;">(\u63d0\u793a\u5b57\uff0c\u8acb\u81ea\u884c\u522a\u9664) \u8acb\u5728\u6b64\u8f38\u5165\u6587\u5b57</span>\n',Component:Me}],Ue=ze(i.a,Object(o.a)((function(e){return Object(r.a)({},e.type,e)})))(Fe),He=ze(Object(o.a)((function(e){return Object(a.a)(Object(a.a)({},e),{},{setting:ze(i.a,Object(o.a)((function(t){return Object(r.a)({},t,ze(Object(o.a)((function(e){return Object(a.a)(Object(a.a)({},e),{},{Component:Object(c.a)([null===e||void 0===e?void 0:e.type,"Component"])(Ue)})})),Object(l.a)([],["setting",t]))(e))})),s.a,Object(l.a)({},["setting"]))(e)})})),Object(l.a)([],[])),Be=ze(Object(o.a)((function(e){return Object(a.a)(Object(a.a)({},e),{},{setting:ze(Object(o.a)((function(e){return Object(a.a)(Object(a.a)({},e),{},{Component:Object(c.a)([e.type,"Component"])(Ue)})})),Object(l.a)([],["setting"]))(e)})})),Object(l.a)([],[]));t.a=Fe},71:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c}));var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1?arguments[1]:void 0;return{labelCol:{xs:{span:e},sm:{span:e}},wrapperCol:{xs:{span:t||24-e},sm:{span:t||24-e}}}},r={formatter:function(e){return e?"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,","):e},parser:function(e){return e?e.replace(/\$\s?|(,*)/g,""):e}},i={formatter:function(e){return e?"$ ".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,","):e},parser:function(e){return e?e.replace(/\$\s?|(,*)/g,""):e}},o={max:100,formatter:function(e){return e?"".concat(e,"%"):e},parser:function(e){return e?e.replace("%",""):e}},c={required:{required:!0,message:"\u6b64\u6b04\u4f4d\u5fc5\u586b"},number:{required:!1,type:"number",message:"\u8acb\u586b\u5beb\u6578\u5b57",transform:function(e){return e?Number(e):e}},account:{required:!0,message:"\u6b04\u4f4d\u9577\u5ea6\u70ba8~128\u5b57\u5143,\u7279\u6b8a\u7b26\u865f-,_",pattern:new RegExp(/^.{8,128}$/)},password:{required:!0,message:"\u5bc6\u78bc\u9577\u5ea6\u70ba6~128\u5b57\u5143",pattern:new RegExp(/^.{6,128}$/)}}},761:function(e,t){},775:function(e,t){},777:function(e,t){},79:function(e,t,n){"use strict";n.d(t,"b",(function(){return V})),n.d(t,"d",(function(){return F})),n.d(t,"e",(function(){return H})),n.d(t,"c",(function(){return Y}));var a=n(67),r=n(66),i=n.n(r),o=n(128),c=n(11),l=n(9),s=n(3),d=(n(346),n(125)),u=n.n(d),m=n(0),p=n.n(m),b=n(107),f=n.n(b),h=n(452),g=n(29),v=n(108),O=n(42),j=n(417),y=n(78),E=n(135),x=n(94),k=n(131),w=n(63),N=n(325),C=n(56),S=n(411),I=n(453),_=n(446),T=n(156),D=n(306),A=n(48),R=function(e){for(var t=!1,n=!1,a=!1,r=0;r<e.length;r++){var i=e[r];t&&/[a-zA-Z]/.test(i)&&i.toUpperCase()===i?(e=e.slice(0,r)+"-"+e.slice(r),t=!1,a=n,n=!0,r++):n&&a&&/[a-zA-Z]/.test(i)&&i.toLowerCase()===i?(e=e.slice(0,r-1)+"-"+e.slice(r-1),a=n,n=!1,t=!0):(t=i.toLowerCase()===i&&i.toUpperCase()!==i,a=n,n=i.toUpperCase()===i&&i.toLowerCase()!==i)}return e},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");t=Object.assign({pascalCase:!1},t);var n=function(e){return t.pascalCase?e.charAt(0).toUpperCase()+e.slice(1):e};if(0===(e=Array.isArray(e)?e.map((function(e){return e.trim()})).filter((function(e){return e.length})).join("-"):e.trim()).length)return"";if(1===e.length)return t.pascalCase?e.toUpperCase():e.toLowerCase();var a=e!==e.toLowerCase();return a&&(e=R(e)),n(e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(function(e,t){return t.toUpperCase()})).replace(/\d+(\w|$)/g,(function(e){return e.toUpperCase()})))},M=n(27),P=M.compose,z=M.cond;function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=/(\{.+?\})/gi,a=Object(s.a)({},t),r=e.replace(n,(function(e){if(!("{"===e[0]))return e;var t=e.slice(1,-1),n=a[t];return a[t]=void 0,n}));return{fullUrl:r,params:a}}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e?P(Object(h.a)("&"),Object(g.a)((function(t){return Array.isArray(e[t])?"".concat(t,"=").concat(e[t].map((function(e){return"".concat(encodeURIComponent(e))})).join(",")):"".concat(t,"=").concat(encodeURIComponent(e[t]))})),Object(v.a)((function(t){return""!==e[t]&&null!==e[t]&&"undefined"!==typeof e[t]})),O.a)(e):""}function U(){var e=p.a.useState(!1),t=Object(l.a)(e,2),n=t[0],a=t[1];return[n,p.a.useCallback((function(e){return a(!0),e().then((function(e){return a(!1),e}))}),[])]}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.lazy,a=void 0===n||n,r=t.variables,d=void 0===r?{}:r,u=Object(c.a)(t,["lazy","variables"]),m=p.a.useRef(!1),b=U(),f=Object(l.a)(b,2),h=f[0],g=f[1],v=p.a.useState(),O=Object(l.a)(v,2),y=O[0],E=O[1],x=p.a.useState(),k=Object(l.a)(x,2),w=k[0],N=k[1],C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=V(e,Object(j.a)(d,t)),a=n.fullUrl,r=n.params;return"GET"===u.method&&(a="".concat(a,"?").concat(F(r))),g(Object(o.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(a,Object(s.a)(Object(s.a)(Object(s.a)({},u),"GET"!==u.method?{body:t}:{}),{},{onCompleted:function(e){u.onCompleted&&u.onCompleted({data:t,response:e}),E(e)},onError:function(e){u.onError&&u.onError(e),N(e)}}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))))};return p.a.useEffect((function(){a||m.current||(C(),m.current=!0)}),[a,m]),{loading:h,mutate:C,data:y,error:w,called:m}}u.a.config({maxCount:1});var B=function(e){return P(Object(y.a)(E.a,x.a,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.includes(e)})),Object(k.a)(1,"get")("content-type"),Object(w.a)(["headers"]))},q=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t&&"object"===typeof t?Array.isArray(t)?t.map((function(t,r){return e(t,[].concat(Object(a.a)(n),[String(r)]))})):Object.keys(t).reduce((function(r,i){var o=t[i],c=[].concat(Object(a.a)(n),[i]);return r[L(i)]=e(o,c),r}),{}):t};function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.body,a=t.headers,r=(t.msg,t.errorMsg),l=void 0===r||r,d=t.withToken,m=void 0===d||d,p=t.throwable,b=void 0!==p&&p,h=(t.successMessage,t.onCompleted),g=t.onError,v=(t.endpoint,Object(c.a)(t,["body","headers","msg","errorMsg","withToken","throwable","successMessage","onCompleted","onError","endpoint"])),O=z([[Object(N.a)("http"),Object(C.a)(e)],[S.a,Object(C.a)(A.a.apiBaseUrl+e)]])(e);return fetch(O,Object(s.a)(Object(s.a)({},v),{},{body:n instanceof FormData?n:JSON.stringify(n),headers:Object(I.a)(Object(s.a)({},m?{Authorization:"Bearer ".concat(f.a.get("sctc_token"))}:{}),a?Object(s.a)({},a):{"Content-Type":"application/json",Accept:"application/json"})})).then(function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(404!==t.status){e.next=2;break}return e.abrupt("return",Promise.reject(t.statusText));case 2:if(!B("application/json")(t)){e.next=9;break}return e.next=5,t.json();case 5:if(n=e.sent,t.ok){e.next=8;break}return e.abrupt("return",Promise.reject(n));case 8:n=q(n);case 9:if(!B("sheet")(t)){e.next=13;break}return e.next=12,t.blob();case 12:n=e.sent;case 13:if(!Object(E.a)(n)){e.next=17;break}return e.next=16,t.text();case 16:n=e.sent;case 17:return h&&h(n),e.abrupt("return",n);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var t=z([[Object(_.a)([P(Object(T.a)(String),Object(w.a)(["message"])),Object(D.a)(["message"])]),Object(w.a)(["message"])],[Object(_.a)([P(Object(T.a)(String),Object(w.a)(["message","sqlMessage"])),Object(D.a)(["message","sqlMessage"])]),Object(w.a)(["message","sqlMessage"])],[Object(T.a)(String),x.a],[S.a,Object(C.a)("Server Error")]])(e);if(l&&u.a.error(t),g&&g(e),b)throw new Error(t);return e}))}t.a=Y},90:function(e,t,n){"use strict";var a=n(109),r=n(48),i=Object(a.b)({basename:r.b.appBaseName});t.a=i}},[[631,4,5]]]);
//# sourceMappingURL=main.3e62d419.chunk.js.map