{"version":3,"sources":["services/yellowCard.ts","containers/blood-bank-review/blood-bank-review.tsx"],"names":["compose","require","useYellowCards","React","useState","content","total","totalPages","data","setData","refetch","values","_data","map","_","id","uuid","workNo","faker","lorem","slug","HHISNUM","company","catchPhrase","patholInfo","name","firstName","age","random","number","sex","reportTime","moment","reportTimeStr","format","times","identity","length","Math","floor","loading","locale","formItemLayout","createFormItemLayout","BloodBankReview","useTitle","useBreadcrumb","useForm","form","style","minHeight","justify","md","xs","layout","hideRequiredMark","labelAlign","colon","gutter","Item","className","label","color","width","onClick","allowClear","x","Option","key","value","rowKey","dataSource","columns","title","dataIndex"],"mappings":"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","file":"static/js/13.4ea5af2e.chunk.js","sourcesContent":["import React from 'react'\nimport { length, times, identity, map } from 'ramda'\nimport moment from 'moment'\nimport { DataSource } from '@/constants/types'\nimport { uuid } from '@/utils/webHelper'\nimport faker from 'faker'\nconst { compose } = require('ramda')\n\nfaker.locale = 'zh_TW'\n\nexport function useYellowCards() {\n  const [data, setData] = React.useState<DataSource>({\n    content: [],\n    total: 0,\n    totalPages: 0,\n  })\n\n  const refetch = (values?: any) => {\n    const _data = compose(\n      map(_ => ({\n        id: uuid(),\n        workNo: faker.lorem.slug(),\n        HHISNUM: faker.company.catchPhrase(),\n        patholInfo: faker.company.catchPhrase(),\n        name: faker.name.firstName(),\n        age: faker.random.number(50),\n        sex: '男',\n        reportTime: moment(),\n        reportTimeStr: moment().format('YYYY.MM.DD HH:mm:ss'),\n      })),\n      times(identity)\n    )(100)\n\n    setData({\n      content: _data,\n      total: length(_data),\n      totalPages: Math.floor(length(_data) / 10) + 1,\n    })\n  }\n\n  return {\n    data,\n    refetch,\n    loading: false,\n  }\n}\n","import React from 'react'\nimport { length, compose, identity, times, map } from 'ramda'\nimport { Row, Col, Form } from 'antd'\nimport { ColumnProps } from 'antd/lib/table'\nimport useTitle from '@/hooks/useTitle'\nimport { useBreadcrumb } from '@/hooks/useApp'\nimport { useYellowCards } from '@/services/yellowCard'\nimport Select from '@/components/select'\nimport Input from '@/components/input'\nimport Table from '@/components/query-table'\nimport Button from '@/components/button'\nimport { Page } from '@/components/layout'\nimport { createFormItemLayout } from '@/utils/form'\n\nconst formItemLayout = createFormItemLayout(5)\n\nexport default function BloodBankReview() {\n  useTitle('血庫備血審查作業')\n  useBreadcrumb([{ name: '清單查詢' }, { name: '血庫備血審查作業' }])\n\n  const [form] = Form.useForm()\n\n  const { data, refetch } = useYellowCards()\n\n  const handleOk = () => {\n    refetch()\n  }\n\n  const columns: ColumnProps<any>[] = [\n    { title: '申請序號', dataIndex: 'serialNo' },\n    { title: '就醫別', dataIndex: 'seekMedicalType' },\n    { title: '就醫號', dataIndex: 'seekMedicalNo' },\n    { title: '姓名', dataIndex: 'name' },\n    { title: '工作號', dataIndex: 'workNo' },\n    { title: '病歷號', dataIndex: 'medicalNo' },\n    { title: '性別', dataIndex: 'sex' },\n    { title: '開立日期', dataIndex: 'createTimeStr' },\n    { title: '執行日期', dataIndex: 'reportTimeStr' },\n    { title: '醫囑名稱', dataIndex: 'doctorSay' },\n    { title: '收費碼', dataIndex: 'paymentId' },\n    { title: '狀態', dataIndex: 'status' },\n    { title: '執行科別代碼', dataIndex: 'age' },\n  ]\n\n  return (\n    <Page style={{ minHeight: 'calc(100vh - 203px)' }}>\n      <Row justify=\"center\">\n        <Col md={22} xs={24}>\n          <Form\n            form={form}\n            layout=\"horizontal\"\n            hideRequiredMark={true}\n            labelAlign=\"left\"\n            colon={false}>\n            <Row gutter={24}>\n              <Col md={8} xs={24}>\n                <Form.Item\n                  {...formItemLayout}\n                  className=\"mb-3\"\n                  label=\"科別\"\n                  name=\"no\">\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col md={8} xs={24}>\n                <Form.Item\n                  {...formItemLayout}\n                  className=\"mb-3\"\n                  label=\"收費碼\"\n                  name=\"no\">\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col md={5} xs={24}>\n                <Form.Item className=\"mb-3\">\n                  <Button\n                    color=\"primary\"\n                    className=\"ml-4\"\n                    style={{ width: 120 }}\n                    onClick={handleOk}>\n                    搜尋\n                  </Button>\n                </Form.Item>\n              </Col>\n            </Row>\n            <Row gutter={24}>\n              <Col md={8} xs={24}>\n                <Form.Item {...formItemLayout} label=\"審核醫生\" name=\"doctor\">\n                  <Select allowClear>\n                    {compose(\n                      map((x: number) => (\n                        <Select.Option key={x} value={x}>\n                          {x}\n                        </Select.Option>\n                      )),\n                      times(identity)\n                    )(120)}\n                  </Select>\n                </Form.Item>\n              </Col>\n              <Col md={8} xs={24}>\n                <Form.Item {...formItemLayout} label=\"狀態\" name=\"state\">\n                  <Select allowClear>\n                    <Select.Option value={1}>初步</Select.Option>\n                  </Select>\n                </Form.Item>\n              </Col>\n            </Row>\n          </Form>\n        </Col>\n      </Row>\n      {length(data.content) > 0 && (\n        <>\n          <Row className=\"mb-2 mt-4\" justify=\"center\">\n            <Col md={22} xs={24} className=\"text-sm\">\n              檢索結果共 <span className=\"text-primary\">{data.total}</span> 筆\n            </Col>\n          </Row>\n          <Row justify=\"center\">\n            <Col md={22} xs={24}>\n              <Table rowKey=\"id\" dataSource={data} columns={columns} />\n            </Col>\n          </Row>\n        </>\n      )}\n    </Page>\n  )\n}\n"],"sourceRoot":""}