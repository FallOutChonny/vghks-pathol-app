(this["webpackJsonpvghks-pathol-app"]=this["webpackJsonpvghks-pathol-app"]||[]).push([[10],{1501:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(142),i=a(239),l=a(35),o=a(48),s=a(41),m=a(42),u=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null)}}]),a}(c.a.Component),d=a(268),p={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"};function f(e){var t=e.initialOffset,a=e.currentOffset;if(!t||!a)return{display:"none"};var n=a.x,c=a.y,r="translate(".concat(n,"px, ").concat(c,"px)");return{transform:r,WebkitTransform:r}}t.a=Object(r.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}}))((function(e){var t=e.itemType,a=e.isDragging,n=e.currentOffset;if(!a)return null;if(!n)return null;var r=document.elementFromPoint(n.x,n.y),l=!1;return r&&(l=Object(d.a)(r)),c.a.createElement("div",{className:"report-template-builder__drag-layer",style:p},c.a.createElement("div",{style:f(e)},function(e){var a=e.canDrop;switch(t){case i.a.BOARD:case i.a.SNIPPET:return c.a.createElement(u,{canDrop:a});default:return null}}({canDrop:l})))}))},1503:function(e,t,a){"use strict";a.d(t,"b",(function(){return n}));var n,c=a(3),r=a(0),i=a.n(r),l=a(55),o=a(393),s=a(102),m=a(154),u=a(200),d=a(26).compose,p=m.a.confirm;t.a=function(e){var t=e.content,a=e.dataSource,r=void 0===a?[]:a,m=e.onOk,f=e.onBeforeOpen,b=e.refetchQueries,O=e.onCancel,h=e.item,g=e.modalProps,j=void 0===g?{}:g,v=e.onCompleted,E=i.a.useRef((function(){return{}})),y=function(e){var a=d(Object(l.a)(h,[]),Object(o.a)((function(t){return"".concat(Object(s.a)(["id"],t))===e.currentTarget.dataset.id})))(r);n=p(Object(c.a)(Object(c.a)({},Object(u.b)(t,j)),{},{okText:"\u78ba\u8a8d",onOk:function(){return n&&n.update({okButtonProps:{className:"c-btn c-btn--danger",style:{minWidth:80,marginRight:24},loading:!0}}),new Promise((function(e){m&&m(a),v&&v(),E.current=function(){e(),b&&b()}}))},onCancel:function(){O&&O()}}))};return[function(e){f&&f(),y(e)},function(){n&&n.update({okButtonProps:{className:"c-btn c-btn--danger",style:{minWidth:96,marginRight:16},loading:!1}})}]}},1551:function(e,t,a){"use strict";var n=a(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},r=a(24),i=function(e,t){return n.createElement(r.a,Object.assign({},e,{ref:t,icon:c}))};i.displayName="MinusOutlined";t.a=n.forwardRef(i)},1562:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return U}));a(507);var n=a(398),c=a.n(n),r=(a(266),a(73)),i=a.n(r),l=(a(267),a(43)),o=a.n(l),s=a(12),m=a(3),u=(a(510),a(155)),d=a.n(u),p=(a(110),a(19)),f=a.n(p),b=a(9),O=a(13),h=a(0),g=a.n(h),j=a(1551),v=a(1467),E=a(495),y=a(31),N=a(512),w=a(509),k=a(1503),x=a(192),C=a(508),I=a(64),S=a(33),_=a(511),D=a(518),P=a(1501),T=a(517),B=a(170),R=a(516),F=a(62),A=a(100),L=a(72),W=a(45),q=a(23),z=a(26).compose,H=Object(O.default)("div").withConfig({displayName:"phrase-edit___StyledDiv",componentId:"b9s3jt-0"})({width:60}),J=Object(O.default)("div").withConfig({displayName:"phrase-edit___StyledDiv2",componentId:"b9s3jt-1"})({width:60}),M=Object(O.default)("div").withConfig({displayName:"phrase-edit___StyledDiv3",componentId:"b9s3jt-2"})({width:60});function U(e){Object(w.a)("\u7d50\u69cb\u5f0f\u5831\u544a\u6a21\u7248"),Object(x.a)([{name:"\u5831\u544a\u6a21\u7248"},{name:"\u7247\u8a9e\u6a21\u7248"}]);var t=e.match.params,a=Object(F.g)(),n=Object(b.a)(a,2),r=n[0],l=n[1],u=Object(R.b)({id:t.id}),p=u.loading,O=u.phraseTemplate,h=u.snippetList,U=u.handleSnippetUpdate,G=f.a.useForm(),K=Object(b.a)(G,1)[0],Q=Object(R.a)({onCompleted:function(e){A.a.push(Object(E.a)(":id",null===e||void 0===e?void 0:e.data.name)(W.f)),d.a.success("\u7247\u8a9e\u6a21\u7248\u5df2\u5efa\u7acb\u6210\u529f")}}),V=Object(b.a)(Q,2),X=V[0],Y=V[1],Z=Object(R.a)({onCompleted:function(e){d.a.success("\u7247\u8a9e\u6a21\u7248\u5df2\u5132\u5b58\u6210\u529f"),A.a.push(Object(E.a)(":id",null===e||void 0===e?void 0:e.data.name)(W.f)),k.b&&k.b.destroy()},onError:function(){k.b&&re()}}),$=Object(b.a)(Z,2),ee=$[0],te=$[1],ae=Object(k.a)({content:"\u767c\u4f48\u5f8c\u7247\u8a9e\u6a21\u7248\u5c07\u53ef\u4ee5\u5728\u5831\u544a\u4e2d\u4f7f\u7528\uff0c\u78ba\u8a8d\u8981\u767c\u4f48\u55ce\uff1f",onOk:function(){return te({id:O.id,status:q.e.FINISH})}}),ne=Object(b.a)(ae,2),ce=ne[0],re=ne[1],ie=Object(N.a)(W.g),le=Object(F.f)({filename:"\u7247\u8a9e\u6a21\u7248",data:Object(m.a)(Object(m.a)({},O),{},{setting:h})});return Object(x.c)(g.a.createElement("div",{className:"inline-flex"},g.a.createElement(I.a,{color:"outline",className:"ml-6 bg-transparent text-white border-white",onClick:ce},"\u767c\u4f48"),g.a.createElement(I.a,{color:"outline",className:"ml-6 bg-transparent text-white border-white",onClick:function(){K.validateFields().then((function(e){((null===O||void 0===O?void 0:O.id)?te:Y)(Object(m.a)(Object(m.a)(Object(m.a)({},O),e),{},{setting:z(Object(y.a)((function(e){e.Component,e.icon;var t=Object(s.a)(e,["Component","icon"]);return Object(m.a)({},t)})))(h)}))}))}},"\u5132\u5b58"),g.a.createElement(I.a,{color:"outline",className:"ml-6 bg-transparent text-white border-white",onClick:ie},"\u53d6\u6d88"),g.a.createElement(I.a,{color:"outline",className:"ml-6 bg-transparent text-white border-white",onClick:le},"\u532f\u51fa"),g.a.createElement(I.a,{color:"outline",className:"ml-6 bg-transparent text-white border-white",onClick:l},"\u9810\u89bd"))),g.a.createElement(_.a,null,g.a.createElement(P.a,null),g.a.createElement(c.a,{spinning:p||X||ee},g.a.createElement(C.a,{className:"pr-12"},g.a.createElement(f.a,{form:K,initialValues:Object(m.a)({},O)},g.a.createElement(i.a,{gutter:48,className:"pt-2 relative"},g.a.createElement(o.a,{span:5},g.a.createElement(B.a,{defaultActiveKey:[1,2],expandIconPosition:"right",className:"shadow-2xl header-pl-clear",expandIcon:function(e){return e.isActive?g.a.createElement(j.a,null):g.a.createElement(v.a,null)}},g.a.createElement(B.a.Panel,{header:"\u7247\u8a9e\u6a21\u7248",key:1},g.a.createElement(i.a,{className:"mb-2 text-sm text-darkGrey"},g.a.createElement(o.a,{span:24,className:"mb-3"},g.a.createElement(H,{className:"inline-block"},"\u540d\u7a31:"),g.a.createElement(f.a.Item,{noStyle:!0,name:"name",rules:[L.d.required]},g.a.createElement(S.c,{className:"w-2/3"}))),g.a.createElement(o.a,{span:24,className:"my-3"},g.a.createElement(J,{className:"inline-block"},"\u63cf\u8ff0:"),g.a.createElement(f.a.Item,{noStyle:!0,name:"description"},g.a.createElement(S.c,{className:"w-2/3"}))),g.a.createElement(o.a,{span:24,className:"my-3"},g.a.createElement(M,{className:"inline-block"},"\u5275\u4f5c\u8005:"),g.a.createElement(f.a.Item,{noStyle:!0,name:"author",rules:[L.d.required]},g.a.createElement(S.c,{className:"w-2/3"}))))),g.a.createElement(B.a.Panel,{header:"\u5de5\u5177\u5217",key:2},g.a.createElement(i.a,null,g.a.createElement(o.a,{span:24},g.a.createElement(D.a,null)))))),g.a.createElement(o.a,{span:19,className:"report-template-builder__main-content rounded-tl-lg"},g.a.createElement(T.a,{draggable:!r,snippetList:h,onSnippetUpdate:U})))))))}}}]);
//# sourceMappingURL=10.95772b3a.chunk.js.map