(this["webpackJsonpvghks-pathol-app"]=this["webpackJsonpvghks-pathol-app"]||[]).push([[12],{1496:function(e,t,a){"use strict";a.d(t,"e",(function(){return m})),a.d(t,"d",(function(){return b})),a.d(t,"c",(function(){return O})),a.d(t,"b",(function(){return j})),a.d(t,"a",(function(){return f}));var n=a(3),r=a(13),c=a(0),o=a.n(c),i=(a(309),a(139),a(57),a(489)),l=(a(82),a(121)),d=a(231),u=a(21),s=a(23);a(26).compose;function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.division,a=void 0===t?s.a.PATH:t,c=Object(r.a)(e,["division"]),o=Object(l.a)("/api/v1/c2/getC2DoctorList/{division}",{variables:Object(n.a)({division:a},c)}),d=o.data,u=void 0===d?[]:d,m=Object(r.a)(o,["data"]),b=null===u||void 0===u?void 0:u.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{id:e.doctorId})})),O={};return Object(i.a)((function(e){return O[e.doctorId]=e}),b),Object(n.a)(Object(n.a)({},m),{},{doctorById:O,data:b,doctorEnums:b})}function b(e){var t=m().data;return o.a.createElement(d.a,e,t.map((function(e){return o.a.createElement(d.a.Option,{key:e.id,value:e.doctor},e.doctor)})))}function O(e){var t=function(){var e=Object(l.a)("/api/v1/b1/getBodyParts"),t=e.data,a=void 0===t?[]:t,c=Object(r.a)(e,["data"]),o=null===a||void 0===a?void 0:a.map((function(e){return{id:Object(u.n)(),name:e}}));return Object(n.a)(Object(n.a)({},c),{},{data:o})}().data;return o.a.createElement(d.a,e,t.map((function(e){return o.a.createElement(d.a.Option,{key:e.id,value:e.name},e.name)})))}function j(e){var t=function(){var e=Object(l.a)("/api/v1/b1/getWards"),t=e.data,a=void 0===t?[]:t,c=Object(r.a)(e,["data"]),o=null===a||void 0===a?void 0:a.map((function(e){return{id:Object(u.n)(),name:e}}));return Object(n.a)(Object(n.a)({},c),{},{data:o})}().data;return o.a.createElement(d.a,e,t.map((function(e){return o.a.createElement(d.a.Option,{key:e.id,value:e.name},e.name)})))}function f(e){var t=function(){var e=Object(l.a)("/api/v1/b1/getAppointmentTypes"),t=e.data,a=void 0===t?[]:t,c=Object(r.a)(e,["data"]),o=null===a||void 0===a?void 0:a.map((function(e){return{id:Object(u.n)(),name:e}}));return Object(n.a)(Object(n.a)({},c),{},{data:o})}().data;return o.a.createElement(d.a,e,t.map((function(e){return o.a.createElement(d.a.Option,{key:e.id,value:e.name},e.name)})))}},1499:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(78),r=a(3),c=a(9),o=a(13),i=a(523),l=a(86),d=a(107),u=a(93),s=a(137),m=a(21);function b(e){var t=e.startDateField,a=void 0===t?"startDate":t,b=e.endDateField,O=void 0===b?"endDate":b,j=e.format;return function(e){var t;if(!e)return{};var b=e.date,f=void 0===b?[]:b,p=Object(o.a)(e,["date"]),v=Object(m.c)(f,j),E=Object(c.a)(v,2),h=E[0],x=E[1];return Object(i.a)({createDate:Object(l.a)(d.a,u.a,Object(s.a)(1,"format")("YYYY-MM-DD")),reportDate:Object(l.a)(d.a,u.a,Object(s.a)(1,"format")("YYYY-MM-DD"))})(Object(r.a)(Object(r.a)({},p),{},(t={},Object(n.a)(t,a,h),Object(n.a)(t,O,x),t)))}}},1515:function(e,t,a){"use strict";var n=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},c=a(24),o=function(e,t){return n.createElement(c.a,Object.assign({},e,{ref:t,icon:r}))};o.displayName="EyeOutlined";t.a=n.forwardRef(o)},1556:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ce}));a(507);var n=a(398),r=a.n(n),c=(a(266),a(73)),o=a.n(c),i=(a(267),a(42)),l=a.n(i),d=(a(214),a(90)),u=a.n(d),s=a(68),m=a.n(s),b=a(3),O=a(144),j=(a(510),a(230)),f=a.n(j),p=(a(109),a(19)),v=a.n(p),E=a(9),h=a(0),x=a.n(h),g=a(86),y=a(174),I=a(139),w=a(93),k=a(357),C=a(52),D=a(152),q=a(101),N=a(521),Y=a(494),M=a(354),R=a(63),z=a(137),F=a(32),S=a(1515),T=a(1487),A=a(509),B=a(191),H=a(1499),P=a(233),U=a(1496),J=a(231),K=a(33),W=a(244),_=a(508),L=a(308),Q=a(64),V=a(110),G=a(23),X=a(44),Z=a(72),$=a(21),ee=a(62),te=a(800),ae=a.n(te),ne=a(26).compose,re=Object(Z.a)(6);function ce(){Object(A.a)("\u5831\u544a\u67e5\u8a62");var e=Object(B.a)([{name:"\u5831\u544a\u67e5\u8a62"}]),t=x.a.useState(!1),a=Object(E.a)(t,2),n=a[0],c=a[1],i=v.a.useForm(),d=Object(E.a)(i,1)[0],s=Object(H.a)({format:"YYYY-MM-DD"}),j=Object(P.f)({onCompleted:function(e){if(c(!1),n){var t=Object(g.a)(Object(y.a)(Array),I.a,w.a)(e),a=Object(k.a)(["templateId"]),r=ne(Object(C.a)(D.a,"\u5b8c\u6210"),Object(q.a)(["orstatus"])),o=Object(k.a)(["orreqno"]);Object(N.a)([o,a,r])(t)&&V.a.push("".concat(Object(Y.a)(":id",t.orreqno)(X.i),"?finish=1")),Object(N.a)([o,a])(t)&&V.a.push(Object(Y.a)(":id",t.orreqno)(X.i)),Object(N.a)([o,ne(M.a,a)])(t)&&V.a.push("".concat(X.k,"?orreqno=").concat(t.orreqno)),ne(M.a,Object(k.a)(["orreqno"]))(t)&&f.a.error("\u67e5\u7121\u5831\u544a")}}}),p=j.loading,h=j.data,te=j.refetch,ce=j.called,oe=function(e){V.a.push(Object(Y.a)(":id","".concat(e.currentTarget.dataset.id))(X.i))},ie=function(e){var t=Object(Y.a)(":id","")(ee.a.viewerUrl);window.open("".concat(t,"?PatientID=").concat(e.currentTarget.dataset.id),"__blank")},le=function(e){V.a.push(Object(Y.a)(":id","".concat(e.currentTarget.dataset.id))(X.d))},de=[{title:"\u7533\u8acb\u5e8f\u865f",dataIndex:"orreqno",sorter:Object($.j)("orreqno")},{title:"\u59d3\u540d",dataIndex:"hnamec"},{title:"\u75c5\u7406\u865f",dataIndex:"orworkno",sorter:Object($.j)("orworkno")},{title:"\u75c5\u6b77\u865f",dataIndex:"hhisnum",sorter:Object($.j)("hhisnum")},{title:"\u75c5\u623f",dataIndex:"hnursta",sorter:Object($.j)("hnursta")},{title:"\u5e8a\u865f",dataIndex:"hbed",sorter:Object($.j)("hbed")},{title:"\u6027\u5225",dataIndex:"hsex",sorter:Object($.j)("hsex")},{title:"\u7c3d\u6536\u65e5\u671f",dataIndex:"zrsregord",sorter:Object($.j)("zrsregord")},{title:"\u6536\u8cbb\u78bc",dataIndex:"ordclnm"},{title:"\u79d1\u5225",dataIndex:"csect",sorter:Object($.j)("csect")},{title:"\u72c0\u614b",dataIndex:"orstatus",sorter:Object($.j)("orstatus")},{title:"\u91ab\u56d1",dataIndex:"ORPROCED",render:function(e,t){return x.a.createElement(u.a,{title:"\u67e5\u770b\u91ab\u56d1\u5167\u5bb9"},x.a.createElement(S.a,{"data-id":t.orreqno,className:"cursor-pointer text-lg",onClick:le}))}},{title:"\u5831\u544a",dataIndex:"x",render:function(e,t){return x.a.createElement(u.a,{title:"\u7de8\u8f2f\u3001\u67e5\u770b\u5831\u544a\u5167\u5bb9"},x.a.createElement(T.a,{"data-id":t.orreqno,className:"cursor-pointer text-lg",onClick:oe}))}},{title:"\u5f71\u50cf",dataIndex:"createAt",render:function(e,t){return x.a.createElement(u.a,{title:"\u958b\u555f\u65b0\u8996\u7a97\u67e5\u770b\u5f71\u50cf"},x.a.createElement(S.a,{"data-id":t.hhisnum,className:"cursor-pointer text-lg",onClick:ie}))}}];return x.a.createElement(r.a,{spinning:p},x.a.createElement(_.a,{style:{minHeight:"calc(100vh - 203px)"}},x.a.createElement(o.a,{justify:"center"},x.a.createElement(l.a,{md:22,xs:24},x.a.createElement(v.a,{form:d,layout:"horizontal",hideRequiredMark:!0,labelAlign:"left",colon:!1},x.a.createElement(o.a,{gutter:12,justify:"space-between"},x.a.createElement(l.a,{md:7,xs:24},x.a.createElement(ae.a,{noStyle:!0,shouldUpdate:!0},(function(e){var t=ne(Object(g.a)(Object(C.a)(D.a,"rpresult"),Object(R.a)({rules:[Z.d.required]}),Object(R.a)({})),Object(z.a)(1,"getFieldValue")("classification"))(e);return x.a.createElement(v.a.Item,Object.assign({},re,t,{label:"\u67e5\u8a62\u55ae\u865f",name:"no"}),x.a.createElement(K.c,{addonBefore:x.a.createElement(v.a.Item,{noStyle:!0,name:"noType"},x.a.createElement(J.a,Object.assign({},t,{allowClear:!0,style:{width:100},placeholder:"\u55ae\u865f\u985e\u578b"}),x.a.createElement(J.a.Option,{value:"ORREQNO"},"\u7533\u8acb\u5e8f\u865f"),x.a.createElement(J.a.Option,{value:"ORWORKNO"},"\u75c5\u7406\u865f"),x.a.createElement(J.a.Option,{value:"HHISNUM"},"\u75c5\u6b77\u865f")))}))}))),x.a.createElement(l.a,{md:7,xs:24},x.a.createElement(v.a.Item,Object.assign({},re,{label:"\u67e5\u8a62\u985e\u5225",name:"classification",rules:[Z.d.required]}),x.a.createElement(J.a,{allowClear:!0},x.a.createElement(J.a.Option,{value:"pathorderview"},"\u91ab\u56d1"),x.a.createElement(J.a.Option,{value:"rpresult"},"\b\u5831\u544a")))),x.a.createElement(l.a,{md:7,xs:24},x.a.createElement(v.a.Item,Object.assign({},re,{label:"\u7c3d\u6536\u65e5\u671f",name:"date"}),x.a.createElement(W.b,{className:"w-full"})))),x.a.createElement(o.a,{gutter:12,justify:"space-between"},x.a.createElement(l.a,{md:7,xs:24},x.a.createElement(v.a.Item,Object.assign({},re,{label:"\u91ab\u5e2b",name:"doctor"}),x.a.createElement(U.d,{allowClear:!0}))),x.a.createElement(l.a,{md:7,xs:24},x.a.createElement(v.a.Item,Object.assign({},re,{label:"\u5831\u544a\u72c0\u614b",name:"reportStatus"}),x.a.createElement(J.a,{allowClear:!0},Object(F.a)((function(e){return x.a.createElement(J.a.Option,{key:e.id,value:e.id},e.name)}))(G.d)))),x.a.createElement(l.a,{md:7,xs:24},x.a.createElement(v.a.Item,null,x.a.createElement(Q.a,{color:"primary",style:{width:120},className:"mr-3",onClick:function(){return d.resetFields()}},"\u91cd\u8a2d"),x.a.createElement(Q.a,{color:"primary",style:{width:120},onClick:function(){d.validateFields().then(function(){var t=Object(O.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"rpresult"===a.classification&&c(!0),te(s(Object(b.a)({},a))),e([{name:"\u5831\u544a\u67e5\u8a62"},{name:"\u67e5\u8a62\u7d50\u679c"}]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},"\u641c\u5c0b"))))))),ce&&!n&&x.a.createElement(x.a.Fragment,null,x.a.createElement(o.a,{className:"mb-2 mt-4",justify:"center"},x.a.createElement(l.a,{md:24,xs:24,className:"text-sm"},"\u6aa2\u7d22\u7d50\u679c\u5171 ",x.a.createElement("span",{className:"text-primary"},h.total)," \u7b46")),x.a.createElement(o.a,{justify:"center"},x.a.createElement(l.a,{md:24,xs:24},x.a.createElement(L.a,{rowKey:"id",dataSource:h,columns:de}))))))}}}]);
//# sourceMappingURL=12.1c623402.chunk.js.map