(this["webpackJsonpvghks-pathol-app"]=this["webpackJsonpvghks-pathol-app"]||[]).push([[12],{2441:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));n(273);var a=n(186),i=n.n(a),r=(n(274),n(187)),o=n.n(r),c=(n(272),n(181)),l=n.n(c),s=n(85),u=n(0),d=n.n(u),h=n(224),p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},g=n(76),m=function(e,t){return u.createElement(g.a,Object.assign({},e,{ref:t,icon:p}))};m.displayName="EyeOutlined";var b=u.forwardRef(m),f=n(2457),v=n(464),y=n(98),x=n(697),O=n(112),E=n(471),S=n(465),j=n(153),M=n(251),w=n(43);var C=n(47),k=n(532),N=n(604);function I(){Object(E.a)("\u7d50\u69cb\u5f0f\u5831\u544a\u6a21\u7248\u5217\u8868"),Object(j.a)([{name:"\u7d50\u69cb\u5f0f\u5831\u544a"},{name:"\u7d50\u69cb\u5f0f\u5831\u544a\u6a21\u7248\u5217\u8868"}]);var e=Object(S.c)(),t=Object(s.a)(e,1)[0],n=function(e){var t=e.content,n=e.key,a=void 0===n?"id":n,i=e.onToggle,r=e.ownState,o=d.a.useState(!1),c=Object(s.a)(o,2),l=c[0],u=c[1],h=r||d.a.useState(null),p=Object(s.a)(h,2),g=p[0],m=p[1],b=d.a.useCallback((function(e){return Object(M.a)((function(t){return"".concat(Object(w.a)([a],t))===e.currentTarget.dataset.id}))(t)}),[t,a]),f=function(e){if(e){var t=b(e);t||m(null),t&&m(t),i&&i(t)}};return[l,function(e){u((function(e){return!e})),f(e)},{item:g,handleModalToggle:f,setItem:m}]}({content:t.content}),a=Object(s.a)(n,3),r=a[0],c=a[1],u=a[2].item,p=Object(S.a)(),g=Object(s.a)(p,2)[1],m=function(e){return function(){O.a.push(e)}},I=function(e){g(),c(e)},D=[{title:"\u5831\u544a\u540d\u7a31",dataIndex:"name",render:function(e,t){return d.a.createElement(y.a,{type:"link",onClick:(n=t,function(){m(Object(h.a)(":id","".concat(n.id))(C.e))()})},e);var n}},{title:"\u5275\u4f5c\u8005",dataIndex:"author"},{title:"\u72c0\u614b",dataIndex:"statusName"},{title:"\u5275\u4f5c\u6642\u9593",dataIndex:"createdAtStr"},{title:"\u4e0a\u6b21\u4fee\u6539\u6642\u9593",dataIndex:"updatedAtStr"},{title:"\u5831\u544a\u63cf\u8ff0",dataIndex:"description"},{title:"actions",dataIndex:"delete",align:"center",render:function(e,t){return d.a.createElement(d.a.Fragment,null,d.a.createElement(l.a,{title:"\u6aa2\u8996"},d.a.createElement(b,{"data-id":t.id,className:"c-icon text-lg cursor-pointer mr-3",onClick:I})),d.a.createElement(l.a,{title:"\u522a\u9664"},d.a.createElement(f.a,{"data-id":t.id,className:"c-icon text-lg cursor-pointer"})))}}];return d.a.createElement(k.a,{className:"is--preview"},r&&d.a.createElement(N.a,{snippetList:null===u||void 0===u?void 0:u.setting,onCancel:I}),d.a.createElement(v.a,null,d.a.createElement(i.a,{className:"mb-4"},d.a.createElement(o.a,{span:24,className:"flex justify-end"},d.a.createElement(y.a,{color:"outline"},"\u532f\u5165"),d.a.createElement(y.a,{color:"outline",className:"ml-4",onClick:m(C.d)},"\u65b0\u589e"))),d.a.createElement(i.a,null,d.a.createElement(o.a,{span:24},d.a.createElement(x.a,{rowKey:"id",columns:D,dataSource:t})))))}},459:function(e,t,n){"use strict";t.a={CARD:"card",BOARD:"board",SNIPPET:"snippet"}},474:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n(216),i=n(119),r=function(e,t){return e.find((function(e){return!Object(i.b)(e.className)&&Object(a.a)(t)(e.className)}))};function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"report-template-builder__main-content",n=e,a=[];for(a.push(n);null===(i=n)||void 0===i?void 0:i.parentNode;){var i;a.unshift(n.parentNode),n=n.parentNode}return!r(a,"report-template-builder-contentarea--fixed-layout")&&!r(a,"snippet-drawer-menu")&&!(!r(a,t)&&!r(a,"ui-draggable"))}function c(e){var t=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ui-draggable";return t.classList.contains(n)?t:t.parentElement&&e(t.parentElement,n)}(document.elementFromPoint(e.x,e.y)),n=t&&t.dataset.index;return{overSnippet:t,placeholderIndex:t?Number(t.dataset.index):-1,isOverSnippet:!Object(i.b)(n)}}function l(e){return e.displayName||e.name||("string"===typeof e&&e.length>0?e:"Unknown")}},486:function(e,t,n){"use strict";var a=n(116),i=n(117),r=n(173),o=n(174),c=n(118),l=n(0),s=n.n(l),u=n(429),d=n(302),h=n(221),p=n(7),g=n.n(p),m=n(466),b=n(459),f=(n(272),n(181)),v=n.n(f),y=n(34),x=n(2456),O=n(2457),E=y.d.div.withConfig({displayName:"snippet-toolbar__ToolbarWrapper",componentId:"sc-1penmlr-0"})(["position:absolute;top:16px;right:24px;visibility:hidden;transition:visibility 0s,opacity 0.3s,max-height 0.6s linear;opacity:0;z-index:1;&.is--over{visibility:visible;transition:visibility 0s,opacity 0.3s,max-height 0.6s linear;opacity:0.8;}"]);function S(e){var t=e.tabIndex,n=e.onEdit,a=e.onDelete;return s.a.createElement(E,{className:g()("text-primary",{"is--over":1===t})},s.a.createElement(v.a,{title:"\u7de8\u8f2f"},s.a.createElement(x.a,{className:"mr-2 cursor-pointer",onClick:n})),s.a.createElement(v.a,{title:"\u522a\u9664"},s.a.createElement(O.a,{className:"cursor-pointer",onClick:a})))}var j=n(182),M=Object(u.DragSource)(b.a.BOARD,{beginDrag:function(e){return Object(c.a)(Object(c.a)({},e),{},{fromMenu:!1,originalIndex:e.findSnippet(e.id).index})},canDrag:function(e){return!(!e.draggable||e.fromMenu)}},(function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})),w=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).componentDidMount=function(){var e=i.props.connectDragPreview;e&&e(Object(d.a)())},i.handleRemove=function(){Object(m.a)({content:"\u522a\u9664\u5f8c\u5c07\u7121\u6cd5\u9084\u539f\uff0c\u78ba\u8a8d\u7e7c\u7e8c\uff1f",title:"\u78ba\u8a8d\u8981\u522a\u9664\u9019\u500b\u6a21\u7248?",onOk:function(){i.props.removeSnippet(i.props.index)},onCancel:function(){console.log("Cancel")}})},i.handleEditModalVisible=function(){i.setState((function(e){return{editModalVisible:!e.editModalVisible}}))},i.handleIndent=function(e){return function(){}},i._onMouseOver=function(){i.setState({tabIndex:1})},i._onMouseOut=function(){i.setState({tabIndex:-1})},i.state={top:0,tabIndex:-1,editModalVisible:!1},i}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.connectDragSource,a=t.connectDragPreview,i=t.isDragging,r=t.wrapperId,o=t.index,l=t.draggable,u=t.style,d=void 0===u?{}:u,p=t.className,m=void 0===p?"mb-3":p,b=this.state,f=b.tabIndex,v=b.editModalVisible,y=Object(h.a)(function(e){var t=e.isDragging,n=e.tabIndex,a=e.draggable,i=1===n;return Object(c.a)(Object(c.a)(Object(c.a)({},i?{borderRadius:3}:{}),a?{border:"1px dashed ".concat(a?"#e7e7e7":"transparent")}:{outlineColor:i?j.a.purple150:"transparent"}),{},{cursor:"default",position:"relative",display:t?"none":"block"})}({isDragging:i,tabIndex:f,draggable:l}),d);return n(a(s.a.createElement("div",{id:r,style:y,className:g()("ui-sortable",{"ui-draggable":l},m),tabIndex:f,onMouseOver:this._onMouseOver,onMouseOut:this._onMouseOut,"data-index":o},l&&s.a.createElement(S,{tabIndex:f,onEdit:this.handleEditModalVisible,onDelete:this.handleRemove}),s.a.Children.map(this.props.children,(function(t){return s.a.cloneElement(t,{editModalVisible:v,handleEditModalVisible:e.handleEditModalVisible})})))))}}]),n}(s.a.Component);t.a=M(w)},532:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a=n(116),i=n(117),r=n(173),o=n(174),c=n(0),l=n.n(c),s=n(34),u=n(7),d=n.n(u),h=n(95),p=n(19),g=n(157),m=n(515),b=n.n(m),f=n(88),v=n.n(f),y=n(77),x=n.n(y),O=n(474);function E(){}function S(e,t,n){return Math.floor(Math.min(t,Math.max(e,n)))}function j(e){return function(t,n){var a=t.y,i=t.h,r=t.x,o=t.w,c=Math.min(i/2,e);if(n.y>=a&&n.y<=a+i&&n.x>=r&&n.x<=r+o){if(n.y<a+c)return(n.y-a-c)/c;if(n.y>a+i-c)return-(a+i-n.y-c)/c}return 0}}var M,w=(M=150,function(e,t){var n=e.x,a=e.w,i=e.y,r=e.h,o=Math.min(a/2,M);if(t.x>=n&&t.x<=n+a&&t.y>=i&&t.y<=i+r){if(t.x<n+o)return(t.x-n-o)/o;if(t.x>n+a-o)return-(n+a-t.x-o)/o}return 0}),C=j(150);var k=function(e){var t=function(t){Object(r.a)(c,t);var n=Object(o.a)(c);function c(e,t){var i;return Object(a.a)(this,c),(i=n.call(this,e,t)).handleEvent=function(e){i.dragging&&!i.attached&&(i.attach(),i.updateScrolling(e))},i.updateScrolling=b()((function(e){var t=i.container.getBoundingClientRect(),n={x:t.left,y:t.top,w:t.width,h:t.height},a=function(e){return"touchmove"===e.type?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY}}(e);i.scaleX=i.props.horizontalStrength(n,a),i.scaleY=i.props.verticalStrength(n,a),i.frame||!i.scaleX&&!i.scaleY||i.startScrolling()}),100,{trailing:!1}),i.scaleX=0,i.scaleY=0,i.frame=null,i.attached=!1,i.dragging=!1,i}return Object(i.a)(c,[{key:"componentDidMount",value:function(){this.props.useScroll&&this._initial()}},{key:"_initial",value:function(){var e=this;this.container=Object(p.findDOMNode)(this.wrappedInstance),this.container.addEventListener("dragover",this.handleEvent),window.document.body.addEventListener("touchmove",this.handleEvent),this.clearMonitorSubscription=this.context.dragDropManager.getMonitor().subscribeToStateChange((function(){return e.handleMonitorChange()}))}},{key:"componentWillUnmount",value:function(){this.props.useScroll&&this._remove()}},{key:"_remove",value:function(){this.container.removeEventListener("dragover",this.handleEvent),window.document.body.removeEventListener("touchmove",this.handleEvent),this.clearMonitorSubscription(),this.stopScrolling()}},{key:"handleMonitorChange",value:function(){var e=this.context.dragDropManager.getMonitor().isDragging();!this.dragging&&e?this.dragging=!0:this.dragging&&!e&&(this.dragging=!1,this.stopScrolling())}},{key:"attach",value:function(){this.attached=!0,window.document.body.addEventListener("dragover",this.updateScrolling),window.document.body.addEventListener("touchmove",this.updateScrolling)}},{key:"detach",value:function(){this.attached=!1,window.document.body.removeEventListener("dragover",this.updateScrolling),window.document.body.removeEventListener("touchmove",this.updateScrolling)}},{key:"startScrolling",value:function(){var e=this,t=0;!function n(){var a=e.scaleX,i=e.scaleY,r=e.container,o=e.props,c=o.strengthMultiplier,l=o.onScrollChange;if(0!==c&&a+i!==0){if(t++%2){var s=r.scrollLeft,u=r.scrollTop,d=r.scrollWidth,h=r.scrollHeight,p=r.clientWidth,g=r.clientHeight;l(a?r.scrollLeft=S(0,d-p,s+a*c):s,i?r.scrollTop=S(0,h-g,u+i*c):u)}e.frame=v()(n)}else e.stopScrolling()}()}},{key:"stopScrolling",value:function(){this.detach(),this.scaleX=0,this.scaleY=0,this.frame&&(v.a.cancel(this.frame),this.frame=null)}},{key:"render",value:function(){var t=this,n=this.props,a=(n.strengthMultiplier,n.verticalStrength,n.horizontalStrength,n.onScrollChange,Object(h.a)(n,["strengthMultiplier","verticalStrength","horizontalStrength","onScrollChange"]));return l.a.createElement(e,Object.assign({ref:function(e){t.wrappedInstance=e}},a))}}]),c}(l.a.Component);return t.displayName="Scrolling(".concat(Object(O.b)(e),")"),t.defaultProps={useScroll:!0,onScrollChange:E,verticalStrength:C,horizontalStrength:w,strengthMultiplier:30},t.contextType=g.a,x()(t,e)}(s.d.div.withConfig({displayName:"snippet-scrollable-container__DndScrollableElement",componentId:"sc-15szisj-0"})(["height:85vh;padding-top:0;overflow-y:scroll;.report-template-builder{&__main-content{min-height:371.25mm;margin:0 auto;padding:16px;box-sizing:border-box;max-width:100%;background:#fff;border-top-right-radius:16px;border-bottom-left-radius:16px;border-bottom-right-radius:16px;}&__contentarea{min-height:348.75mm;}&__contentarea--fixed-layout{min-height:auto;}&__snippet-toolbar{visibility:hidden;}}.ui-draggable{&:focus,&:active{outline:0;.course-builder__snippet-toolbar{visibility:visible;opacity:1;transition:visibility 0s,opacity 0.3s,max-height 0.6s linear;}}}&.is--preview{height:auto;}"])),N=j(150),I=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.useScroll;return l.a.createElement(k,{useScroll:n,verticalStrength:N,strengthMultiplier:100,className:d()("report-template-builder",t)},this.props.children)}}]),n}(l.a.Component);I.defaultProps={useScroll:!0}},604:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(0),i=n.n(a),r=n(26),o=n(213),c=n(210),l=n(137),s=n(138),u=n(27),d=n(479),h=n(486),p=n(119),g=n(149).compose;function m(e){var t=e.onCancel,n=e.snippetList;return i.a.createElement(d.a,{visible:!0,style:{top:30},maskClosable:!1,className:"ant-modal-header--border-none",keyboard:!1,width:"85%",onCancel:t,footer:!1},g(Object(r.a)((function(e){return i.a.createElement("div",{key:e},g(Object(o.a)(c.a,0),l.a,Object(s.a)([],[e]))(n)&&i.a.createElement("h2",{className:"my-2"},e),g(Object(p.c)((function(e,t){return i.a.createElement(h.a,{key:e.id,draggable:!1},i.a.createElement(e.Component,{id:e.id,className:e.id,item:e,index:t}))})),Object(s.a)([],[e]))(n))})),u.a)(n))}}}]);
//# sourceMappingURL=12.fa98cf0d.chunk.js.map