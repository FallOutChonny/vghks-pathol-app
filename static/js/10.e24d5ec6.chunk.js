(this["webpackJsonpvghks-pathol-app"]=this["webpackJsonpvghks-pathol-app"]||[]).push([[10],{1264:function(e,a,t){"use strict";t.d(a,"a",(function(){return k}));var n=t(8),c=(t(125),t(19)),r=t.n(c),l=t(10),i=t(0),o=t.n(i),s=t(43),m=t.n(s),d=t(13),u=t(188),p=t(51),b=t(439),f=t(401),h=t(165),O=t(46),E=t(173),g=t(241),v=t(61),j=t(32),y=t(174),N=t(31).compose,w=d.default.div.withConfig({displayName:"snippet-preview-modal__SnippetPreviewWrapper",componentId:"sc-14u4a7f-0"})([".ant-card-head{min-height:auto;}.ant-card-head-title{padding-top:0;}.ant-card-body{padding-top:12px;padding-bottom:8px;}"]);function k(e){var a=e.item,t=e.onCancel,c=r.a.useForm(),i=Object(l.a)(c,1)[0],s=Object(u.a)({},["setting"],a);return o.a.createElement(E.a,{visible:!0,style:{top:30},maskClosable:!1,className:"ant-modal-header--border-none",keyboard:!1,width:"65%",onCancel:t,footer:[o.a.createElement(v.a,{key:"btn-export",color:"primary",onClick:function(){Object(j.a)({filename:(null===a||void 0===a?void 0:a.name)||"\u5831\u544a\u6a21\u7248_".concat(m()().format("YYYYMMDDHHmmss")),json:Object(n.a)({},a)})},className:"mr-3"},"\u532f\u51fa"),o.a.createElement(v.a,{key:"btn-cancel",color:"outline",onClick:t},"\u78ba\u8a8d")]},o.a.createElement(r.a,{form:i},o.a.createElement(w,null,N(Object(p.a)((function(e){return o.a.createElement("div",{key:e},N(Object(b.a)(f.a,0),h.a,Object(u.a)([],[e]))(s)&&o.a.createElement("h2",{style:{background:y.a.darkGrey,width:"50%"},className:"bg-darkGrey text-white pl-3 my-2"},e),N(Object(g.c)(),Object(u.a)([],[e]))(s))})),O.a)(s))))}},1279:function(e,a,t){"use strict";var n=t(0),c=t.n(n),r=t(128),l=t(213),i=t(33),o=t(41),s=t(37),m=t(38),d=function(e){Object(s.a)(t,e);var a=Object(m.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null)}}]),t}(c.a.Component),u=t(241),p={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"};function b(e){var a=e.initialOffset,t=e.currentOffset;if(!a||!t)return{display:"none"};var n=t.x,c=t.y,r="translate(".concat(n,"px, ").concat(c,"px)");return{transform:r,WebkitTransform:r}}a.a=Object(r.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}}))((function(e){var a=e.itemType,t=e.isDragging,n=e.currentOffset;if(!t)return null;if(!n)return null;var r=document.elementFromPoint(n.x,n.y),i=!1;return r&&(i=Object(u.a)(r)),c.a.createElement("div",{className:"report-template-builder__drag-layer",style:p},c.a.createElement("div",{style:b(e)},function(e){var t=e.canDrop;switch(a){case l.a.BOARD:case l.a.SNIPPET:return c.a.createElement(d,{canDrop:t});default:return null}}({canDrop:i})))}))},2748:function(e,a,t){"use strict";var n=t(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},r=t(30),l=function(e,a){return n.createElement(r.a,Object.assign({},e,{ref:a,icon:c}))};l.displayName="MinusOutlined";a.a=n.forwardRef(l)},2753:function(e,a,t){"use strict";t.r(a);t(340);var n=t(191),c=t.n(n),r=(t(341),t(102)),l=t.n(r),i=t(93),o=t(25),s=t(8),m=(t(659),t(237)),d=t.n(m),u=(t(125),t(19)),p=t.n(u),b=t(10),f=t(13),h=t(0),O=t.n(h),E=t(2748),g=t(1215),v=t(407),j=t(234),y=t(51),N=t(188),w=t(46),k=t(422),C=t(61),x=t(49),_=t(430),S=t(421),I=t(203),D=t(121),T=t(337),P=t(424),F=t(432),M=t(1279),Y=t(431),A=t(1264),G=t(147),H=t(78),J=t(153),L=t(86),W=t(54),q=t(31).compose,z=Object(f.default)("div").withConfig({displayName:"report-template-builder___StyledDiv",componentId:"sc-550gpb-0"})({width:60}),B=Object(f.default)("div").withConfig({displayName:"report-template-builder___StyledDiv2",componentId:"sc-550gpb-1"})({width:60}),K=Object(f.default)("div").withConfig({displayName:"report-template-builder___StyledDiv3",componentId:"sc-550gpb-2"})({width:60}),R=Object(f.default)("span").withConfig({displayName:"report-template-builder___StyledSpan",componentId:"sc-550gpb-3"})({whiteSpace:"nowrap"});a.default=function(e){Object(S.a)("\u7d50\u69cb\u5f0f\u5831\u544a\u6a21\u7248"),Object(I.a)([{name:"\u5831\u544a\u6a21\u7248"},{name:"\u7d50\u69cb\u5f0f\u5831\u544a\u6a21\u7248"}]);var a=e.match.params,t=Object(H.c)({id:a.id}),n=t.category,r=t.reportTemplate,m=t.snippetList,u=t.handleTabChange,f=t.handleTabEdit,h=t.handleTabMove,U=t.handleTabNameChange,V=t.handleSnippetUpdate;O.a.useEffect((function(){ae.setFieldsValue(r)}),[JSON.stringify(r)]);var Q=Object(D.c)(),X=Object(b.a)(Q,2),Z=X[0],$=X[1],ee=p.a.useForm(),ae=Object(b.a)(ee,1)[0],te=Object(H.a)({onCompleted:function(e){var a=e.id;J.a.push(Object(v.a)(":id",a)(W.n)),d.a.success("\u5831\u544a\u6a21\u7248\u5df2\u5efa\u7acb\u6210\u529f")}}),ne=Object(b.a)(te,2)[1],ce=Object(H.f)({onCompleted:function(){return d.a.success("\u5831\u544a\u6a21\u7248\u5df2\u5132\u5b58\u6210\u529f")}}),re=Object(b.a)(ce,2)[1],le=Object(_.a)(W.o);return Object(I.c)(O.a.createElement("div",{className:"inline-flex"},O.a.createElement(C.a,{color:"outline",className:"ml-6 bg-transparent text-white border-white",onClick:function(){ae.validateFields().then((function(e){((null===r||void 0===r?void 0:r.id)?re:ne)(Object(s.a)(Object(s.a)(Object(s.a)({},r),e),{},{setting:q(j.a,Object(y.a)((function(e){return Object(i.a)({},e,q(Object(y.a)((function(a){a.Component,a.icon;var t=Object(o.a)(a,["Component","icon"]);return Object(s.a)(Object(s.a)({},t),{},{categoryName:e})})),Object(N.a)([],[e]))(m))})),w.a)(m)}))}))}},"\u5132\u5b58"),O.a.createElement(C.a,{color:"outline",className:"ml-6 bg-transparent text-white border-white",onClick:le},"\u53d6\u6d88"),O.a.createElement(C.a,{color:"outline",className:"ml-6 bg-transparent text-white border-white",onClick:$},"\u9810\u89bd"))),O.a.createElement(P.a,null,Z&&O.a.createElement(A.a,{item:Object(s.a)(Object(s.a)({},r),{},{setting:m}),onCancel:$}),O.a.createElement(M.a,null),O.a.createElement(k.a,null,O.a.createElement(p.a,{form:ae,initialValues:Object(s.a)({},r)},O.a.createElement(c.a,{gutter:48,className:"pt-2 relative"},O.a.createElement(l.a,{span:5},O.a.createElement(G.a,{defaultActiveKey:[1,2],expandIconPosition:"right",className:"shadow-2xl header-pl-clear",expandIcon:function(e){return e.isActive?O.a.createElement(E.a,null):O.a.createElement(g.a,null)}},O.a.createElement(G.a.Panel,{header:"\u6a21\u7248\u8cc7\u8a0a",key:1},O.a.createElement(c.a,{className:"mb-2 text-sm text-darkGrey"},O.a.createElement(l.a,{span:24,className:"mb-3"},O.a.createElement(z,{className:"inline-block"},"\u540d\u7a31:"),O.a.createElement(p.a.Item,{noStyle:!0,name:"name",rules:[L.d.required]},O.a.createElement(x.c,{className:"w-2/3"}))),O.a.createElement(l.a,{span:24,className:"my-3"},O.a.createElement(B,{className:"inline-block"},"\u63cf\u8ff0:"),O.a.createElement(p.a.Item,{noStyle:!0,name:"description"},O.a.createElement(x.c,{className:"w-2/3"}))),O.a.createElement(l.a,{span:24,className:"my-3"},O.a.createElement(K,{className:"inline-block"},"\u5275\u4f5c\u8005:"),O.a.createElement(p.a.Item,{noStyle:!0,name:"author",rules:[L.d.required]},O.a.createElement(x.c,{className:"w-2/3"}))))),O.a.createElement(G.a.Panel,{header:"\u5de5\u5177\u5217",key:2},O.a.createElement(c.a,null,O.a.createElement(l.a,{span:24},O.a.createElement(F.a,null)))))),O.a.createElement(T.a,{type:"editable-card",activeKey:n,onChange:u,onEdit:f,moveTabNode:h,className:"flex-1"},q(Object(y.a)((function(e){return O.a.createElement(T.a.TabPane,{closable:!0,key:e,tab:O.a.createElement(R,{contentEditable:!0,suppressContentEditableWarning:!0,spellCheck:!1,className:"outline-none",onChange:U(e)},e)},O.a.createElement(l.a,{span:19,className:"report-template-builder__main-content"},O.a.createElement(Y.a,{draggable:!Z,snippetList:m[e],onSnippetUpdate:V})))})),w.a)(m))))))}}}]);
//# sourceMappingURL=10.e24d5ec6.chunk.js.map