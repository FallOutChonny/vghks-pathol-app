{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","utils/media.ts","containers/login/components.ts","../node_modules/@ant-design/icons-svg/es/asn/UserOutlined.js","../node_modules/@ant-design/icons/es/icons/UserOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/LockOutlined.js","../node_modules/@ant-design/icons/es/icons/LockOutlined.js","containers/login/result.tsx","containers/login/login.tsx","hooks/useLogin.ts"],"names":["_taggedTemplateLiteral","strings","raw","slice","Object","freeze","defineProperties","value","css","require","sizes","LoginWrapper","styled","div","LoginForm","media","Input","InputComponent","p","theme","darkGrey","Checkbox","CheckboxComponent","login","cyan","UserOutlined","props","ref","React","AntdIcon","assign","icon","UserOutlinedSvg","displayName","LockOutlined","LockOutlinedSvg","fontSize","letterSpacing","Result","title","description","ExclamationCircleFilled","onClose","className","block","size","onClick","height","Login","useForm","form","onCompleted","onError","useAuth","setIsAuthenticated","loading","values","error","useLogin","handleResultVisible","useVisible","resultVisible","src","envStore","publicUrl","alt","width","Item","noStyle","name","placeholder","prefix","span","history","push","valuePropName","validateFields","then"],"mappings":"8HAAe,SAASA,EAAuBC,EAASC,GAKtD,OAJKA,IACHA,EAAMD,EAAQE,MAAM,IAGfC,OAAOC,OAAOD,OAAOE,iBAAiBL,EAAS,CACpDC,IAAK,CACHK,MAAOH,OAAOC,OAAOH,O,oSCPnBM,EAAQC,EAAQ,IAAhBD,IAGFE,EAIS,IAMA,EA0CA,kBAAkBF,EAAjB,IACiBE,EACzBF,EAAG,WAAH,e,gFCpDD,IAAMG,EAAeC,UAAOC,IAAV,8EAAGD,CAAH,mHAOZE,EAAYF,UAAOC,IAAV,2EAAGD,CAAH,gGAOlBG,EAPkB,MAYTC,EAAQJ,kBAAOK,KAAV,uEAAGL,CAAH,uIAMH,SAAAM,GAAC,OAAIA,EAAEC,MAAMC,YASfC,EAAWT,kBAAOU,KAAV,0EAAGV,CAAH,kKAWH,SAAAM,GAAC,OAAIA,EAAEC,MAAMI,MAAMC,QACjB,SAAAN,GAAC,OAAIA,EAAEC,MAAMI,MAAMC,S,6CCjDxBC,EADI,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,6qBAAirB,KAAQ,OAAQ,MAAS,Y,QCKh2BA,EAAe,SAAsBC,EAAOC,GAC9C,OAAOC,gBAAoBC,IAAUzB,OAAO0B,OAAO,GAAIJ,EAAO,CAC5DC,IAAKA,EACLI,KAAMC,MAIVP,EAAaQ,YAAc,eACZL,iBAAiBH,I,0MCZjBS,EADI,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,2VAA+V,KAAQ,OAAQ,MAAS,Y,QCK9gBA,EAAe,SAAsBR,EAAOC,GAC9C,OAAOC,gBAAoBC,IAAUzB,OAAO0B,OAAO,GAAIJ,EAAO,CAC5DC,IAAKA,EACLI,KAAMI,MAIVD,EAAaD,YAAc,eACZL,mBAAiBM,G,oKCKa,CAAEE,SAAU,M,sGAGJ,CAAEC,cAAe,IAXvD,SAASC,EAAT,GAKJ,IAAD,IAJRC,aAIQ,MAJA,eAIA,MAHRC,mBAGQ,MAHM,2BAGN,MAFRT,YAEQ,MAFD,kBAACU,EAAA,EAAD,MAEC,EADRC,EACQ,EADRA,QAEA,OACE,yBAAKC,UAAU,6CACb,qBAAKA,UAAU,oBACZZ,GAEH,qBAAKY,UAAU,4BACZJ,GAEH,yBAAKI,UAAU,uCAAuCH,GACtD,kBAAC,IAAD,CACEI,OAAK,EACLC,KAAK,QACLC,QAASJ,EACTC,UAAU,kEAJZ,iB,oGCmCe,CAAEI,OAAQ,K,iGAaV,CAAEA,OAAQ,K,iGAwBZ,CAAEA,OAAQ,GAAIV,cAAe,IAjFjC,SAASW,IAAS,IAAD,EACf,IAAKC,UAAbC,EADuB,sBCPjB,WAA2C,IAAD,yDAAP,GAAO,KAAvCC,YAAuC,EAA1BC,QAGgBC,eAArCC,EAH+C,EAG/CA,mBAwBR,MAAO,CACLC,SAAS,EACThC,MAAO,SAACiC,GAENF,GAAmB,IAMrBG,MAAO,CAAElB,MAAO,eAAMC,YAAa,yFD3BZkB,CAAS,CAChCN,QAAS,WACPO,OAFIpC,EAHsB,EAGtBA,MAAOkC,EAHe,EAGfA,MAHe,EASeG,cATf,mBASvBC,EATuB,KASRF,EATQ,KAmB9B,OACE,kBAAC,IAAD,KACGE,GAAiB,kBAACvB,EAAD,iBAAYmB,EAAZ,CAAmBf,QAASiB,MAC5CE,GACA,kBAAC,IAAD,KACE,wBAAIlB,UAAU,wCAAd,0DAGA,yBACEmB,IAAG,UAAKC,IAASC,UAAd,uBACHC,IAAI,6CACJC,MAAO,IACPvB,UAAU,gCAEZ,uBAAMO,KAAMA,GACV,sBAAMiB,KAAN,CACEC,SAAO,EACPC,KAAK,WAGL,qBACExB,KAAK,QACLyB,YAAY,eACZ3B,UAAU,OACV4B,OAAQ,kBAAC9C,EAAA,EAAD,SAIZ,sBAAM0C,KAAN,CACEC,SAAO,EACPC,KAAK,YAGL,qBACExB,KAAK,QACLyB,YAAY,eACZ3B,UAAU,OACV4B,OAAQ,kBAAC,EAAD,SAIZ,uBAAK5B,UAAU,SACb,uBAAK6B,KAAM,GAAI7B,UAAU,qCACvB,sBAAMwB,KAAN,CAAWC,SAAO,GAChB,yBACEzB,UAAU,oCACVG,QAlDO,WACvB2B,IAAQC,KAAK,sBA+CC,6BAMF,sBAAMP,KAAN,CAAWC,SAAO,EAACC,KAAK,aAAaM,cAAc,WACjD,kBAAC,IAAD,CAAUhC,UAAU,oDAApB,yBAMN,qBACEC,OAAK,EACLC,KAAK,QACLC,QApEQ,WAClBI,EAAK0B,iBAAiBC,MAAK,SAACrB,GAAD,OAAiBjC,EAAMiC,OAoExCb,UAAU,kEAJZ","file":"static/js/12.2a0dc5e6.chunk.js","sourcesContent":["export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","const { css } = require('styled-components')\n\n// screen sizes\nconst sizes = {\n  desktopLarge: 1200,\n  desktopMedium: 992,\n  desktopSmall: 768,\n  mobileLarge: 425,\n  mobileMedium: 375,\n  mobileSmall: 329,\n}\n\n// responsive media queries\nexport default {\n  /**\n   * 尺寸大於 1200\n   */\n  large: (...args: any) => css`\n    @media all and (min-width: ${sizes.desktopLarge}px) {\n      ${css(...args)};\n    }\n  `,\n\n  /**\n   * 尺寸介於 992 和 1200 之間\n   */\n  medium: (...args: any) => css`\n    @media all and (min-width: ${sizes.desktopMedium}px) and (max-width: ${sizes.desktopLarge -\n      1}px) {\n      ${css(...args)};\n    }\n  `,\n\n  /**\n   * 768 <= and <= 992\n   */\n  small: (...args: any) => css`\n    @media all and (min-width: ${sizes.desktopSmall}px) and (max-width: ${sizes.desktopMedium -\n      1}px) {\n      ${css(...args)};\n    }\n  `,\n\n  /**\n   * 尺寸小於 767\n   */\n  extraSmall: (...args: any) => css`\n    @media all and (max-width: ${sizes.desktopSmall - 1}px) {\n      ${css(...args)};\n    }\n  `,\n\n  /**\n   * 尺寸小於 425\n   */\n  mobileLarge: (...args: any) => css`\n    @media all and (max-width: ${sizes.mobileLarge}px) {\n      ${css(...args)};\n    }\n  `,\n\n  /**\n   * 尺寸小於 375\n   */\n  mobileMedium: (...args: any) => css`\n    @media all and (max-width: ${sizes.mobileMedium}px) {\n      ${css(...args)};\n    }\n  `,\n\n  /**\n   * 尺寸小於 329\n   */\n  mobileSmall: (...args: any) => css`\n    @media all and (max-width: ${sizes.mobileSmall}px) {\n      ${css(...args)};\n    }\n  `,\n\n  /**\n   * 直立\n   */\n  orientation: (...args: any) => css`\n    @media all and (orientation: portrait) {\n      ${css(...args)};\n    }\n  `,\n\n  /**\n   * 水平\n   */\n  orientationLandscape: (...args: any) => css`\n    @media all and (orientation: landscape) {\n      ${css(...args)};\n    }\n  `,\n}\n","import styled from 'styled-components'\nimport InputComponent from '@/components/input'\nimport CheckboxComponent from '@/components/checkbox'\nimport media from '@/utils/media'\n\nexport const LoginWrapper = styled.div`\n  height: 100vh;\n  background: linear-gradient(to right bottom, #0f7892, #3caaa0);\n  display: flex;\n  justify-content: center;\n`\n\nexport const LoginForm = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 30%;\n\n  ${media.mobileLarge`\n    width: 90%;\n  `};\n`\n\nexport const Input = styled(InputComponent)`\n  &.ant-input-affix-wrapper {\n    > input.ant-input {\n      position: relative;\n      top: 2px;\n      padding-left: 6px;\n      color: ${p => p.theme.darkGrey};\n    }\n  }\n\n  .ant-input-lg {\n    font-size: 1rem;\n  }\n`\n\nexport const Checkbox = styled(CheckboxComponent)`\n  .ant-checkbox-inner {\n    width: 20px;\n    height: 20px;\n  }\n\n  .ant-checkbox-inner::after {\n    left: 35%;\n  }\n\n  .ant-checkbox-checked .ant-checkbox-inner {\n    background: ${p => p.theme.login.cyan};\n    border-color: ${p => p.theme.login.cyan};\n  }\n`\n","// This icon file is generated automatically.\nvar UserOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z\" } }] }, \"name\": \"user\", \"theme\": \"outlined\" };\nexport default UserOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport UserOutlinedSvg from \"@ant-design/icons-svg/es/asn/UserOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar UserOutlined = function UserOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: UserOutlinedSvg\n  }));\n};\n\nUserOutlined.displayName = 'UserOutlined';\nexport default React.forwardRef(UserOutlined);","// This icon file is generated automatically.\nvar LockOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z\" } }] }, \"name\": \"lock\", \"theme\": \"outlined\" };\nexport default LockOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LockOutlinedSvg from \"@ant-design/icons-svg/es/asn/LockOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar LockOutlined = function LockOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: LockOutlinedSvg\n  }));\n};\n\nLockOutlined.displayName = 'LockOutlined';\nexport default React.forwardRef(LockOutlined);","import React from 'react'\nimport { ExclamationCircleFilled } from '@ant-design/icons'\nimport Button from '@/components/button'\n\ntype Props = {\n  title?: React.ReactNode\n  description?: React.ReactNode\n  icon?: React.ReactNode\n  onClose: () => void\n}\n\nexport default function Result({\n  title = '錯誤',\n  description = '登入失敗',\n  icon = <ExclamationCircleFilled />,\n  onClose,\n}: Props) {\n  return (\n    <div className=\"flex flex-col items-center justify-center\">\n      <div className=\"text-white mb-12\" css={{ fontSize: 100 }}>\n        {icon}\n      </div>\n      <div className=\"text-white mb-2 text-3xl\" css={{ letterSpacing: 8 }}>\n        {title}\n      </div>\n      <div className=\"text-xl text-white opacity-75 mb-24\">{description}</div>\n      <Button\n        block\n        size=\"large\"\n        onClick={onClose}\n        className=\"text-white text-xl bg-login-cyan border-login-cyan hover--none\">\n        返回\n      </Button>\n    </div>\n  )\n}\n","import React from 'react'\nimport { Form, Row, Col } from 'antd'\nimport { UserOutlined, LockOutlined } from '@ant-design/icons'\nimport Button from '@/components/button'\nimport envStore from '@/constants/env'\n// import { rules } from '@/utils/form'\nimport useLogin from '@/hooks/useLogin'\nimport history from '@/utils/history'\nimport useVisible from '@/hooks/useVisible'\nimport { LoginWrapper, LoginForm, Input, Checkbox } from './components'\nimport Result from './result'\n\ntype FormValues = {\n  account: string\n  password: string\n}\n\nexport default function Login() {\n  const [form] = Form.useForm()\n\n  const { login, error } = useLogin({\n    onError: () => {\n      handleResultVisible()\n    },\n  })\n\n  const [resultVisible, handleResultVisible] = useVisible()\n\n  const handleLogin = () => {\n    form.validateFields().then((values: any) => login(values))\n  }\n\n  const handleForgetPass = () => {\n    history.push('/forget-password')\n  }\n\n  return (\n    <LoginWrapper>\n      {resultVisible && <Result {...error} onClose={handleResultVisible} />}\n      {!resultVisible && (\n        <LoginForm>\n          <h1 className=\"mb-4 text-white text-3xl text-center\">\n            整合型數位病理平台\n          </h1>\n          <img\n            src={`${envStore.publicUrl}/images/logo@3x.png`}\n            alt=\"高雄榮民總醫院\"\n            width={230}\n            className=\"mb-16 bg-white rounded-full\"\n          />\n          <Form form={form}>\n            <Form.Item\n              noStyle\n              name=\"account\"\n              // rules={[rules.required]}\n            >\n              <Input\n                size=\"large\"\n                placeholder=\"帳號\"\n                className=\"mb-6\"\n                prefix={<UserOutlined />}\n                css={{ height: 48 }}\n              />\n            </Form.Item>\n            <Form.Item\n              noStyle\n              name=\"password\"\n              // rules={[rules.required]}\n            >\n              <Input\n                size=\"large\"\n                placeholder=\"密碼\"\n                className=\"mb-6\"\n                prefix={<LockOutlined />}\n                css={{ height: 48 }}\n              />\n            </Form.Item>\n            <Row className=\"mb-10\">\n              <Col span={24} className=\"flex justify-between items-center\">\n                <Form.Item noStyle>\n                  <div\n                    className=\"text-white cursor-pointer text-lg\"\n                    onClick={handleForgetPass}>\n                    忘記密碼\n                  </div>\n                </Form.Item>\n                <Form.Item noStyle name=\"rememberMe\" valuePropName=\"checked\">\n                  <Checkbox className=\"flex justify-end items-center text-white text-lg\">\n                    記住我\n                  </Checkbox>\n                </Form.Item>\n              </Col>\n            </Row>\n            <Button\n              block\n              size=\"large\"\n              onClick={handleLogin}\n              className=\"text-white text-xl bg-login-cyan border-login-cyan hover--none\"\n              css={{ height: 48, letterSpacing: 6 }}>\n              登入\n            </Button>\n          </Form>\n        </LoginForm>\n      )}\n    </LoginWrapper>\n  )\n}\n","// import { message } from 'antd'\n// import Cookies from 'js-cookie'\n// import { useLogin } from '../graphql/auth'\nimport { useAuth } from './useAuth'\n\ntype Props = {\n  onCompleted?: () => any\n  onError?: () => any\n}\n\nexport default ({ onCompleted, onError }: Props = {}) => {\n  // const { loading, login, data } = useLogin()\n\n  const { setIsAuthenticated /* setUser */ } = useAuth()\n\n  // React.useEffect(() => {\n  //   if (data && data.response) {\n  //     const { code, data: user, msg } = data.response\n\n  //     if (code === 500) {\n  //       message.error(msg)\n  //     }\n\n  //     if (code === 200) {\n  //       Cookies.set('vghks_token', user.token)\n  //       Cookies.set('vghks_user', user)\n\n  //       setIsAuthenticated(true)\n  //       setUser(user)\n\n  //       if (onCompleted) {\n  //         onCompleted()\n  //       }\n  //     }\n  //   }\n  // }, [data])\n\n  return {\n    loading: false,\n    login: (values: { account: string; password: string }) => {\n      // login(values)\n      setIsAuthenticated(true)\n\n      if (onError) {\n        // onError()\n      }\n    },\n    error: { title: '錯誤', description: '帳號、信箱資料錯誤或漏填訊息' },\n  }\n}\n"],"sourceRoot":""}