(this["webpackJsonpvghks-pathol-app"]=this["webpackJsonpvghks-pathol-app"]||[]).push([[7],{2543:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));a(107);var n=a(15),c=a.n(n),r=a(9),l=a(0),i=a.n(l),o=a(13),s=a(105),m=a(217),d=a(48),u=a(454),p=a(331),b=a(145),f=a(50),h=a(147),g=a(207),O=a(61),E=a(155),j=a(27).compose,v=o.default.div.withConfig({displayName:"snippet-preview-modal__SnippetPreviewWrapper",componentId:"sc-14u4a7f-0"})([".ant-card-head{min-height:auto;}.ant-card-head-title{padding-top:0;}.ant-card-body{padding-top:12px;padding-bottom:8px;}"]);function y(e){var t=e.item,a=e.onCancel,n=c.a.useForm(),l=Object(r.a)(n,1)[0],o=Object(s.a)({},["setting"],t);return i.a.createElement(h.a,{visible:!0,style:{top:30},maskClosable:!1,className:"ant-modal-header--border-none",keyboard:!1,width:"65%",onCancel:a,footer:[i.a.createElement(O.a,{key:"btn-cancel",color:"outline",onClick:a},"\u78ba\u8a8d")]},i.a.createElement(c.a,{form:l},i.a.createElement(v,null,Object(m.a)(Array,o)?Object(g.c)()(o):j(Object(d.a)((function(e){return i.a.createElement("div",{key:e},j(Object(u.a)(p.a,0),b.a,Object(s.a)([],[e]))(o)&&i.a.createElement("h2",{style:{background:E.a.darkGrey,width:"50%"},className:"bg-darkGrey text-white pl-3 my-2"},e),j(Object(g.c)(),Object(s.a)([],[e]))(o))})),f.a)(o))))}},2544:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(135),l=a(226),i=a(33),o=a(47),s=a(40),m=a(41),d=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null)}}]),a}(c.a.Component),u=a(207),p={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"};function b(e){var t=e.initialOffset,a=e.currentOffset;if(!t||!a)return{display:"none"};var n=a.x,c=a.y,r="translate(".concat(n,"px, ").concat(c,"px)");return{transform:r,WebkitTransform:r}}t.a=Object(r.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}}))((function(e){var t=e.itemType,a=e.isDragging,n=e.currentOffset;if(!a)return null;if(!n)return null;var r=document.elementFromPoint(n.x,n.y),i=!1;return r&&(i=Object(u.a)(r)),c.a.createElement("div",{className:"report-template-builder__drag-layer",style:p},c.a.createElement("div",{style:b(e)},function(e){var a=e.canDrop;switch(t){case l.a.BOARD:case l.a.SNIPPET:return c.a.createElement(d,{canDrop:a});default:return null}}({canDrop:i})))}))},2589:function(e,t,a){"use strict";var n=a(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},r=a(31),l=function(e,t){return n.createElement(r.a,Object.assign({},e,{ref:t,icon:c}))};l.displayName="MinusOutlined";t.a=n.forwardRef(l)},2592:function(e,t,a){"use strict";a.r(t);a(678);var n=a(679),c=a.n(n),r=(a(254),a(69)),l=a.n(r),i=(a(255),a(43)),o=a.n(i),s=a(85),m=a(14),d=a(6),u=(a(677),a(256)),p=a.n(u),b=(a(107),a(15)),f=a.n(b),h=a(9),g=a(13),O=a(0),E=a.n(O),j=a(2589),v=a(2514),y=a(423),w=a(203),N=a(48),C=a(105),k=a(50),x=a(437),_=a(61),S=a(35),I=a(439),T=a(436),D=a(183),P=a(354),F=a(438),A=a(445),G=a(2544),J=a(444),L=a(2543),M=a(164),W=a(70),q=a(167),z=a(84),B=a(53),K=a(27).compose,R=Object(g.default)("div").withConfig({displayName:"report-template-builder___StyledDiv",componentId:"sc-550gpb-0"})({width:60}),U=Object(g.default)("div").withConfig({displayName:"report-template-builder___StyledDiv2",componentId:"sc-550gpb-1"})({width:60}),V=Object(g.default)("div").withConfig({displayName:"report-template-builder___StyledDiv3",componentId:"sc-550gpb-2"})({width:60}),H=Object(g.default)("span").withConfig({displayName:"report-template-builder___StyledSpan",componentId:"sc-550gpb-3"})({whiteSpace:"nowrap"});t.default=function(e){Object(T.a)("\u7d50\u69cb\u5f0f\u5831\u544a\u6a21\u7248"),Object(D.a)([{name:"\u5831\u544a\u6a21\u7248"},{name:"\u7d50\u69cb\u5f0f\u5831\u544a\u6a21\u7248"}]);var t=e.match.params,a=Object(W.f)({id:t.id}),n=a.category,r=a.reportTemplate,i=a.snippetList,u=a.handleTabChange,b=a.handleTabEdit,g=a.handleTabMove,O=a.handleTabNameChange,Q=a.handleSnippetUpdate;E.a.useEffect((function(){te.setFieldsValue(r)}),[JSON.stringify(r)]);var X=Object(W.e)(),Y=Object(h.a)(X,2),Z=Y[0],$=Y[1],ee=f.a.useForm(),te=Object(h.a)(ee,1)[0],ae=Object(W.b)({onCompleted:function(e){q.a.push(Object(y.a)(":id",null===e||void 0===e?void 0:e.data.name)(B.n)),console.log(e),p.a.success("\u5831\u544a\u6a21\u7248\u5df2\u5efa\u7acb\u6210\u529f")}}),ne=Object(h.a)(ae,2),ce=ne[0],re=ne[1],le=Object(W.b)({onCompleted:function(){return p.a.success("\u5831\u544a\u6a21\u7248\u5df2\u5132\u5b58\u6210\u529f")}}),ie=Object(h.a)(le,2),oe=ie[0],se=ie[1],me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"f";return function(){te.validateFields().then((function(t){((null===r||void 0===r?void 0:r.id)?se:re)(Object(d.a)(Object(d.a)(Object(d.a)({},r),t),{},{status:e,setting:K(w.a,Object(N.a)((function(e){return Object(s.a)({},e,K(Object(N.a)((function(t){t.Component,t.icon;var a=Object(m.a)(t,["Component","icon"]);return Object(d.a)(Object(d.a)({},a),{},{categoryName:e})})),Object(C.a)([],[e]))(i))})),k.a)(i)}))}))}},de=Object(I.a)(B.o),ue=Object(W.d)({filename:"\u5831\u544a\u6a21\u7248",data:Object(d.a)(Object(d.a)({},r),{},{setting:i})});return Object(D.c)(E.a.createElement("div",{className:"inline-flex"},E.a.createElement(_.a,{color:"outline",className:"ml-6 bg-transparent text-white border-white",onClick:me("s")},"\u767c\u4f48"),E.a.createElement(_.a,{color:"outline",className:"ml-6 bg-transparent text-white border-white",onClick:me("f")},"\u66ab\u5b58\u8349\u7a3f"),E.a.createElement(_.a,{color:"outline",className:"ml-6 bg-transparent text-white border-white",onClick:de},"\u653e\u68c4"),E.a.createElement(_.a,{color:"outline",className:"ml-6 bg-transparent text-white border-white",onClick:ue},"\u532f\u51fa"),E.a.createElement(_.a,{color:"outline",className:"ml-6 bg-transparent text-white border-white",onClick:$},"\u9810\u89bd"))),E.a.createElement(F.a,null,Z&&E.a.createElement(L.a,{item:Object(d.a)(Object(d.a)({},r),{},{setting:i}),onCancel:$}),E.a.createElement(G.a,null),E.a.createElement(c.a,{spinning:ce||oe},E.a.createElement(x.a,null,E.a.createElement(f.a,{form:te,initialValues:Object(d.a)({},r)},E.a.createElement(l.a,{gutter:48,className:"pt-2 relative"},E.a.createElement(o.a,{span:5},E.a.createElement(M.a,{defaultActiveKey:[1,2],expandIconPosition:"right",className:"shadow-2xl header-pl-clear",expandIcon:function(e){return e.isActive?E.a.createElement(j.a,null):E.a.createElement(v.a,null)}},E.a.createElement(M.a.Panel,{header:"\u6a21\u7248\u8cc7\u8a0a",key:1},E.a.createElement(l.a,{className:"mb-2 text-sm text-darkGrey"},E.a.createElement(o.a,{span:24,className:"mb-3"},E.a.createElement(R,{className:"inline-block"},"\u540d\u7a31:"),E.a.createElement(f.a.Item,{noStyle:!0,name:"name",rules:[z.d.required]},E.a.createElement(S.c,{className:"w-2/3"}))),E.a.createElement(o.a,{span:24,className:"my-3"},E.a.createElement(U,{className:"inline-block"},"\u63cf\u8ff0:"),E.a.createElement(f.a.Item,{noStyle:!0,name:"description"},E.a.createElement(S.c,{className:"w-2/3"}))),E.a.createElement(o.a,{span:24,className:"my-3"},E.a.createElement(V,{className:"inline-block"},"\u5275\u4f5c\u8005:"),E.a.createElement(f.a.Item,{noStyle:!0,name:"author",rules:[z.d.required]},E.a.createElement(S.c,{className:"w-2/3"}))))),E.a.createElement(M.a.Panel,{header:"\u5de5\u5177\u5217",key:2},E.a.createElement(l.a,null,E.a.createElement(o.a,{span:24},E.a.createElement(A.a,null)))))),E.a.createElement(P.a,{type:"editable-card",activeKey:n,onChange:u,onEdit:b,moveTabNode:g,className:"flex-1"},K(Object(N.a)((function(e){return E.a.createElement(P.a.TabPane,{closable:!0,key:e,tab:E.a.createElement(H,{contentEditable:!0,suppressContentEditableWarning:!0,spellCheck:!1,className:"outline-none",onChange:O(e)},e)},E.a.createElement(o.a,{span:19,className:"report-template-builder__main-content"},E.a.createElement(J.a,{draggable:!Z,snippetList:i[e],onSnippetUpdate:Q})))})),k.a)(i)))))))}}}]);
//# sourceMappingURL=7.8ee56bfc.chunk.js.map