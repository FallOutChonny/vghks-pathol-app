(this["webpackJsonpvghks-pathol-app"]=this["webpackJsonpvghks-pathol-app"]||[]).push([[9],{1234:function(e,a,t){"use strict";t.d(a,"a",(function(){return b}));var n=t(0),c=t.n(n),r=t(50),l=t(420),i=t(387),s=t(224),o=t(181),m=t(49),p=t(409),d=t(243),u=t(41).compose;function b(e){var a=e.onCancel,t=e.snippetList;return c.a.createElement(p.a,{visible:!0,style:{top:30},maskClosable:!1,className:"ant-modal-header--border-none",keyboard:!1,width:"85%",onCancel:a,footer:!1},u(Object(r.a)((function(e){return c.a.createElement("div",{key:e},u(Object(l.a)(i.a,0),s.a,Object(o.a)([],[e]))(t)&&c.a.createElement("h2",{className:"my-2"},e),u(Object(d.c)(),Object(o.a)([],[e]))(t))})),m.a)(t))}},1414:function(e,a,t){"use strict";t.r(a);t(330);var n=t(185),c=t.n(n),r=(t(331),t(103)),l=t.n(r),i=t(95),s=t(26),o=t(9),m=(t(646),t(254)),p=t.n(m),d=(t(131),t(18)),u=t.n(d),b=t(11),f=t(14),h=t(0),E=t.n(h),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},g=t(31),v=function(e,a){return h.createElement(g.a,Object.assign({},e,{ref:a,icon:O}))};v.displayName="MinusOutlined";var j=h.forwardRef(v),y=t(1190),N=t(392),w=t(261),C=t(50),k=t(181),x=t(49),_=t(407),S=t(90),I=t(46),T=t(406),D=t(198),P=t(140),L=t(104),F=t(328),A=t(414),J=t(615),M=t(122),z=t(211),B=t(30),K=t(40),R=t(35),U=t(36),V=function(e){Object(R.a)(t,e);var a=Object(U.a)(t);function t(){return Object(B.a)(this,t),a.apply(this,arguments)}return Object(K.a)(t,[{key:"render",value:function(){return E.a.createElement("div",null)}}]),t}(E.a.Component),W=t(243),G={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"};function H(e){var a=e.initialOffset,t=e.currentOffset;if(!a||!t)return{display:"none"};var n=t.x,c=t.y,r="translate(".concat(n,"px, ").concat(c,"px)");return{transform:r,WebkitTransform:r}}var q=Object(M.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}}))((function(e){var a=e.itemType,t=e.isDragging,n=e.currentOffset;if(!t)return null;if(!n)return null;var c=document.elementFromPoint(n.x,n.y),r=!1;return c&&(r=Object(W.a)(c)),E.a.createElement("div",{className:"report-template-builder__drag-layer",style:G},E.a.createElement("div",{style:H(e)},function(e){var t=e.canDrop;switch(a){case z.a.BOARD:case z.a.SNIPPET:return E.a.createElement(V,{canDrop:t});default:return null}}({canDrop:r})))})),Q=t(614),X=t(1234),Y=t(161),Z=t(78),$=t(150),ee=t(41).compose,ae=Object(f.d)("div").withConfig({displayName:"report-template-builder___StyledDiv",componentId:"sc-550gpb-0"})({width:60}),te=Object(f.d)("div").withConfig({displayName:"report-template-builder___StyledDiv2",componentId:"sc-550gpb-1"})({width:60}),ne=Object(f.d)("div").withConfig({displayName:"report-template-builder___StyledDiv3",componentId:"sc-550gpb-2"})({width:60}),ce=Object(f.d)("span").withConfig({displayName:"report-template-builder___StyledSpan",componentId:"sc-550gpb-3"})({whiteSpace:"nowrap"});a.default=function(e){Object(T.a)("\u7d50\u69cb\u5f0f\u5831\u544a\u6a21\u7248\u7de8\u8f2f"),Object(D.a)([{href:L.h,name:"\u7d50\u69cb\u5f0f\u5831\u544a"},{name:"\u7d50\u69cb\u5f0f\u5831\u544a\u6a21\u7248\u7de8\u8f2f"}]);var a=e.match.params,t=Object(Z.b)({id:a.id}),n=t.category,r=t.reportTemplate,m=t.snippetList,d=t.handleTabChange,f=t.handleTabEdit,h=t.handleTabMove,O=t.handleTabNameChange,g=t.handleSnippetUpdate;E.a.useEffect((function(){R.setFieldsValue(r)}),[JSON.stringify(r)]);var v=Object(P.b)(),M=Object(b.a)(v,2),z=M[0],B=M[1],K=u.a.useForm(),R=Object(b.a)(K,1)[0],U=Object(Z.a)({onCompleted:function(e){var a=e.id;$.a.push(Object(N.a)(":id",a)(L.g)),p.a.success("\u5831\u544a\u6a21\u7248\u5df2\u5efa\u7acb\u6210\u529f")}}),V=Object(b.a)(U,2)[1],W=Object(Z.d)({onCompleted:function(){return p.a.success("\u5831\u544a\u6a21\u7248\u5df2\u5132\u5b58\u6210\u529f")}}),G=Object(b.a)(W,2)[1];return Object(D.c)(E.a.createElement("div",{className:"inline-flex"},E.a.createElement(S.a,{color:"outline",className:"bg-transparent text-white border-white"},"\u767c\u4f48"),E.a.createElement(S.a,{color:"outline",className:"ml-6 bg-transparent text-white border-white",onClick:function(){R.validateFields().then((function(e){((null===r||void 0===r?void 0:r.id)?G:V)(Object(o.a)(Object(o.a)(Object(o.a)({},r),e),{},{setting:ee(w.a,Object(C.a)((function(e){return Object(i.a)({},e,ee(Object(C.a)((function(a){a.Component,a.icon;var t=Object(s.a)(a,["Component","icon"]);return Object(o.a)(Object(o.a)({},t),{},{categoryName:e})})),Object(k.a)([],[e]))(m))})),x.a)(m)}))}))}},"\u5132\u5b58"),E.a.createElement(S.a,{color:"outline",className:"ml-6 bg-transparent text-white border-white",onClick:B},"\u9810\u89bd"))),E.a.createElement(A.a,null,z&&E.a.createElement(X.a,{snippetList:m,onCancel:B}),E.a.createElement(q,null),E.a.createElement(_.a,null,E.a.createElement(u.a,{form:R,initialValues:Object(o.a)({},r)},E.a.createElement(c.a,{gutter:48,className:"pt-2 relative"},E.a.createElement(l.a,{span:5},E.a.createElement(Y.a,{defaultActiveKey:[1,2],expandIconPosition:"right",className:"shadow-2xl header-pl-clear",expandIcon:function(e){return e.isActive?E.a.createElement(j,null):E.a.createElement(y.a,null)}},E.a.createElement(Y.a.Panel,{header:"\u6a21\u7248\u8cc7\u8a0a",key:1},E.a.createElement(c.a,{className:"mb-2 text-sm text-darkGrey"},E.a.createElement(l.a,{span:24,className:"mb-3"},E.a.createElement(ae,{className:"inline-block"},"\u540d\u7a31:"),E.a.createElement(u.a.Item,{noStyle:!0,name:"name"},E.a.createElement(I.c,{className:"w-2/3"}))),E.a.createElement(l.a,{span:24,className:"my-3"},E.a.createElement(te,{className:"inline-block"},"\u63cf\u8ff0:"),E.a.createElement(u.a.Item,{noStyle:!0,name:"description"},E.a.createElement(I.c,{className:"w-2/3"}))),E.a.createElement(l.a,{span:24,className:"my-3"},E.a.createElement(ne,{className:"inline-block"},"\u5275\u4f5c\u8005:"),E.a.createElement(u.a.Item,{noStyle:!0,name:"author"},E.a.createElement(I.c,{className:"w-2/3"}))))),E.a.createElement(Y.a.Panel,{header:"\u5de5\u5177\u5217",key:2},E.a.createElement(c.a,null,E.a.createElement(l.a,{span:24},E.a.createElement(J.a,null)))))),E.a.createElement(F.a,{type:"editable-card",activeKey:n,onChange:d,onEdit:f,moveTabNode:h,className:"flex-1"},ee(Object(C.a)((function(e){return E.a.createElement(F.a.TabPane,{closable:!0,key:e,tab:E.a.createElement(ce,{contentEditable:!0,suppressContentEditableWarning:!0,spellCheck:!1,className:"outline-none",onChange:O(e)},e)},E.a.createElement(l.a,{span:19,className:"report-template-builder__main-content"},E.a.createElement(Q.a,{draggable:!z,snippetList:m[e],onSnippetUpdate:g})))})),x.a)(m))))))}}}]);
//# sourceMappingURL=9.b90a2202.chunk.js.map