{"version":3,"sources":["services/yellow-card.ts","containers/blood-bank-review/blood-bank-review.tsx"],"names":["useYellowCards","variables","useYellowCardsData","data","rest","dataSource","content","map","s","id","uuid","total","length","totalPages","Math","floor","formItemLayout","createFormItemLayout","BloodBankReview","useTitle","useBreadcrumb","name","useForm","form","mutate","style","minHeight","justify","md","xs","layout","hideRequiredMark","labelAlign","colon","gutter","Item","className","label","color","width","onClick","allowClear","compose","x","Option","key","value","times","identity","rowKey","columns","title","dataIndex"],"mappings":"oNAcO,SAASA,IAAgD,IAAjCC,EAAgC,uDAAJ,GAAI,EACnCC,YAAmBD,GAArCE,EADqD,EACrDA,KAASC,EAD4C,wBAGvDC,EAAa,CACjBC,QAASC,aAAI,SAACC,GAAD,mBAAC,eAAiBA,GAAlB,IAAqBC,GAAIC,kBAA7BH,CAAwCJ,GACjDQ,MAAOC,YAAOT,GACdU,WAAYC,KAAKC,MAAMH,YAAOT,GAAQ,IAAM,GAG9C,OAAO,2BACFC,GADL,IAEEC,aACAF,KAAME,M,iTCZJW,EAAiBC,YAAqB,GAE7B,SAASC,IACtBC,YAAS,oDACTC,YAAc,CAAC,CAAEC,KAAM,4BAAU,CAAEA,KAAM,sDAFD,MAIzB,IAAKC,UAAbC,EAJiC,sBAMfvB,cAAjBG,EANgC,EAMhCA,KAAMqB,EAN0B,EAM1BA,OAsBd,OACE,kBAAC,IAAD,CAAMC,MAAO,CAAEC,UAAW,wBACxB,uBAAKC,QAAQ,UACX,uBAAKC,GAAI,GAAIC,GAAI,IACf,uBACEN,KAAMA,EACNO,OAAO,aACPC,kBAAkB,EAClBC,WAAW,OACXC,OAAO,GACP,uBAAKC,OAAQ,IACX,uBAAKN,GAAI,EAAGC,GAAI,IACd,sBAAMM,KAAN,iBACMnB,EADN,CAEEoB,UAAU,OACVC,MAAM,eACNhB,KAAK,OACL,kBAAC,IAAD,QAGJ,uBAAKO,GAAI,EAAGC,GAAI,IACd,sBAAMM,KAAN,iBACMnB,EADN,CAEEoB,UAAU,OACVC,MAAM,qBACNhB,KAAK,OACL,kBAAC,IAAD,QAGJ,uBAAKO,GAAI,EAAGC,GAAI,IACd,sBAAMM,KAAN,CAAWC,UAAU,QACnB,kBAAC,IAAD,CACEE,MAAM,UACNF,UAAU,OACVX,MAAO,CAAEc,MAAO,KAChBC,QAvDD,WACfhB,MAkDc,mBAUN,uBAAKU,OAAQ,IACX,uBAAKN,GAAI,EAAGC,GAAI,IACd,sBAAMM,KAAN,iBAAenB,EAAf,CAA+BqB,MAAM,2BAAOhB,KAAK,WAC/C,kBAAC,IAAD,CAAQoB,YAAU,GACfC,YACCnC,aAAI,SAACoC,GAAD,OACF,kBAAC,IAAOC,OAAR,CAAeC,IAAKF,EAAGG,MAAOH,GAC3BA,MAGLI,YAAMC,KANPN,CAOC,QAIR,uBAAKd,GAAI,EAAGC,GAAI,IACd,sBAAMM,KAAN,iBAAenB,EAAf,CAA+BqB,MAAM,eAAKhB,KAAK,UAC7C,kBAAC,IAAD,CAAQoB,YAAU,GAChB,kBAAC,IAAOG,OAAR,CAAeE,MAAO,GAAtB,uBAQblC,YAAOT,EAAKG,SAAW,GACtB,oCACE,uBAAK8B,UAAU,YAAYT,QAAQ,UACjC,uBAAKC,GAAI,GAAIC,GAAI,GAAIO,UAAU,WAA/B,kCACQ,0BAAMA,UAAU,gBAAgBjC,EAAKQ,OAD7C,YAIF,uBAAKgB,QAAQ,UACX,uBAAKC,GAAI,GAAIC,GAAI,IACf,kBAAC,IAAD,CAAOoB,OAAO,KAAK5C,WAAYF,EAAM+C,QA5Fb,CAClC,CAAEC,MAAO,2BAAQC,UAAW,YAC5B,CAAED,MAAO,qBAAOC,UAAW,mBAC3B,CAAED,MAAO,qBAAOC,UAAW,iBAC3B,CAAED,MAAO,eAAMC,UAAW,QAC1B,CAAED,MAAO,qBAAOC,UAAW,UAC3B,CAAED,MAAO,qBAAOC,UAAW,aAC3B,CAAED,MAAO,eAAMC,UAAW,OAC1B,CAAED,MAAO,2BAAQC,UAAW,iBAC5B,CAAED,MAAO,2BAAQC,UAAW,iBAC5B,CAAED,MAAO,2BAAQC,UAAW,aAC5B,CAAED,MAAO,qBAAOC,UAAW,aAC3B,CAAED,MAAO,eAAMC,UAAW,UAC1B,CAAED,MAAO,uCAAUC,UAAW","file":"static/js/17.3e7db6f7.chunk.js","sourcesContent":["import { length, map } from 'ramda'\nimport { QueryVariables } from '@/constants/types'\nimport { uuid } from '@/utils/webHelper'\nimport { useYellowCards as useYellowCardsData } from '@/services/report'\n\nexport type YellowCard = {\n  hage: string\n  hhisnum: string\n  hnamec: string\n  hsex: string\n  orworkno: string\n  rptypedt: string\n}\n\nexport function useYellowCards(variables: QueryVariables = {}) {\n  const { data, ...rest } = useYellowCardsData(variables)\n\n  const dataSource = {\n    content: map((s: any) => ({ ...s, id: uuid() }))(data) as YellowCard[],\n    total: length(data),\n    totalPages: Math.floor(length(data) / 10) + 1,\n  }\n\n  return {\n    ...rest,\n    dataSource,\n    data: dataSource,\n  }\n}\n","import React from 'react'\nimport { length, compose, identity, times, map } from 'ramda'\nimport { Row, Col, Form } from 'antd'\nimport { ColumnProps } from 'antd/lib/table'\nimport useTitle from '@/hooks/useTitle'\nimport { useBreadcrumb } from '@/hooks/useApp'\nimport { useYellowCards } from '@/services/yellow-card'\nimport Select from '@/components/select'\nimport Input from '@/components/input'\nimport Table from '@/components/query-table'\nimport Button from '@/components/button'\nimport { Page } from '@/components/layout'\nimport { createFormItemLayout } from '@/utils/form'\n\nconst formItemLayout = createFormItemLayout(5)\n\nexport default function BloodBankReview() {\n  useTitle('血庫備血審查作業')\n  useBreadcrumb([{ name: '報告查詢' }, { name: '血庫備血審查作業' }])\n\n  const [form] = Form.useForm()\n\n  const { data, mutate } = useYellowCards()\n\n  const handleOk = () => {\n    mutate()\n  }\n\n  const columns: ColumnProps<any>[] = [\n    { title: '申請序號', dataIndex: 'serialNo' },\n    { title: '就醫別', dataIndex: 'seekMedicalType' },\n    { title: '就醫號', dataIndex: 'seekMedicalNo' },\n    { title: '姓名', dataIndex: 'name' },\n    { title: '工作號', dataIndex: 'workNo' },\n    { title: '病歷號', dataIndex: 'medicalNo' },\n    { title: '性別', dataIndex: 'sex' },\n    { title: '開立日期', dataIndex: 'createTimeStr' },\n    { title: '執行日期', dataIndex: 'reportTimeStr' },\n    { title: '醫囑名稱', dataIndex: 'doctorSay' },\n    { title: '收費碼', dataIndex: 'paymentId' },\n    { title: '狀態', dataIndex: 'status' },\n    { title: '執行科別代碼', dataIndex: 'age' },\n  ]\n\n  return (\n    <Page style={{ minHeight: 'calc(100vh - 203px)' }}>\n      <Row justify=\"center\">\n        <Col md={22} xs={24}>\n          <Form\n            form={form}\n            layout=\"horizontal\"\n            hideRequiredMark={true}\n            labelAlign=\"left\"\n            colon={false}>\n            <Row gutter={24}>\n              <Col md={8} xs={24}>\n                <Form.Item\n                  {...formItemLayout}\n                  className=\"mb-3\"\n                  label=\"科別\"\n                  name=\"no\">\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col md={8} xs={24}>\n                <Form.Item\n                  {...formItemLayout}\n                  className=\"mb-3\"\n                  label=\"收費碼\"\n                  name=\"no\">\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col md={5} xs={24}>\n                <Form.Item className=\"mb-3\">\n                  <Button\n                    color=\"primary\"\n                    className=\"ml-4\"\n                    style={{ width: 120 }}\n                    onClick={handleOk}>\n                    搜尋\n                  </Button>\n                </Form.Item>\n              </Col>\n            </Row>\n            <Row gutter={24}>\n              <Col md={8} xs={24}>\n                <Form.Item {...formItemLayout} label=\"審核醫生\" name=\"doctor\">\n                  <Select allowClear>\n                    {compose(\n                      map((x: number) => (\n                        <Select.Option key={x} value={x}>\n                          {x}\n                        </Select.Option>\n                      )),\n                      times(identity)\n                    )(120)}\n                  </Select>\n                </Form.Item>\n              </Col>\n              <Col md={8} xs={24}>\n                <Form.Item {...formItemLayout} label=\"狀態\" name=\"state\">\n                  <Select allowClear>\n                    <Select.Option value={1}>初步</Select.Option>\n                  </Select>\n                </Form.Item>\n              </Col>\n            </Row>\n          </Form>\n        </Col>\n      </Row>\n      {length(data.content) > 0 && (\n        <>\n          <Row className=\"mb-2 mt-4\" justify=\"center\">\n            <Col md={22} xs={24} className=\"text-sm\">\n              檢索結果共 <span className=\"text-primary\">{data.total}</span> 筆\n            </Col>\n          </Row>\n          <Row justify=\"center\">\n            <Col md={22} xs={24}>\n              <Table rowKey=\"id\" dataSource={data} columns={columns} />\n            </Col>\n          </Row>\n        </>\n      )}\n    </Page>\n  )\n}\n"],"sourceRoot":""}