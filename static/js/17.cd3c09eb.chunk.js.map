{"version":3,"sources":["../node_modules/@ant-design/icons-svg/es/asn/EyeOutlined.js","../node_modules/@ant-design/icons/es/icons/EyeOutlined.js","containers/report-list/report-list.tsx"],"names":["EyeOutlined","props","ref","React","AntdIcon","Object","assign","icon","EyeOutlinedSvg","displayName","formItemLayout","createFormItemLayout","ReportList","useTitle","setBreadcrumb","useBreadcrumb","name","useForm","form","useReports","data","refetch","handleToReport","evt","history","push","replace","currentTarget","dataset","id","REPORT_EDIT","handleToImageViewer","url","env","viewerUrl","window","open","handleToMedicalOrder","MEDICAL_ORDER","columns","title","dataIndex","render","_","__","idx","v","r","data-id","className","onClick","style","minHeight","justify","md","xs","layout","hideRequiredMark","labelAlign","colon","gutter","Item","label","addonBefore","width","defaultValue","Option","value","allowClear","color","resetFields","length","content","total","rowKey","dataSource"],"mappings":"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","file":"static/js/17.cd3c09eb.chunk.js","sourcesContent":["// This icon file is generated automatically.\nvar EyeOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z\" } }] }, \"name\": \"eye\", \"theme\": \"outlined\" };\nexport default EyeOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EyeOutlinedSvg from \"@ant-design/icons-svg/es/asn/EyeOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EyeOutlined = function EyeOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: EyeOutlinedSvg\n  }));\n};\n\nEyeOutlined.displayName = 'EyeOutlined';\nexport default React.forwardRef(EyeOutlined);","import React from 'react'\nimport { replace, length } from 'ramda'\nimport { Row, Col, Form, Tooltip } from 'antd'\nimport { ColumnProps } from 'antd/lib/table'\nimport { EyeOutlined, EditOutlined } from '@ant-design/icons'\nimport useTitle from '@/hooks/useTitle'\nimport { useBreadcrumb } from '@/hooks/useApp'\nimport { useReports } from '@/services/report'\nimport { DoctorSelect } from '@/services/pathology'\nimport Select from '@/components/select'\nimport Input from '@/components/input'\nimport { RangePicker } from '@/components/datepicker'\nimport { Page } from '@/components/layout'\nimport Table from '@/components/query-table'\nimport Button from '@/components/button'\nimport history from '@/utils/history'\nimport { REPORT_EDIT, MEDICAL_ORDER } from '@/constants/routes'\nimport { createFormItemLayout } from '@/utils/form'\nimport env from '@/constants/env'\n\nconst formItemLayout = createFormItemLayout(6)\n\nexport default function ReportList() {\n  useTitle('報告查詢')\n\n  const setBreadcrumb = useBreadcrumb([{ name: '報告查詢' }])\n\n  const [form] = Form.useForm()\n\n  const { data, refetch } = useReports()\n\n  const handleOk = () => {\n    refetch()\n    setBreadcrumb([{ name: '報告查詢' }, { name: '查詢結果' }])\n  }\n\n  const handleToReport = (evt: React.MouseEvent<HTMLElement>) => {\n    history.push(replace(':id', `${evt.currentTarget.dataset.id}`)(REPORT_EDIT))\n  }\n\n  const handleToImageViewer = (evt: React.MouseEvent<HTMLElement>) => {\n    const url = replace(':id', '')(env.viewerUrl)\n    window.open(`${url}?id=${evt.currentTarget.dataset.id}`, '__blank')\n  }\n\n  const handleToMedicalOrder = (evt: React.MouseEvent<HTMLElement>) => {\n    history.push(\n      replace(':id', `${evt.currentTarget.dataset.id}`)(MEDICAL_ORDER)\n    )\n  }\n\n  const handleResetFields = () => form.resetFields()\n\n  const columns: ColumnProps<any>[] = [\n    {\n      title: '編號',\n      dataIndex: 'id',\n      render: (_, __, idx) => idx + 1,\n    },\n    { title: '申請序號', dataIndex: 'serialNo' },\n    { title: '姓名', dataIndex: 'HNAMEC' },\n    { title: '病理號', dataIndex: 'ORWORKNO' },\n    { title: '病歷號', dataIndex: 'HHISNUM' },\n    { title: '病房', dataIndex: 'HNURSTA' },\n    { title: '床號', dataIndex: 'HBED' },\n    { title: '性別', dataIndex: 'HSEX' },\n    { title: '簽收日期', dataIndex: 'ZRSREGORD' },\n    { title: '收費碼', dataIndex: 'createAt' },\n    { title: '科別', dataIndex: 'CSECT' },\n    { title: '狀態', dataIndex: 'ORSTATUS' },\n    {\n      title: '醫囑',\n      dataIndex: 'ORPROCED',\n      render: (v, r) => (\n        <Tooltip title=\"查看醫囑內容\">\n          <EyeOutlined\n            data-id={r.id}\n            className=\"cursor-pointer text-lg\"\n            onClick={handleToMedicalOrder}\n          />\n        </Tooltip>\n      ),\n    },\n    {\n      title: '報告',\n      dataIndex: 'x',\n      render: (v, r) => (\n        <Tooltip title=\"編輯、查看報告內容\">\n          <EditOutlined\n            data-id={r.id}\n            className=\"cursor-pointer text-lg\"\n            onClick={handleToReport}\n          />\n        </Tooltip>\n      ),\n    },\n    {\n      title: '影像',\n      dataIndex: 'createAt',\n      render: (v, r) => (\n        <Tooltip title=\"開啟新視窗查看影像\">\n          <EyeOutlined\n            data-id={r.id}\n            className=\"cursor-pointer text-lg\"\n            onClick={handleToImageViewer}\n          />\n        </Tooltip>\n      ),\n    },\n  ]\n\n  return (\n    <Page style={{ minHeight: 'calc(100vh - 203px)' }}>\n      <Row justify=\"center\">\n        <Col md={22} xs={24}>\n          <Form\n            form={form}\n            layout=\"horizontal\"\n            hideRequiredMark={true}\n            labelAlign=\"left\"\n            colon={false}>\n            <Row gutter={12} justify=\"space-between\">\n              <Col md={7} xs={24}>\n                <Form.Item {...formItemLayout} label=\"查詢單號\" name=\"no\">\n                  <Input\n                    addonBefore={\n                      <Select style={{ width: 100 }} defaultValue=\"1\">\n                        <Select.Option value=\"1\">申請序號</Select.Option>\n                        <Select.Option value=\"2\">病理號</Select.Option>\n                        <Select.Option value=\"3\">病歷號</Select.Option>\n                      </Select>\n                    }\n                  />\n                </Form.Item>\n              </Col>\n              <Col md={7} xs={24}>\n                <Form.Item {...formItemLayout} label=\"查詢類別\" name=\"type\">\n                  <Select allowClear>\n                    <Select.Option value={'醫囑'}>醫囑</Select.Option>\n                    <Select.Option value={'\b報告'}>\b報告</Select.Option>\n                  </Select>\n                </Form.Item>\n              </Col>\n              <Col md={7} xs={24}>\n                <Form.Item {...formItemLayout} label=\"簽收日期\" name=\"createAt\">\n                  <RangePicker className=\"w-full\" />\n                </Form.Item>\n              </Col>\n            </Row>\n            <Row gutter={12} justify=\"space-between\">\n              <Col md={7} xs={24}>\n                <Form.Item {...formItemLayout} label=\"醫師\" name=\"doctor\">\n                  <DoctorSelect allowClear />\n                </Form.Item>\n              </Col>\n              <Col md={7} xs={24}>\n                <Form.Item {...formItemLayout} label=\"報告狀態\" name=\"status\">\n                  <Select allowClear>\n                    <Select.Option value={1}>未輸入</Select.Option>\n                    <Select.Option value={2}>複審</Select.Option>\n                    <Select.Option value={3}>暫存</Select.Option>\n                    <Select.Option value={4}>不確定</Select.Option>\n                    <Select.Option value={5}>正式</Select.Option>\n                    <Select.Option value={6}>全部</Select.Option>\n                  </Select>\n                </Form.Item>\n              </Col>\n              <Col md={7} xs={24}>\n                <Form.Item>\n                  <Button\n                    color=\"primary\"\n                    style={{ width: 120 }}\n                    className=\"mr-3\"\n                    onClick={handleResetFields}>\n                    重設\n                  </Button>\n                  <Button\n                    color=\"primary\"\n                    style={{ width: 120 }}\n                    onClick={handleOk}>\n                    搜尋\n                  </Button>\n                </Form.Item>\n              </Col>\n            </Row>\n          </Form>\n        </Col>\n      </Row>\n      {length(data.content) > 0 && (\n        <>\n          <Row className=\"mb-2 mt-4\" justify=\"center\">\n            <Col md={22} xs={24} className=\"text-sm\">\n              檢索結果共 <span className=\"text-primary\">{data.total}</span> 筆\n            </Col>\n          </Row>\n          <Row justify=\"center\">\n            <Col md={22} xs={24}>\n              <Table rowKey=\"id\" dataSource={data} columns={columns} />\n            </Col>\n          </Row>\n        </>\n      )}\n    </Page>\n  )\n}\n"],"sourceRoot":""}