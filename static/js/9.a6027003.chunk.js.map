{"version":3,"sources":["../node_modules/@ant-design/icons-svg/es/asn/MinusOutlined.js","../node_modules/@ant-design/icons/es/icons/MinusOutlined.js","components/snippet-drag-preview.js","components/snippet-drag-layer.tsx","containers/report-template-editor/report-template-builder.tsx","../node_modules/react-dnd-html5-backend/dist/esm/getEmptyImage.js","../node_modules/react-dnd/dist/esm/index.js","components/input.tsx","hooks/useReportTemplate.ts","utils/form.ts","../node_modules/react-dnd/dist/esm/utils/js_utils.js","components/checkbox.tsx","../node_modules/react-dnd/dist/esm/decorators/utils.js","../../src/index.ts","components/app-footer.tsx","utils/message.tsx","../node_modules/react-dnd/dist/esm/common/registration.js","../node_modules/react-dnd/dist/esm/utils/isRef.js","../node_modules/react-dnd/dist/esm/utils/cloneWithRef.js","../node_modules/react-dnd/dist/esm/common/wrapConnectorHooks.js","constants/item-types.ts","components/layout.tsx","hooks/useTitle.ts","components/modal.tsx","components/table.tsx","components/select.tsx","components/report-template-modal.tsx","components/report-template-wrapper.tsx","components/report-template-input-text.tsx","components/input-number.tsx","components/report-template-input-number.tsx","components/editable-table.tsx","components/report-template-selection-modal.tsx","components/report-template-multiple-selection.tsx","components/report-template-single-selection.tsx","components/datepicker.tsx","components/report-template-date.tsx","components/report-template-time.tsx","components/report-template-select.tsx","components/report-template-section-header.tsx","components/report-template-cloze.tsx","components/report-template-list.tsx","components/radio.tsx","../node_modules/react-dnd/dist/esm/interfaces/index.js","../node_modules/react-dnd/dist/esm/decorators/index.js","../node_modules/react-dnd/dist/esm/utils/isValidType.js","../node_modules/react-dnd/dist/esm/decorators/DragLayer.js","utils/get-display-name.ts","components/snippet-utils.tsx","../node_modules/rc-collapse/es/PanelContent.js","../node_modules/rc-collapse/es/Panel.js","../node_modules/rc-collapse/es/openAnimationFactory.js","../node_modules/rc-collapse/es/Collapse.js","../node_modules/rc-collapse/es/index.js","../node_modules/react-dnd/dist/esm/decorators/createSourceFactory.js","../node_modules/react-dnd/dist/esm/decorators/DragSource.js","../node_modules/react-dnd/dist/esm/decorators/createTargetFactory.js","../node_modules/react-dnd/dist/esm/decorators/DropTarget.js","../node_modules/react-dnd/dist/esm/decorators/disposables.js","../node_modules/react-dnd/dist/esm/decorators/decorateHandler.js","../node_modules/react-dnd/dist/esm/common/SourceConnector.js","../node_modules/react-dnd/dist/esm/common/DragSourceMonitorImpl.js","../node_modules/react-dnd/dist/esm/common/DropTargetMonitorImpl.js","../node_modules/react-dnd/dist/esm/common/TargetConnector.js","../node_modules/lodash.throttle/index.js","../node_modules/@ant-design/icons-svg/es/asn/LeftOutlined.js","../node_modules/@ant-design/icons/es/icons/LeftOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/RightOutlined.js","../node_modules/@ant-design/icons/es/icons/RightOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/EditOutlined.js","../node_modules/@ant-design/icons/es/icons/EditOutlined.js","components/snippet-toolbar.tsx","components/withTinyMCE.js","components/snippet.tsx","components/collapse.ts","../node_modules/antd/lib/collapse/style/css.js","../node_modules/antd/lib/collapse/index.js","../node_modules/antd/lib/collapse/Collapse.js","../node_modules/antd/lib/collapse/CollapsePanel.js","../node_modules/antd/lib/_util/openAnimation.js","components/withScroll.js","components/snippet-scrollable-container.tsx","components/snippet-preview-modal.tsx","components/tabs.ts","components/draggable-tabs.js","components/snippet-list-menu-item.tsx","components/snippet-list-menu.tsx","components/snippet-block-placeholder.ts","components/snippets-container.tsx","../node_modules/@ant-design/icons-svg/es/asn/DeleteOutlined.js","../node_modules/@ant-design/icons/es/icons/DeleteOutlined.js"],"names":["MinusOutlined","props","ref","React","AntdIcon","Object","assign","icon","MinusOutlinedSvg","displayName","SnippetDragPreview","Component","layerStyles","position","pointerEvents","zIndex","left","top","width","height","getItemStyles","initialOffset","currentOffset","display","x","y","transform","WebkitTransform","DragLayer","monitor","item","getItem","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","isDragging","element","document","elementFromPoint","canDrop","canMoveSnippet","className","style","ItemTypes","BOARD","SNIPPET","renderItem","compose","require","whiteSpace","ReportTemplateBuilder","useTitle","useBreadcrumb","href","REPORT_TEMPLATE_LIST","name","params","match","useReportTemplate","id","category","snippetList","handleTabChange","handleTabEdit","handleTabMove","handleTabNameChange","handleSnippetUpdate","useState","setTemplateInfo","useReportPreview","isPreview","handlePreview","useHeaderContent","color","onClick","handleInputChange","field","evt","prev","target","value","onCancel","gutter","span","defaultActiveKey","expandIconPosition","expandIcon","isActive","PlusOutlined","Panel","header","key","onChange","type","activeKey","onEdit","moveTabNode","map","TabPane","closable","tab","contentEditable","suppressContentEditableWarning","spellCheck","draggable","onSnippetUpdate","keys","emptyImage","getEmptyImage","Image","src","borderLess","css","p","theme","primary","StyledInput","styled","secondary","TextArea","snippetCategoryOfReport","PATHOLOGICAL_DIAGNOSIS","GROSS","MICROSCOPY","NOTES","REFERENCES","fakeReportTemplateList","author","status","statusName","createdAt","moment","createdAtStr","format","updatedAt","updatedAtStr","description","setting","mergeAll","path","reportTemplateById","pathOr","fakeSetting","defaultSnippetsOfReport","values","snippetsOfReportState","atomFamily","default","find","propEq","Number","reportTemplateListState","atom","content","total","reportPreviewState","categoryState","head","useReportTemplates","useRecoilState","reportTemplate","_snippetList","useEffect","setSnippetList","JSON","stringify","setCategory","handleTabAdd","last","inc","getNumberFromString","Rlast","sort","a","b","handleTabRemove","targetKey","confirm","title","onOk","omit","filter","snippetById","e","action","order","snippetKeys","orderA","indexOf","orderB","newTabName","innerHTML","data","length","flatten","setIsPreview","useToggleReportPreview","state","useUpdateSnippet","options","onUpdate","defaultValue","setSetting","handleOk","createFormItemLayout","label","wrapper","labelCol","xs","sm","wrapperCol","thosandSeprartor","formatter","replace","parser","currency","percent","max","rules","required","message","number","account","pattern","RegExp","password","_typeof","obj","Symbol","iterator","constructor","prototype","isFunction","input","noop","isPlainObject","isObjectLike","getPrototypeOf","proto","CheckboxGroup","Group","StyledCheckbox","CheckboxComponent","forwardRef","getDecoratedComponent","instanceRef","currentRef","current","decoratedRef","isRefable","C","render","_item$$$typeof","$$typeof","toString","isRefForwardingComponent","checkDecoratorArguments","functionName","signature","shallowEqual","objA","objB","compare","compareContext","compareResult","keysA","keysB","bHasOwnProperty","idx","valueA","valueB","AppFooter","Footer","background","marginTop","marginBottom","okText","cancelText","centered","autoFocusButton","okButtonProps","minWidth","marginRight","cancelButtonProps","modalDefaultProps","registerTarget","manager","registry","getRegistry","targetId","addTarget","removeTarget","registerSource","source","sourceId","addSource","removeSource","isRef","hasOwnProperty","call","setRef","node","cloneWithRef","newRef","previousRef","invariant","cloneElement","throwIfCompositeComponentElement","Error","concat","wrapConnectorHooks","hooks","wrappedHooks","forEach","hook","endsWith","wrappedHook","elementOrNode","arguments","undefined","isValidElement","wrapHookToRecognizeElement","CARD","borderTopLeftRadius","borderTopRightRadius","Page","children","Content","cx","DEFAULT_USE_TITLE_OPTIONS","restoreOnUnmount","prevTitleRef","useRef","envStore","appTitle","_title","StyledModal","ModalComponent","this","error","success","info","StyledTable","pagination","TableComponent","editable","columns","onAddRowClick","isRowDeletable","onDeleteRowClick","isCanEdit","_columns","useMemo","canEdit","placement","_","__","r","locale","emptyText","image","PRESENTED_IMAGE_SIMPLE","Column","StyledSelect","SelectComponent","Option","TemplateModal","visible","maskClosable","keyboard","footer","StyledCard","TemplateWrapper","onDelete","titleVisible","bodyVisible","FontColorsOutlined","isNil","InputTextModal","useForm","form","validateFields","then","labelAlign","initialValues","Item","valuePropName","StyledInputNumber","attrs","min","ThousandSeprartorInput","CurrencyInput","PercentInput","InputNumberModal","EditableTable","onRowAdd","onRowDelete","triggerChange","changedValue","rowKey","size","dataSource","uuid","text","selected","freetext","TemplateSelectionModal","v","noStyle","align","invoker","ReportTemplateMultipleSelection","editModalVisible","handleEditModalVisible","bodyStyle","paddingLeft","mapIndexed","defaultChecked","bordered","placeholder","ReportTemplateSingleSelection","StyledDatePicker","StyledTimePicker","DatePickerComponent","InputDateModal","allowClear","picker","InputTimeModal","ReportTemplateCloze","reportTemplateList","componentType","inline","BoldOutlined","FontSizeOutlined","inputProps","tooltip","multipleLine","autoSize","minRows","NumberOutlined","units","DatabaseOutlined","UnorderedListOutlined","TemplateMultipleSelection","OrderedListOutlined","TemplateSingleSelection","CalendarOutlined","ClockCircleOutlined","html","Cloze","StyledRadio","darkGrey","RadioComponent","isValidType","allowArray","Array","isArray","every","t","_classCallCheck","instance","Constructor","TypeError","_defineProperties","i","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","o","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","apply","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","collect","DecoratedComponent","Decorated","_options$arePropsEqua","arePropsEqual","DragLayerContainer","_React$Component","_super","_this","isCurrentlyMounted","handleChange","nextState","getCurrentState","setState","nextProps","unsubscribeFromOffsetChange","unsubscribeFromStateChange","_this2","DndContext","Consumer","_ref","dragDropManager","receiveDragDropManager","getMonitor","subscribeToOffsetChange","subscribeToStateChange","hoistStatics","getDisplayName","hasClassName","nodes","n","includes","elem","push","parentNode","unshift","getPlaceHolderIndex","clientOffset","overSnippet","findSnippet","classList","contains","parentElement","snippetIndex","dataset","index","placeholderIndex","isOverSnippet","padding","renderSnippets","wrapperId","tabSize","dangerouslySetInnerHTML","__html","defineProperties","_defineProperty","PanelContent","_Component","forceRender","_classnames","_isActived","_props","prefixCls","destroyInactivePanel","role","contentCls","classnames","child","createElement","CollapsePanel","_temp","_len","args","_key","handleItemClick","_this$props","onItemClick","panelKey","handleKeyPress","keyCode","which","_classNames2","headerClass","showArrow","disabled","accordion","extra","headerCls","classNames","itemCls","tabIndex","onKeyPress","Animate","showProp","exclusive","component","animation","openAnimation","defaultProps","animate","show","transitionName","done","cssAnimation","start","offsetHeight","active","end","enter","leave","getActiveKeysArray","currentActiveKey","String","Collapse","_initialiseProps","openAnimationFactory","_classNames","collapseClassName","getItems","newState","onClickItem","arr","arr2","from","_toConsumableArray","splice","setActiveKey","getNewChild","_props2","_child$props","toArray","ALLOWED_SPEC_METHODS","REQUIRED_SPEC_METHODS","SourceImpl","spec","beginDrag","canDrag","globalMonitor","getSourceId","endDrag","createSourceFactory","join","DragSource","getType","createSource","decorateHandler","containerDisplayName","createHandler","registerHandler","createConnector","backend","SourceConnector","createMonitor","DragSourceMonitorImpl","TargetImpl","hover","drop","createTargetFactory","DropTarget","createTarget","DropTargetMonitorImpl","TargetConnector","Disposable","isDisposed","d","Boolean","dispose","isDisposable","empty","CompositeDisposable","disposables","shouldDispose","len","currentDisposables","_i","_i2","SerialDisposable","old","_slicedToArray","_arrayWithHoles","_arr","_n","_d","_e","_s","next","err","_iterableToArrayLimit","minLen","_arrayLikeToArray","slice","test","_unsupportedIterableToArray","_nonIterableRest","DragDropContainer","disposable","receiveProps","handlerId","currentType","prevProps","handler","receiveType","handlerMonitor","handlerConnector","_registerHandler2","unregister","receiveHandlerId","unsubscribe","handlerIds","setDisposable","_ref2","requestAnimationFrame","_this2$handlerConnect","reconnect","getBackend","dragSource","clearDragSource","dragSourceOptions","dragSourceRef","dragSourceNode","reconnectDragSource","dragPreview","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","dragSourceOptionsInternal","dragPreviewOptionsInternal","lastConnectedHandlerId","lastConnectedDragSource","lastConnectedDragSourceOptions","lastConnectedDragPreview","lastConnectedDragPreviewOptions","newHandlerId","didChange","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","dragSourceUnsubscribe","connectDragSource","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","dragPreviewUnsubscribe","connectDragPreview","get","set","isCallingCanDrag","isCallingIsDragging","internalMonitor","canDragSource","isDraggingSource","listener","isOverTarget","getTargetIds","isSourcePublic","canDropOnTarget","getDropResult","didDrop","getInitialClientOffset","getClientOffset","getDifferenceFromInitialOffset","isCallingCanDrop","dropTarget","clearDropTarget","dropTargetOptions","dropTargetRef","dropTargetNode","dropTargetOptionsInternal","lastConnectedDropTarget","lastConnectedDropTargetOptions","didDropTargetChange","didOptionsChange","disconnectDropTarget","unsubscribeDropTarget","connectDropTarget","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","global","freeSelf","root","Function","objectToString","nativeMax","Math","nativeMin","now","debounce","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","thisArg","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","toNumber","isObject","cancel","clearTimeout","flush","isSymbol","other","valueOf","isBinary","module","exports","LeftOutlined","LeftOutlinedSvg","RightOutlined","RightOutlinedSvg","EditOutlined","EditOutlinedSvg","ToolbarWrapper","div","SHIFT_TYPES","SnippetToolbar","onShift","handleShift","shift","DeleteOutlined","defaultConfig","block_formats","menubar","external_plugins","custom_format","utils","component_plugin","fontsize_formats","force_br_newlines","force_p_newlines","forced_root_block","plugins","tinymce","publicUrl","link_title","table_toolbar","textcolor_cols","content_security_policy","allow_unsafe_link_target","relative_urls","convert_urls","valid_elements","valid_children","toolbar1","withDragSource","fromMenu","originalIndex","connect","Snippet","componentDidMount","shiftSnippet","handleRemove","removeSnippet","_onMouseOver","_onMouseOut","styles","mergeRight","isFocus","borderRadius","border","outlineColor","purple150","cursor","marginLeft","onMouseOver","onMouseOut","data-index","Children","ComposedComponent","withTinyMCE","editor","toolbarMouseOver","toolbarVisible","initialize","snippet","_get","remove","_config","clone","config","init","selector","language_url","setup","on","onEditorBlur","onEditorFocus","is","execInit","setContent","init_instance_callback","undoManager","add","console","log","getElementById","offsetTop","onBlur","prevState","equals","hoist","StyledCollapse","_interopRequireDefault","_default","_interopRequireWildcard","_extends2","_defineProperty2","_rcCollapse","_RightOutlined","_CollapsePanel","_configProvider","_openAnimation","_reactNode","_React$useContext","useContext","ConfigContext","getPrefixCls","direction","customizePrefixCls","_props$className","ghost","iconPosition","getIconPosition","appear","panelProps","rotate","renderExpandIcon","_props$showArrow","collapsePanelClassName","_cssAnimation","_raf","requestAnimationFrameId","opacity","intBetween","val","floor","createVerticalStrength","_buffer","point","h","w","buffer","defaultHorizontalStrength","defaultVerticalStrength","ScrollableComponent","WrappedComponent","ScrollingComponent","ctx","handleEvent","dragging","attached","attach","updateScrolling","throttle","container","getBoundingClientRect","box","coords","changedTouches","clientX","clientY","getCoords","scaleX","horizontalStrength","scaleY","verticalStrength","frame","startScrolling","useScroll","_initial","findDOMNode","wrappedInstance","addEventListener","window","body","clearMonitorSubscription","context","handleMonitorChange","_remove","removeEventListener","stopScrolling","tick","strengthMultiplier","onScrollChange","scrollLeft","scrollTop","scrollWidth","scrollHeight","clientWidth","clientHeight","raf","detach","contextType","withScroll","vStrength","ReactDndProvider","SnippetPreviewModal","gt","bg","TabNode","isOver","draggingItem","withDropTarget","dragKey","hoverKey","WrapTabNode","DraggableTabs","newOrder","c","dragIndex","hoverIndex","renderTabBar","DefaultTabBar","Tabs","rest","SnippetListMenuItem","SnippetListMenuWrapper","comp","SnippetListMenu","handleSnippetDrop","handleSnippetMove","hoverBoundingRect","hoverMiddleY","bottom","SnippetsContainer","atIndex","handleFindSnippet","newList","isPlaced","s","droppedItem","nextIndex","insert","handleSnippetRemove","handleSnippetShift","cond","always","lt","T","identity","update","isPlaceHold","cardList","withRouter","DeleteOutlinedSvg"],"mappings":"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","file":"static/js/9.a6027003.chunk.js","sourcesContent":["// This icon file is generated automatically.\nvar MinusOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"minus\", \"theme\": \"outlined\" };\nexport default MinusOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport MinusOutlinedSvg from \"@ant-design/icons-svg/es/asn/MinusOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar MinusOutlined = function MinusOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: MinusOutlinedSvg\n  }));\n};\n\nMinusOutlined.displayName = 'MinusOutlined';\nexport default React.forwardRef(MinusOutlined);","import React from 'react'\n// import { envStore } from '@/constants/env'\n\nexport default class SnippetDragPreview extends React.Component {\n  render() {\n    // const dropType = this.props.canDrop ? 'allow' : 'forbid'\n    // const url = `${envStore.publicUrl}/images/icon-drag-${dropType}-drop@2x.png`\n\n    return <div>{/* <img width={160} src={url} alt={url} /> */}</div>\n  }\n}\n","import React from 'react'\nimport { XYCoord, DragLayer } from 'react-dnd'\nimport { Identifier } from 'dnd-core'\nimport ItemTypes from '@/constants/item-types'\nimport SnippetDragPreview from '@/components/snippet-drag-preview'\nimport { canMoveSnippet } from './snippet-utils'\n\nconst layerStyles: React.CSSProperties = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  zIndex: 100,\n  left: 0,\n  top: 0,\n  width: '100%',\n  height: '100%',\n}\n\ninterface DragLayerProps {\n  item?: any\n  itemType?: Identifier | null\n  initialOffset?: XYCoord | null\n  currentOffset?: XYCoord | null\n  isDragging?: boolean\n}\n\nfunction getItemStyles(props: DragLayerProps) {\n  const { initialOffset, currentOffset } = props\n\n  if (!initialOffset || !currentOffset) {\n    return {\n      display: 'none',\n    }\n  }\n\n  const { x, y } = currentOffset\n\n  const transform = `translate(${x}px, ${y}px)`\n  return {\n    transform,\n    WebkitTransform: transform,\n  }\n}\n\nconst SnippetDragLayer: React.FC<DragLayerProps> = props => {\n  const { itemType, isDragging, currentOffset } = props\n\n  function renderItem({ canDrop }: { canDrop: boolean }) {\n    switch (itemType) {\n      case ItemTypes.BOARD:\n      case ItemTypes.SNIPPET:\n        return <SnippetDragPreview canDrop={canDrop} />\n      default:\n        return null\n    }\n  }\n\n  if (!isDragging) {\n    return null\n  }\n\n  if (!currentOffset) {\n    return null\n  }\n\n  const element = document.elementFromPoint(currentOffset.x, currentOffset.y)\n\n  let canDrop = false\n  if (element) {\n    canDrop = canMoveSnippet(element)\n  }\n\n  return (\n    <div className=\"report-template-builder__drag-layer\" style={layerStyles}>\n      <div style={getItemStyles(props)}>{renderItem({ canDrop })}</div>\n    </div>\n  )\n}\n\nexport default DragLayer(monitor => ({\n  item: monitor.getItem(),\n  itemType: monitor.getItemType(),\n  initialOffset: monitor.getInitialSourceClientOffset(),\n  currentOffset: monitor.getSourceClientOffset(),\n  isDragging: monitor.isDragging(),\n}))(SnippetDragLayer)\n","import React from 'react'\nimport { Row, Col } from 'antd'\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons'\nimport { RouteComponentProps } from 'react-router-dom'\nimport { keys, map } from 'ramda'\nimport { Page } from '@/components/layout'\nimport Button from '@/components/button'\nimport Input from '@/components/input'\nimport useTitle from '@/hooks/useTitle'\nimport { useBreadcrumb, useHeaderContent } from '@/hooks/useApp'\nimport { useReportTemplate, useReportPreview } from '@/hooks/useReportTemplate'\nimport { REPORT_TEMPLATE_LIST } from '@/constants/routes'\nimport Tabs from '@/components/draggable-tabs'\nimport ReactDndProvider from '@/components/snippet-scrollable-container'\nimport SnippetListMenu from '@/components/snippet-list-menu'\nimport SnippetDragLayer from '@/components/snippet-drag-layer'\nimport SnippetsContainer from '@/components/snippets-container'\nimport SnippetPreviewModal from '@/components/snippet-preview-modal'\nimport Collapse from '@/components/collapse'\nconst { compose } = require('ramda')\n\ninterface Props extends RouteComponentProps<{ id: string }> {}\n\nfunction ReportTemplateBuilder(props: Props) {\n  useTitle('結構式報告模版編輯')\n\n  useBreadcrumb([\n    { href: REPORT_TEMPLATE_LIST, name: '結構式報告' },\n    { name: '結構式報告模版編輯' },\n  ])\n\n  const { params } = props.match\n\n  const {\n    category,\n    snippetList,\n    handleTabChange,\n    handleTabEdit,\n    handleTabMove,\n    handleTabNameChange,\n    handleSnippetUpdate,\n  } = useReportTemplate(params.id)\n\n  const [, setTemplateInfo] = React.useState({})\n\n  // React.useEffect(() => {\n  //   console.log(\n  //     JSON.stringify(\n  //       compose(\n  //         mergeAll,\n  //         map((key: string) => ({\n  //           [key]: compose(\n  //             map(omit(['Component'])),\n  //             pathOr([], [key])\n  //           )(snippetList),\n  //         })),\n  //         keys\n  //       )(snippetList)\n  //     )\n  //   )\n  // }, [JSON.stringify(snippetList)]) // eslint-disable-line\n\n  const [isPreview, handlePreview] = useReportPreview()\n\n  const handleSave = () => {}\n\n  useHeaderContent(\n    <div className=\"inline-flex\">\n      <Button\n        color=\"outline\"\n        className=\"bg-transparent text-white border-white\">\n        發佈\n      </Button>\n      <Button\n        color=\"outline\"\n        className=\"ml-6 bg-transparent text-white border-white\"\n        onClick={handleSave}>\n        儲存\n      </Button>\n      <Button\n        color=\"outline\"\n        className=\"ml-6 bg-transparent text-white border-white\"\n        onClick={handlePreview}>\n        預覽\n      </Button>\n    </div>\n  )\n\n  const handleInputChange = (field: string) => (\n    evt: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    setTemplateInfo(prev => ({ ...prev, [field]: evt.target.value }))\n  }\n\n  return (\n    <ReactDndProvider>\n      {isPreview && (\n        <SnippetPreviewModal\n          snippetList={snippetList}\n          onCancel={handlePreview}\n        />\n      )}\n      <SnippetDragLayer />\n      <Page>\n        <Row gutter={48} className=\"pt-2 relative\">\n          <Col span={5}>\n            <Collapse\n              defaultActiveKey={[1, 2]}\n              expandIconPosition=\"right\"\n              className=\"shadow-2xl header-pl-clear\"\n              expandIcon={({ isActive }) =>\n                isActive ? <MinusOutlined /> : <PlusOutlined />\n              }>\n              <Collapse.Panel header=\"模版資訊\" key={1}>\n                <Row className=\"mb-2 text-sm text-darkGrey\">\n                  <Col span={24} className=\"mb-3\">\n                    <div className=\"inline-block\" css={{ width: 60 }}>\n                      名稱:\n                    </div>\n                    <Input\n                      className=\"w-2/3\"\n                      onChange={handleInputChange('name')}\n                    />\n                  </Col>\n                  <Col span={24} className=\"my-3\">\n                    <div className=\"inline-block\" css={{ width: 60 }}>\n                      描述:\n                    </div>\n                    <Input\n                      className=\"w-2/3\"\n                      onChange={handleInputChange('description')}\n                    />\n                  </Col>\n                  <Col span={24} className=\"my-3\">\n                    <div className=\"inline-block\" css={{ width: 60 }}>\n                      創作者:\n                    </div>\n                    <Input\n                      className=\"w-2/3\"\n                      onChange={handleInputChange('author')}\n                    />\n                  </Col>\n                </Row>\n              </Collapse.Panel>\n              <Collapse.Panel header=\"工具列\" key={2}>\n                <Row>\n                  <Col span={24}>\n                    <SnippetListMenu />\n                  </Col>\n                </Row>\n              </Collapse.Panel>\n            </Collapse>\n          </Col>\n          <Tabs\n            type=\"editable-card\"\n            activeKey={category}\n            onChange={handleTabChange}\n            onEdit={handleTabEdit}\n            moveTabNode={handleTabMove}\n            className=\"flex-1\">\n            {compose(\n              map((key: string) => (\n                <Tabs.TabPane\n                  closable\n                  key={key}\n                  tab={\n                    <span\n                      contentEditable\n                      suppressContentEditableWarning\n                      spellCheck={false}\n                      className=\"outline-none\"\n                      css={{ whiteSpace: 'nowrap' }}\n                      onChange={handleTabNameChange(key)}\n                      // onBlur={handleTabNameChange(key)}\n                    >\n                      {key}\n                    </span>\n                  }>\n                  <Col\n                    span={19}\n                    className=\"report-template-builder__main-content\">\n                    <SnippetsContainer\n                      draggable={!isPreview}\n                      snippetList={snippetList[key]}\n                      onSnippetUpdate={handleSnippetUpdate}\n                    />\n                  </Col>\n                </Tabs.TabPane>\n              )),\n              keys\n            )(snippetList)}\n          </Tabs>\n        </Row>\n      </Page>\n    </ReactDndProvider>\n  )\n}\n\nexport default ReportTemplateBuilder\n","var emptyImage;\nexport function getEmptyImage() {\n  if (!emptyImage) {\n    emptyImage = new Image();\n    emptyImage.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n  }\n\n  return emptyImage;\n}","export * from './common';\nexport * from './interfaces';\nexport * from './hooks';\nexport * from './decorators';","import { Input } from 'antd'\nimport styled, { css } from 'styled-components'\n\nconst borderLess = css`\n  &.ant-input-borderless {\n    border: none;\n    border-bottom: 1px solid ${p => p.theme.primary};\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  &:active:not(.ant-input-borderless) {\n    box-shadow: 0 0 0 1px ${p => p.theme.primary};\n  }\n`\n\nconst StyledInput = styled(Input)`\n  &.ant-input-affix-wrapper .ant-input,\n  &.ant-input {\n    border-color: ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    ${borderLess};\n  }\n`\n\nconst Search = styled(Input.Search)`\n  &.ant-input-search {\n    .ant-input {\n      border-color: ${p => p.theme.primary};\n\n      &:hover,\n      &:focus {\n        border-color: ${p => p.theme.secondary};\n      }\n\n      &:focus {\n        box-shadow: 0 0 0 1px ${p => p.theme.primary};\n      }\n    }\n\n    .anticon-search {\n      font-size: 20px;\n      color: ${p => p.theme.primary};\n    }\n  }\n`\n\nconst TextArea = styled(Input.TextArea)`\n  &.ant-input {\n    resize: none;\n    border: 1px solid ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    ${borderLess};\n  }\n`\n\nexport { StyledInput as Input, TextArea, Search }\n\nexport default StyledInput\n","import React from 'react'\nimport { atom, atomFamily, useRecoilState } from 'recoil'\nimport {\n  find,\n  mergeAll,\n  map,\n  values,\n  head,\n  keys,\n  path,\n  pathOr,\n  propEq,\n  sort,\n  last as Rlast,\n  omit,\n  inc,\n  filter,\n  flatten,\n  length,\n} from 'ramda'\nimport moment from 'moment'\nimport fakeSetting from '@/mocks/fake-snippet-setting.json'\nimport { reportTemplateById } from '@/components/report-template-list'\nimport { getNumberFromString } from '@/utils/webHelper'\nimport { confirm } from '@/utils/message'\nimport { SnippetProps, ReportTemplateSetting } from '@/constants/types'\nconst { compose } = require('ramda')\n\nexport type Snippets = { [key: string]: SnippetProps[] }\n\nexport type ReportTemplate = {\n  id: number\n  name: string\n  author: string\n  status: 1\n  statusName: string\n  createdAt: moment.Moment\n  createdAtStr: string\n  updatedAt: moment.Moment\n  updatedAtStr: string\n  description: string\n  setting: Snippets\n}\n\n// 模版分類\nconst snippetCategoryOfReport = {\n  PATHOLOGICAL_DIAGNOSIS: 'Pathological diagnosis',\n  GROSS: 'Gross',\n  MICROSCOPY: 'Microscopy',\n  NOTES: 'Notes',\n  REFERENCES: 'References',\n}\n\nconst fakeReportTemplateList = [\n  {\n    id: 1,\n    name: 'AJCC8-2018-卵巢癌-Ovary-CT',\n    author: '李懷寶',\n    status: 1,\n    statusName: '已發佈',\n    createdAt: moment(),\n    createdAtStr: moment().format('YYYY/MM/DD HH:mm'),\n    updatedAt: moment(),\n    updatedAtStr: moment().format('YYYY/MM/DD HH:mm'),\n    description: '卵巢癌報告模版',\n    setting: compose(\n      mergeAll,\n      map((key: string) => ({\n        [key]: compose(\n          map((x: any) => ({\n            ...x,\n            Component: path([x.type, 'Component'])(reportTemplateById),\n          })),\n          pathOr([], [key])\n        )(fakeSetting),\n      })),\n      keys\n    )(fakeSetting) as Snippets,\n  },\n  {\n    id: 2,\n    name: 'AJCC8-2018-肝-HCC-CT',\n    author: '林榮嘉',\n    status: 1,\n    statusName: '已發佈',\n    createdAt: moment(),\n    createdAtStr: moment().format('YYYY/MM/DD HH:mm'),\n    updatedAt: moment(),\n    updatedAtStr: moment().format('YYYY/MM/DD HH:mm'),\n    description: '肝臟報告模版',\n    setting: compose(\n      mergeAll,\n      map((key: string) => ({\n        [key]: compose(\n          map((x: any) => ({\n            ...x,\n            Component: path([x.type, 'Component'])(reportTemplateById),\n          })),\n          pathOr([], [key])\n        )(fakeSetting),\n      })),\n      keys\n    )(fakeSetting) as Snippets,\n  },\n]\n\nconst defaultSnippetsOfReport = compose(\n  mergeAll,\n  map((key: string) => ({ [key]: [] })),\n  values\n)(snippetCategoryOfReport)\n\nconst snippetsOfReportState = atomFamily<ReportTemplate, React.Key | undefined>(\n  {\n    key: 'reportSnippetsState',\n    default: id =>\n      compose(\n        // pathOr(defaultSnippetsOfReport, ['setting']),\n        find(propEq('id', Number(id)))\n      )(fakeReportTemplateList),\n  }\n)\n\nconst reportTemplateListState = atom({\n  key: 'reportTemplateListState',\n  default: {\n    content: fakeReportTemplateList,\n    total: 2,\n  },\n})\n\nconst reportPreviewState = atom({\n  key: 'reportPreviewState',\n  default: false,\n})\n\nconst categoryState = atom<string>({\n  key: 'categoryState',\n  default: compose(head, values)(snippetCategoryOfReport),\n})\n\n// 報告模版清單\nexport function useReportTemplates() {\n  return useRecoilState(reportTemplateListState)\n}\n\n// 模版報告資料\nexport function useReportTemplate(id?: React.Key) {\n  const [reportTemplate] = useRecoilState(snippetsOfReportState(id))\n\n  let _snippetList = pathOr(defaultSnippetsOfReport, ['setting'])(\n    reportTemplate\n  )\n\n  React.useEffect(() => {\n    setSnippetList(_snippetList)\n  }, [JSON.stringify(_snippetList)]) // eslint-disable-line\n\n  const [snippetList, setSnippetList] = React.useState<Snippets>(_snippetList)\n\n  const [category, setCategory] = useRecoilState(categoryState)\n\n  const handleSnippetUpdate = (data: any[]) => {\n    setSnippetList(prev => ({ ...prev, [category]: data }))\n  }\n\n  const handleTabChange = (activeKey: string) => {\n    setCategory(activeKey)\n  }\n\n  const handleTabMove = (order: string[]) => {\n    const snippetKeys = keys(snippetList)\n\n    setSnippetList(\n      compose(\n        mergeAll,\n        map((key: string) => ({ [key]: snippetList[key] })),\n        sort((a: string, b: string) => {\n          const orderA = order.indexOf(a)\n          const orderB = order.indexOf(b)\n\n          if (orderA !== -1 && orderB !== -1) {\n            return orderA - orderB\n          }\n          if (orderA !== -1) {\n            return -1\n          }\n          if (orderB !== -1) {\n            return 1\n          }\n\n          const ia = snippetKeys.indexOf(a)\n          const ib = snippetKeys.indexOf(b)\n\n          return ia - ib\n        }),\n        keys\n      )(snippetList)\n    )\n  }\n\n  const handleTabAdd = () => {\n    const last = compose(\n      inc,\n      pathOr(0, []),\n      getNumberFromString,\n      Rlast,\n      sort((a: any, b: any) => a - b),\n      keys\n    )(snippetList)\n\n    setSnippetList(prev => ({ ...prev, [`新標籤頁${last}`]: [] }))\n    setCategory(`新標籤頁${last}`)\n  }\n\n  const handleTabRemove = (targetKey: string) => {\n    confirm({\n      title: '確認要刪除此頁籤嗎？',\n      content: '刪除會連同模版資料一起刪除，確認繼續？',\n      onOk: () => {\n        setSnippetList(prev => omit([targetKey], prev))\n\n        if (category === targetKey) {\n          setCategory(\n            compose(\n              Rlast,\n              filter((key: string) => key !== targetKey),\n              keys\n            )(snippetList)\n          )\n        }\n      },\n    })\n  }\n\n  const handleTabNameChange = (targetKey: string) => (\n    evt: React.FocusEvent<HTMLSpanElement>\n  ) => {\n    const newTabName = evt.target.innerHTML\n\n    setSnippetList(prev =>\n      compose(\n        mergeAll,\n        map((key: string) => ({\n          [key === targetKey ? newTabName : key]: prev[key],\n        })),\n        keys\n      )(prev)\n    )\n    setCategory(newTabName)\n  }\n\n  const handleTabEdit = (\n    e:\n      | string\n      | React.MouseEvent<Element, MouseEvent>\n      | React.KeyboardEvent<Element>,\n    action: 'add' | 'remove'\n  ) => {\n    const handler = action === 'add' ? handleTabAdd : handleTabRemove\n\n    handler(e as string)\n  }\n\n  let snippetById: { [key: string]: SnippetProps } = {}\n\n  return {\n    category,\n    reportTemplate,\n    snippetList,\n    setCategory,\n    setSnippetList,\n    handleTabEdit,\n    handleTabChange,\n    handleTabMove,\n    handleTabAdd,\n    handleTabRemove,\n    handleTabNameChange,\n    handleSnippetUpdate,\n    total: compose(length, flatten, values)(snippetList),\n    snippetById: compose(\n      map((x: SnippetProps) => (snippetById[x.id] = x)),\n      flatten,\n      values\n    )(snippetList),\n  }\n}\n\n// 切換編輯/檢視模式\nexport function useReportPreview() {\n  const [isPreview, setIsPreview] = useRecoilState(reportPreviewState)\n\n  return [isPreview, () => setIsPreview(prev => !prev)] as [boolean, () => void]\n}\n\n// 更方便切換編輯/檢視模式\nexport function useToggleReportPreview(state: boolean = false) {\n  const [isPreview, setIsPreview] = useRecoilState(reportPreviewState)\n\n  React.useEffect(() => {\n    setIsPreview(state)\n\n    return () => {\n      setIsPreview(false)\n    }\n  }, [state]) // eslint-disable-line\n\n  return [isPreview, () => setIsPreview(prev => !prev)] as [boolean, () => void]\n}\n\nexport function useUpdateSnippet<T = ReportTemplateSetting>(options: {\n  item: SnippetProps\n  onUpdate: (data: any) => void\n  defaultValue?: any\n}) {\n  const { item, onUpdate, defaultValue = {} } = options\n\n  const [setting, setSetting] = React.useState<T>(\n    pathOr(defaultValue, ['setting'], item) as T\n  )\n\n  const handleOk = (values: T) => {\n    setSetting(values)\n    onUpdate({ ...item, setting: values })\n  }\n\n  return { setting, handleOk }\n}\n","import { ReactText } from 'react'\n\nexport const createFormItemLayout = (label: number = 3, wrapper?: number) => ({\n  labelCol: {\n    xs: { span: label },\n    sm: { span: label },\n  },\n  wrapperCol: {\n    xs: { span: wrapper || 24 - label },\n    sm: { span: wrapper || 24 - label },\n  },\n})\n\nexport const thosandSeprartor = {\n  formatter: (value: number | string | undefined) => {\n    if (!value) {\n      return value as string\n    }\n    return `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n  },\n  parser: (value: string | undefined) =>\n    (value ? value.replace(/\\$\\s?|(,*)/g, '') : value) as ReactText,\n}\n\nexport const currency = {\n  formatter: (value: number | string | undefined) => {\n    if (!value) {\n      return value as string\n    }\n    return `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\n  },\n  parser: (value: string | undefined) =>\n    (value ? value.replace(/\\$\\s?|(,*)/g, '') : value) as ReactText,\n}\n\nexport const percent = {\n  // min: 0,\n  max: 100,\n  formatter: (value: number | string | undefined) => {\n    if (!value) {\n      return value as string\n    }\n    return `${value}%`\n  },\n  parser: (value: string | undefined) =>\n    (value ? value.replace('%', '') : value) as ReactText,\n}\n\nexport const rules = {\n  required: { required: true, message: '此欄位必填' },\n  number: {\n    required: false,\n    type: 'number',\n    message: '請填寫數字',\n    transform(value: any) {\n      if (!value) {\n        return value\n      }\n      return Number(value)\n    },\n  },\n  account: {\n    required: true,\n    message: '欄位長度為8~128字元,特殊符號-,_',\n    pattern: new RegExp(/^.{8,128}$/),\n  },\n  password: {\n    required: true,\n    message: '密碼長度為6~128字元',\n    pattern: new RegExp(/^.{6,128}$/),\n  },\n}\n","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\nexport function isFunction(input) {\n  return typeof input === 'function';\n}\nexport function noop() {// noop\n}\n\nfunction isObjectLike(input) {\n  return _typeof(input) === 'object' && input !== null;\n}\n\nexport function isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}","import React from 'react'\nimport { Checkbox } from 'antd'\nimport { CheckboxProps } from 'antd/lib/checkbox'\nimport styled from 'styled-components'\nimport { RefProps } from '@/constants/types'\n\nconst CheckboxGroup = Checkbox.Group\n\nconst StyledCheckbox = styled(Checkbox)`\n  .ant-checkbox-checked .ant-checkbox-inner {\n    background-color: ${p => p.theme.primary};\n    border-color: ${p => p.theme.primary};\n  }\n\n  &.ant-checkbox-wrapper:hover .ant-checkbox-inner,\n  .ant-checkbox:hover .ant-checkbox-inner,\n  .ant-checkbox-input:focus + .ant-checkbox-inner {\n    border-color: ${p => p.theme.primary};\n  }\n\n  .ant-checkbox-checked .ant-checkbox-inner:after {\n    border: 2px solid #fff;\n    border-top: 0;\n    border-left: 0;\n  }\n\n  .ant-checkbox-inner {\n    border: 1px solid ${p => p.theme.secondary};\n  }\n\n  &.is--normal {\n    font-size: 14px !important;\n    font-weight: normal !important;\n  }\n`\n\ntype Props = RefProps & CheckboxProps\n\nconst CheckboxComponent: React.ElementType<Props> = React.forwardRef<\n  typeof StyledCheckbox,\n  Props\n>(({ ...props }, ref) => <StyledCheckbox forwardRef={ref} {...props} />)\n\nCheckboxComponent.displayName = 'Checkbox'\n\nexport { CheckboxComponent as Checkbox, CheckboxGroup }\n\nexport default CheckboxComponent\n","export function getDecoratedComponent(instanceRef) {\n  var currentRef = instanceRef.current;\n\n  if (currentRef == null) {\n    return null;\n  } else if (currentRef.decoratedRef) {\n    // go through the private field in decorateHandler to avoid the invariant hit\n    return currentRef.decoratedRef.current;\n  } else {\n    return currentRef;\n  }\n}\nexport function isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nexport function isRefForwardingComponent(C) {\n  var _item$$$typeof;\n\n  var item = C;\n  return (item === null || item === void 0 ? void 0 : (_item$$$typeof = item.$$typeof) === null || _item$$$typeof === void 0 ? void 0 : _item$$$typeof.toString()) === 'Symbol(react.forward_ref)';\n}\nexport function isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nexport function checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}","export function shallowEqual<T>(\n  objA: T,\n  objB: T,\n  compare?: (a: T, b: T, key?: string) => boolean | void,\n  compareContext?: any\n) {\n  var compareResult = compare\n    ? compare.call(compareContext, objA, objB)\n    : void 0;\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = (objA as any)[key];\n    var valueB = (objB as any)[key];\n\n    compareResult = compare\n      ? compare.call(compareContext, valueA, valueB, key)\n      : void 0;\n\n    if (\n      compareResult === false ||\n      (compareResult === void 0 && valueA !== valueB)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import React from 'react'\nimport { Layout } from 'antd'\n\nexport default function AppFooter() {\n  return (\n    <Layout.Footer\n      className=\"pb-6 text-center text-gray-600 border-t border-gray-400\"\n      style={{ background: 'rgb(221, 228, 237)' }}>\n      2020 高雄榮總數位病理平台\n    </Layout.Footer>\n  )\n}\n","import React from 'react'\nimport { Modal } from 'antd'\nimport { ModalProps, ModalFuncProps } from 'antd/lib/modal'\n\nexport const modalDefaultProps = (\n  content?: React.ReactNode,\n  props?: ModalProps\n): ModalFuncProps => ({\n  content: (\n    <div\n      className=\"text-darkGrey font-medium\"\n      css={{ marginTop: 16, marginBottom: 30 }}>\n      {content}\n    </div>\n  ),\n  icon: null,\n  width: 440,\n  okText: '刪除',\n  cancelText: '取消',\n  centered: true,\n  // maskStyle: {\n  //   background: theme.modal.maskDarken,\n  // },\n  autoFocusButton: null,\n  okButtonProps: {\n    className: 'c-btn is--danger',\n    style: { minWidth: 80, marginRight: 24 },\n  },\n  cancelButtonProps: {\n    className: 'c-btn is--outline mr-0 float-right',\n    style: { minWidth: 80 },\n  },\n  ...props,\n})\n\nexport const confirm = ({\n  onOk,\n  onCancel,\n  content = '刪除後將無法還原，確認繼續？',\n  ...props\n}: ModalFuncProps) => {\n  Modal.confirm({\n    ...modalDefaultProps(content),\n    ...props,\n    onOk: () => {\n      if (onOk) {\n        onOk()\n      }\n    },\n    onCancel() {\n      if (onCancel) {\n        onCancel()\n      }\n    },\n  })\n}\n","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}","import { cloneElement } from 'react';\nimport { invariant } from '@react-dnd/invariant';\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nexport function cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","import { isValidElement } from 'react';\nimport { cloneWithRef } from '../utils/cloneWithRef';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}","export default {\n  CARD: 'card',\n  BOARD: 'board',\n  SNIPPET: 'snippet',\n}\n","import React from 'react'\nimport { Layout } from 'antd'\nimport cx from 'classnames'\nimport AppFooter from '@/components/app-footer'\nimport theme from '../theme'\n\ninterface PageProps {\n  children: React.ReactNode\n  style?: React.CSSProperties\n  className?: string\n  wrapperClassName?: string\n  wrapperStyle?: React.CSSProperties\n}\n\nexport function Page({ children, style, className = 'pr-16' }: PageProps) {\n  return (\n    <Layout>\n      <Layout.Content\n        style={{\n          background: `linear-gradient(-90deg,#42c2b8,${theme.primary})`,\n        }}>\n        <div\n          className={cx('pl-8 pt-6 pb-12', className)}\n          style={style}\n          css={{\n            background: 'rgb(221, 228, 237)',\n            borderTopLeftRadius: 32,\n            borderTopRightRadius: 32,\n          }}>\n          {children}\n        </div>\n      </Layout.Content>\n      <AppFooter />\n    </Layout>\n  )\n}\n","import React from 'react'\nimport { replace } from 'ramda'\nimport { envStore } from '@/constants/env'\n\nexport interface UseTitleOptions {\n  restoreOnUnmount?: boolean\n}\n\nconst DEFAULT_USE_TITLE_OPTIONS: UseTitleOptions = {\n  restoreOnUnmount: false,\n}\n\nfunction useTitle(\n  title: string,\n  options: UseTitleOptions = DEFAULT_USE_TITLE_OPTIONS\n) {\n  const prevTitleRef = React.useRef(document.title)\n  document.title = replace(/%s/, title)(envStore.appTitle)\n  React.useEffect(() => {\n    if (options && options.restoreOnUnmount) {\n      return () => {\n        document.title = prevTitleRef.current // eslint-disable-line\n      }\n    } else {\n      return\n    }\n  }, []) // eslint-disable-line\n}\n\nexport default typeof document !== 'undefined'\n  ? useTitle\n  : (_title: string) => {}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Modal } from 'antd'\nimport { ModalProps } from 'antd/lib/modal'\n\nconst StyledModal = styled(Modal)`\n  animation-duration: 0s !important;\n  transition: none !important;\n\n  .ant-modal-header--border-none {\n    border-bottom: none;\n  }\n\n  .ant-modal-footer {\n    padding-top: 14px;\n    padding-bottom: 14px;\n  }\n`\n\nexport default class ModalComponent extends React.Component<ModalProps, any> {\n  static confirm = Modal.confirm\n  static error = Modal.error\n  static success = Modal.success\n  static info = Modal.info\n\n  render() {\n    return <StyledModal {...this.props}>{this.props.children}</StyledModal>\n  }\n}\n","import React from 'react'\nimport { Table, Empty, Tooltip } from 'antd'\nimport { TableProps } from 'antd/lib/table'\nimport { CloseOutlined, PlusOutlined } from '@ant-design/icons'\nimport styled from 'styled-components'\n\nconst StyledTable: any = styled(Table)`\n  &.ant-table-wrapper {\n    .ant-pagination-prev .ant-pagination-item-link,\n    .ant-pagination-next .ant-pagination-item-link {\n      border-color: ${p => p.theme.pagination};\n      border-radius: 6px;\n      color: ${p => p.theme.pagination};\n    }\n\n    .ant-pagination-item {\n      border-color: ${p => p.theme.pagination};\n    }\n\n    .ant-pagination-item a {\n      color: ${p => p.theme.pagination};\n    }\n\n    .ant-pagination-item-active,\n    .ant-pagination-item-active:focus,\n    .ant-pagination-item:hover {\n      border-color: ${p => p.theme.pagination};\n      background: ${p => p.theme.pagination};\n\n      a {\n        color: #fff;\n      }\n    }\n\n    .ant-table-pagination.ant-pagination {\n      margin-top: 32px;\n    }\n\n    .ant-pagination-prev:hover .ant-pagination-item-link,\n    .ant-pagination-next:hover .ant-pagination-item-link {\n      border-color: ${p => p.theme.pagination};\n      background: ${p => p.theme.pagination};\n      color: #fff;\n    }\n\n    .ant-pagination-simple-pager {\n      color: ${p => p.theme.pagination};\n    }\n  }\n\n  .ant-table-tbody > tr > td {\n    height: 40px;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    line-height: 1em;\n    color: #4a4a4a;\n    background: #f0f2f5;\n    border-bottom: 1px solid #e9e9e9;\n  }\n\n  .ant-table-thead > tr > th {\n    background: rgb(39, 189, 179);\n    border-bottom: 1px solid #e9e9e9;\n    color: #fff;\n    font-weight: 600;\n    font-size: 16px;\n  }\n`\n\ntype Props<T> = TableProps<T> & {\n  editable?: boolean\n  isRowDeletable?: (row: T) => boolean\n  onAddRowClick?: (param?: any) => any\n  onDeleteRowClick?: (param?: any) => any\n  isCanEdit?: any\n}\n\nfunction TableComponent<T = any>({\n  editable = false,\n  columns = [],\n  onAddRowClick,\n  isRowDeletable = () => true,\n  onDeleteRowClick,\n  isCanEdit = '',\n  ...props\n}: Props<T>) {\n  const _columns = React.useMemo(() => {\n    let canEdit: boolean = true\n    if (!editable) {\n      return columns\n    }\n    if (isCanEdit !== '') {\n      canEdit = isCanEdit\n    }\n\n    const handleRowDelete = (key: React.Key) => () => {\n      if (onDeleteRowClick) {\n        onDeleteRowClick(key)\n      }\n    }\n\n    return [\n      {\n        title: (\n          <Tooltip placement=\"topLeft\" title=\"新增\">\n            <PlusOutlined\n              className=\"ml-1 relative\"\n              style={{ top: -3 }}\n              onClick={canEdit ? onAddRowClick : undefined}\n            />\n          </Tooltip>\n        ),\n        width: 50,\n        render: (_: any, __: any, idx: number) => (\n          <div className=\"text-center\">#{idx + 1}</div>\n        ),\n      },\n      ...columns,\n      {\n        width: 50,\n        render: (_: any, r: any, idx: number) => (\n          <Tooltip placement=\"topLeft\" title=\"刪除\">\n            <CloseOutlined\n              onClick={isRowDeletable(r) ? handleRowDelete(r.id) : undefined}\n            />\n          </Tooltip>\n        ),\n      },\n    ]\n  }, [columns, editable]) // eslint-disable-line\n\n  return (\n    <StyledTable\n      columns={_columns}\n      locale={{\n        emptyText: (\n          <Empty\n            image={Empty.PRESENTED_IMAGE_SIMPLE}\n            description={\n              <span>\n                <span className=\"d-block\">\n                  尚無資料，請點選「＋新增」新增資料。\n                </span>\n              </span>\n            }\n          />\n        ),\n      }}\n      {...props}>\n      {props.children}\n    </StyledTable>\n  )\n}\n\nTableComponent.displayName = 'Table'\nTableComponent.Column = Table.Column\n\nexport default TableComponent\n","import React from 'react'\nimport { Select } from 'antd'\nimport { SelectProps } from 'antd/lib/select'\nimport styled from 'styled-components'\n\nconst StyledSelect: any = styled(Select)`\n  &.ant-select {\n    &.ant-select-single:not(.ant-select-customize-input) .ant-select-selector,\n    .ant-select-selection:hover,\n    .ant-select-selection:active,\n    .ant-select-selection:focus {\n      border-color: ${p => p.theme.primary};\n    }\n\n    .ant-select-selection {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    .ant-select-selection:active,\n    .ant-select-selection:focus {\n      box-shadow: none;\n    }\n\n    .ant-select-arrow {\n      color: ${p => p.theme.primary};\n    }\n\n    .ant-select-arrow-icon {\n      position: relative;\n      top: -1px;\n      font-size: 14px;\n    }\n\n    &.ant-select-borderless .ant-select-selector {\n      position: relative;\n      bottom: 1px;\n      border: 0;\n      border-bottom: 1px solid ${p => p.theme.primary} !important;\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n    }\n  }\n\n  &.ant-select.is--outline {\n    > .ant-select-selector {\n      background: transparent;\n      border: 1px solid #fff;\n      color: #fff;\n\n      &:active,\n      &:focus,\n      &:hover {\n        border: 1px solid #fff;\n      }\n    }\n\n    .ant-select-selection-placeholder,\n    .ant-select-arrow {\n      color: #fff;\n    }\n\n    .ant-select-selection-placeholder {\n      opacity: 1;\n      left: 30%;\n    }\n  }\n\n  &.ant-select.is--transparent {\n    &.ant-select-focused > .ant-select-selector {\n      border: 1px solid #666a8f;\n    }\n\n    > .ant-select-selector {\n      background: transparent;\n      border: 1px solid #666a8f;\n      color: #a9b6d8;\n\n      &:active,\n      &:focus,\n      &:hover {\n        border: 1px solid #666a8f;\n      }\n    }\n\n    .ant-select-arrow {\n      color: #a9b6d8;\n    }\n  }\n`\n\nclass SelectComponent<T = any> extends React.Component<SelectProps<T>, any> {\n  public static Option = Select.Option\n\n  public static displayName = 'Select'\n\n  render() {\n    return <StyledSelect {...this.props}>{this.props.children}</StyledSelect>\n  }\n}\n\nexport default SelectComponent\n","import React from 'react'\nimport { ModalProps as AntModalProps } from 'antd/lib/modal'\nimport Modal from '@/components/modal'\nimport Button from '@/components/button'\n\nexport interface ModalProps<T = any>\n  extends Omit<AntModalProps, 'onOk' | 'onCancel'> {\n  item?: T\n  onOk?: (data?: any) => void\n  onCancel: () => void\n  children?: React.ReactNode\n}\n\nfunction TemplateModal<T = any>({\n  onCancel,\n  onOk,\n  item,\n  children,\n  ...props\n}: ModalProps<T>) {\n  const handleOk = () => {\n    if (onOk) {\n      onOk()\n    }\n  }\n  return (\n    <Modal\n      visible\n      onCancel={onCancel}\n      width={650}\n      maskClosable={false}\n      keyboard={false}\n      footer={[\n        <Button\n          key=\"btn-cancel\"\n          color=\"outline\"\n          style={{ minWidth: 80, marginRight: 16 }}\n          onClick={onCancel}>\n          取消\n        </Button>,\n        <Button\n          key=\"btn-save\"\n          color=\"primary\"\n          style={{ minWidth: 80 }}\n          onClick={handleOk}>\n          儲存\n        </Button>,\n      ]}\n      {...props}>\n      {children}\n    </Modal>\n  )\n}\n\nexport { TemplateModal as Modal }\n\nexport default TemplateModal\n","import React from 'react'\nimport cx from 'classnames'\nimport { Card } from 'antd'\nimport { CardProps } from 'antd/lib/card'\nimport { FontColorsOutlined } from '@ant-design/icons'\nimport styled from 'styled-components'\nimport { useReportPreview } from '@/hooks/useReportTemplate'\nimport { isNil } from '@/utils/webHelper'\n\nconst StyledCard = styled(Card)`\n  &.ant-card {\n    border-radius: 10px;\n    border: none;\n    cursor: move;\n  }\n\n  .ant-card-head {\n    padding-left: 18px;\n    border-bottom: none;\n    color: ${p => p.theme.primary};\n    font-size: 14px;\n    font-weight: 600;\n  }\n\n  &.ant-card-head--hide .ant-card-head {\n    display: none;\n  }\n\n  &.ant-card-body--hide {\n    .ant-card-head {\n      padding-bottom: 16px;\n      border-bottom: 1px dashed #f0f0f0;\n    }\n\n    .ant-card-body {\n      display: none;\n    }\n  }\n\n  &.is--preview .ant-card-head {\n    min-height: auto;\n  }\n\n  &.is--preview .ant-card-head-title {\n    padding-top: 0;\n  }\n\n  &.is--preview .ant-card-body {\n    padding-top: 12px;\n    padding-bottom: 8px;\n  }\n\n  .ant-card-head-title {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding-bottom: 0;\n  }\n\n  .ant-card-body {\n    padding-top: 6px;\n    padding-left: 26px;\n    padding-bottom: 20px;\n  }\n`\n\ninterface Props extends CardProps {\n  titleVisible?: boolean\n  bodyVisible?: boolean\n  onEdit?: () => void\n  onDelete?: () => void\n}\n\nfunction TemplateWrapper({\n  title,\n  children,\n  onDelete,\n  onEdit,\n  titleVisible = false,\n  bodyVisible = true,\n  ...props\n}: Props) {\n  const [isPreview] = useReportPreview()\n\n  return (\n    <StyledCard\n      title={\n        <div className=\"flex items-center\">\n          {!isPreview && <FontColorsOutlined className=\"mr-3\" />}\n          {title || '預設標題 (可點鉛筆圖示可進行編輯)'}\n        </div>\n      }\n      className={cx({\n        'ant-card-head--hide': isNil(title) && !titleVisible,\n        'ant-card-body--hide': !bodyVisible,\n        // 'is--preview': isPreview,\n      })}\n      {...props}>\n      {children}\n    </StyledCard>\n  )\n}\n\nexport default TemplateWrapper\n","import React from 'react'\nimport { Form } from 'antd'\nimport { Input, TextArea } from '@/components/input'\nimport Checkbox from '@/components/checkbox'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateSetting, ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\n\ninterface Setting extends ReportTemplateSetting {\n  defaultValue?: string\n  multipleLine?: boolean\n}\n\nexport default function ReportTemplateInputText(props: ReportTemplateProps) {\n  const { editModalVisible, handleEditModalVisible, onUpdate, item } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({ item, onUpdate })\n\n  const inputProps = {\n    bordered: false,\n    className: 'w-2/3',\n    placeholder: setting.tooltip || '輸入內容',\n    defaultValue: setting.defaultValue,\n  }\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputTextModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          {setting.multipleLine ? (\n            <TextArea {...inputProps} autoSize={{ minRows: 3 }} />\n          ) : (\n            <Input {...inputProps} />\n          )}\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputTextModal({\n  onOk,\n  onCancel,\n  item,\n  ...props\n}: ModalProps<Setting>) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal<Setting>\n      {...props}\n      title={\n        <>\n          <div>\n            Text\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for description something.\n            </div>\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Default Value\" name=\"defaultValue\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n        <Form.Item\n          label=\"Multiple Lines\"\n          name=\"multipleLine\"\n          valuePropName=\"checked\">\n          <Checkbox />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { InputNumber } from 'antd'\nimport { InputNumberProps } from 'antd/lib/input-number'\nimport styled from 'styled-components'\nimport { RefProps } from '@/constants/types'\nimport { percent, currency, thosandSeprartor } from '@/utils/form'\n\ntype Props = RefProps & InputNumberProps & { bordered?: boolean }\n\nconst StyledInputNumber = styled(InputNumber).attrs({\n  min: 0 as any, // dont know why error\n})<Props>`\n  &.ant-input-number {\n    border-color: ${p => p.theme.primary};\n\n    ::placeholder {\n      color: red;\n    }\n  }\n\n  &.ant-input-number-focused,\n  &.ant-input-number:focus,\n  &.ant-input-number:hover {\n    border-color: ${p => p.theme.primary};\n  }\n\n  &.ant-input-number-focused:not(.ant-input-number-borderless),\n  &.ant-input-number:focus:not(.ant-input-number-borderless) {\n    box-shadow: 0 0 0 1px ${p => p.theme.primary};\n  }\n\n  &.ant-input-number-borderless,\n  &.ant-input-number-borderless:hover,\n  &.ant-input-number-borderless:focus,\n  &.ant-input-number-borderless-focused,\n  &.ant-input-number-borderless-disabled,\n  &.ant-input-number-borderless[disabled] {\n    border: none;\n    border-bottom: 1px solid ${p => p.theme.primary};\n  }\n`\n\nexport const ThousandSeprartorInput = React.forwardRef<\n  typeof InputNumber,\n  Props\n>(({ ...props }, ref) => (\n  <StyledInputNumber forwardRef={ref} {...props} {...thosandSeprartor} />\n))\n\nexport const CurrencyInput = React.forwardRef<typeof InputNumber, Props>(\n  ({ ...props }, ref) => (\n    <StyledInputNumber forwardRef={ref} {...props} {...currency} />\n  )\n)\n\nexport const PercentInput = React.forwardRef<typeof InputNumber, Props>(\n  ({ ...props }, ref) => (\n    <StyledInputNumber forwardRef={ref} {...props} {...percent} />\n  )\n)\n\nThousandSeprartorInput.displayName = 'ThousandSeprartorInput'\n\nCurrencyInput.displayName = 'CurrencyInput'\n\nPercentInput.displayName = 'PercentInput'\n\nexport { StyledInputNumber as InputNumber }\n\nexport default StyledInputNumber\n","import React from 'react'\nimport { Form } from 'antd'\nimport Input from '@/components/input'\nimport InputNumber from '@/components/input-number'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateSetting, ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\n\ninterface Setting extends ReportTemplateSetting {\n  defaultValue?: number\n  max?: number\n  min?: number\n  units?: string\n}\n\nexport default function ReportTemplateInputNumber(props: ReportTemplateProps) {\n  const { editModalVisible, handleEditModalVisible, item, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({ item, onUpdate })\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputNumberModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <InputNumber\n            style={{ width: '33.333333%' }}\n            className=\"ant-input-number-borderless\"\n            defaultValue={setting.defaultValue}\n            min={setting.min}\n            max={setting.max}\n            formatter={value => `${setting.units || ''} ${value}`}\n            placeholder={setting.tooltip || '輸入數值'}\n          />\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputNumberModal({ onOk, onCancel, item, ...props }: ModalProps) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal\n      {...props}\n      title={\n        <>\n          <div>\n            Number\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for input number.\n            </div>\n          </div>\n        </>\n      }\n      onOk={handleOk}\n      onCancel={onCancel}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Default Value\" name=\"defaultValue\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Minimum Value\" name=\"min\">\n          <InputNumber />\n        </Form.Item>\n        <Form.Item label=\"Maximum Value\" name=\"max\">\n          <InputNumber />\n        </Form.Item>\n        <Form.Item label=\"Units\" name=\"units\">\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","// tslint:disable: quotemark no-implicit-dependencies no-shadowed-variable no-var-requires\nimport React from 'react'\nimport { TableProps } from 'antd/lib/table'\nimport { FormInstance } from 'antd/lib/form'\nimport Table from '@/components/table'\n\ntype EditableTableProps<T> = Omit<TableProps<T>, 'onChange'> & {\n  value?: T[]\n  form: FormInstance\n  onChange?(changedValue: T[] | null): void\n  onRowAdd: (form: FormInstance) => any\n  onRowDelete: (value: { id: React.Key; form: FormInstance }) => any\n}\n\nexport default function EditableTable<T = any>({\n  form,\n  value,\n  onChange,\n  onRowAdd,\n  onRowDelete,\n  ...props\n}: EditableTableProps<T>) {\n  const triggerChange = (changedValue: T[]) => {\n    if (onChange) {\n      onChange(changedValue)\n    }\n  }\n\n  const handleAdd = () => {\n    triggerChange(onRowAdd(form))\n  }\n\n  const handleDelete = (id: string) => {\n    triggerChange(onRowDelete({ id, form }))\n  }\n\n  return (\n    <Table\n      {...props}\n      rowKey=\"id\"\n      pagination={false}\n      size=\"small\"\n      dataSource={value as any}\n      onAddRowClick={handleAdd}\n      onDeleteRowClick={handleDelete}\n      editable={true}\n    />\n  )\n}\n","import React from 'react'\nimport { Form } from 'antd'\nimport { ColumnProps } from 'antd/lib/table'\nimport { FormInstance } from 'antd/lib/form'\nimport { concat, __, pathOr, invoker, filter } from 'ramda'\nimport Input from '@/components/input'\nimport Checkbox from '@/components/checkbox'\nimport EditableTable from '@/components/editable-table'\nimport { uuid } from '@/utils/webHelper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateSetting } from '@/constants/types'\nimport { Modal, ModalProps } from './report-template-modal'\nconst { compose } = require('ramda')\n\nexport interface Setting extends ReportTemplateSetting {\n  options?: Option[]\n}\n\nexport type Option = {\n  id: React.Key\n  text?: string\n  selected?: boolean\n  freetext?: boolean\n}\n\nexport const defaultValue: Setting = {\n  options: [\n    {\n      id: uuid(),\n      text: '預設選項 1',\n      selected: true,\n      freetext: false,\n    },\n    {\n      id: uuid(),\n      text: '預設選項 2',\n      selected: true,\n      freetext: false,\n    },\n    {\n      id: uuid(),\n      text: '預設選項 3',\n      selected: true,\n      freetext: false,\n    },\n  ],\n}\n\nexport function TemplateSelectionModal({\n  onCancel,\n  onOk,\n  item,\n  ...props\n}: ModalProps) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  const handleRowAdd = (form: FormInstance) => {\n    return compose(\n      concat(__, [\n        {\n          id: uuid(),\n          text: undefined,\n          selected: true,\n          freetext: false,\n        },\n      ]),\n      pathOr([], ['options']),\n      invoker(0, 'getFieldsValue')()\n    )(form)\n  }\n\n  const handleRowDelete = ({\n    id,\n    form,\n  }: {\n    id: React.Key\n    form: FormInstance\n  }) => {\n    return compose(\n      filter((x: any) => x.id !== id),\n      pathOr([], ['options']),\n      invoker(0, 'getFieldsValue')()\n    )(form)\n  }\n\n  const columns: ColumnProps<Option>[] = [\n    {\n      title: '選項名稱',\n      render: (v, r, idx) => (\n        <Form.Item noStyle name={['options', idx, 'text']}>\n          <Input />\n        </Form.Item>\n      ),\n    },\n    {\n      title: '是否可選',\n      align: 'center',\n      render: (v, r, idx) => (\n        <Form.Item\n          noStyle\n          name={['options', idx, 'selected']}\n          valuePropName=\"checked\">\n          <Checkbox />\n        </Form.Item>\n      ),\n    },\n    {\n      title: '是否可輸入',\n      align: 'center',\n      render: (v, r, idx) => (\n        <Form.Item\n          noStyle\n          name={['options', idx, 'freetext']}\n          valuePropName=\"checked\">\n          <Checkbox />\n        </Form.Item>\n      ),\n    },\n  ]\n\n  return (\n    <Modal\n      {...props}\n      title={\n        <>\n          <div>Single Selection List</div>\n          <div className=\"mt-1 text-sm text-gray-600\">\n            Typically used for shorter lists so that all responses are visible\n            as radio buttons. Only allow a single selection.\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(3, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Options\" />\n        <Form.Item noStyle name=\"options\">\n          <EditableTable\n            columns={columns}\n            form={form}\n            onRowAdd={handleRowAdd}\n            onRowDelete={handleRowDelete}\n          />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { Form } from 'antd'\nimport cx from 'classnames'\nimport { pathOr } from 'ramda'\nimport { Checkbox, CheckboxGroup } from '@/components/checkbox'\nimport Input from '@/components/input'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport {\n  TemplateSelectionModal,\n  Setting,\n  Option,\n  defaultValue,\n} from '@/components/report-template-selection-modal'\nimport { mapIndexed } from '@/utils/webHelper'\nimport { ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\nconst { compose } = require('ramda')\n\nfunction ReportTemplateMultipleSelection(props: ReportTemplateProps) {\n  const { item, editModalVisible, handleEditModalVisible, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({\n    item,\n    onUpdate,\n    defaultValue,\n  })\n\n  return (\n    <>\n      {editModalVisible && (\n        <TemplateSelectionModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n          title={\n            <>\n              <div>Multiple Selection List</div>\n              <div className=\"mt-1 text-sm text-gray-600\">\n                typically used for shorter lists so that all responses are\n                visible as checkboxes. Allows Multiple selections.\n              </div>\n            </>\n          }\n        />\n      )}\n      <TemplateWrapper\n        title={setting.text || ''}\n        bodyStyle={{ paddingLeft: 36 }}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <CheckboxGroup>\n            {compose(\n              mapIndexed((x: Option, idx: number) => (\n                <Checkbox\n                  key={x.id}\n                  className={cx('block ml-0', { 'mt-1': idx > 0 })}\n                  defaultChecked={false}\n                  value={`${idx}`}>\n                  {x.text}\n                  {x.freetext && (\n                    <Input\n                      bordered={false}\n                      size=\"small\"\n                      placeholder=\"輸入備註\"\n                      className=\"ml-4 w-1/3\"\n                    />\n                  )}\n                </Checkbox>\n              )),\n              pathOr([], ['options'])\n            )(setting)}\n          </CheckboxGroup>\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nexport default ReportTemplateMultipleSelection\n","import React from 'react'\nimport cx from 'classnames'\nimport { Form } from 'antd'\nimport { pathOr } from 'ramda'\nimport Radio from '@/components/radio'\nimport Input from '@/components/input'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport {\n  TemplateSelectionModal,\n  Setting,\n  Option,\n  defaultValue,\n} from '@/components/report-template-selection-modal'\nimport { mapIndexed } from '@/utils/webHelper'\nimport { ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\nconst { compose } = require('ramda')\n\nfunction ReportTemplateSingleSelection(props: ReportTemplateProps) {\n  const { item, editModalVisible, handleEditModalVisible, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({\n    item,\n    onUpdate,\n    defaultValue,\n  })\n\n  return (\n    <>\n      {editModalVisible && (\n        <TemplateSelectionModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper\n        title={setting.text || ''}\n        bodyStyle={{ paddingLeft: 36 }}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <Radio.Group>\n            {compose(\n              mapIndexed((x: Option, idx: number) => (\n                <Radio\n                  key={x.id}\n                  className={cx('block', { 'mt-1': idx > 0 })}\n                  defaultChecked={false}\n                  value={`${idx}`}>\n                  {x.text}\n                  {x.freetext && (\n                    <Input\n                      size=\"small\"\n                      bordered={false}\n                      placeholder=\"輸入備註\"\n                      className=\"ml-3 w-1/3\"\n                    />\n                  )}\n                </Radio>\n              )),\n              pathOr([], ['options'])\n            )(setting)}\n          </Radio.Group>\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nexport default ReportTemplateSingleSelection\n","import React from 'react'\nimport styled, { css } from 'styled-components'\nimport { DatePicker, TimePicker } from 'antd'\nimport { DatePickerProps } from 'antd/lib/date-picker'\n\nconst borderLess = css`\n  &.ant-picker-borderless {\n    border: none;\n    border-bottom: 1px solid ${p => p.theme.primary} !important;\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n\n  &.ant-picker-focused:not(.ant-picker-borderless) {\n    box-shadow: 0 0 0 1px ${p => p.theme.primary};\n  }\n`\n\nconst RangePicker = styled(DatePicker.RangePicker)`\n  &.ant-picker {\n    border: 1px solid ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    &.ant-picker-focused {\n      box-shadow: 0 0 0 1px ${p => p.theme.primary};\n    }\n  }\n`\n\nconst StyledDatePicker: any = styled(DatePicker)`\n  &.ant-picker {\n    border: 1px solid ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    .ant-picker-suffix {\n      color: ${p => p.theme.primary};\n    }\n\n    ${borderLess};\n  }\n`\n\nconst StyledTimePicker = styled(TimePicker)`\n  &.ant-picker {\n    border: 1px solid ${p => p.theme.primary};\n\n    &:hover,\n    &:focus {\n      border-color: ${p => p.theme.secondary};\n    }\n\n    .ant-picker-suffix {\n      color: ${p => p.theme.primary};\n    }\n\n    ${borderLess};\n  }\n`\n\nfunction DatePickerComponent(props: DatePickerProps) {\n  return <StyledDatePicker {...props} />\n}\n\nexport {\n  DatePickerComponent as DatePicker,\n  RangePicker,\n  StyledTimePicker as TimePicker,\n}\n\nexport default DatePickerComponent\n","import React from 'react'\nimport { Form } from 'antd'\nimport Input from '@/components/input'\nimport DatePicker from '@/components/datepicker'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\n\ntype Setting = {\n  text?: string\n  defaultValue?: moment.Moment\n  tooltip?: string\n}\n\nexport default function ReportTemplateDate(props: ReportTemplateProps) {\n  const { editModalVisible, handleEditModalVisible, item, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({ item, onUpdate })\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputDateModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <DatePicker\n            bordered={false}\n            className=\"w-1/3\"\n            placeholder={setting.tooltip || '選擇日期'}\n            defaultValue={setting.defaultValue}\n          />\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputDateModal({\n  onOk,\n  onCancel,\n  item,\n  ...props\n}: ModalProps<Setting>) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal<Setting>\n      {...props}\n      title={\n        <>\n          <div>\n            Date\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for target date.\n            </div>\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Default Value\" name=\"defaultValue\">\n          <DatePicker allowClear picker=\"date\" className=\"w-full\" />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { Form } from 'antd'\nimport Input from '@/components/input'\nimport { TimePicker } from '@/components/datepicker'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { ReportTemplateSetting, ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\n\ninterface Setting extends ReportTemplateSetting {\n  defaultValue?: moment.Moment\n}\n\nexport default function ReportTemplateTime(props: ReportTemplateProps) {\n  const { editModalVisible, handleEditModalVisible, item, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({ item, onUpdate })\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputTimeModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <TimePicker\n            bordered={false}\n            className=\"w-1/3\"\n            placeholder={setting.tooltip || '選擇時間'}\n            defaultValue={setting.defaultValue}\n          />\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputTimeModal({\n  onOk,\n  onCancel,\n  item,\n  ...props\n}: ModalProps<Setting>) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal<Setting>\n      {...props}\n      title={\n        <>\n          <div>\n            Time\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for target time.\n            </div>\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Default Value\" name=\"defaultValue\">\n          <TimePicker allowClear format=\"HH:mm\" className=\"w-full\" />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\nimport { pathOr, map } from 'ramda'\nimport { Form } from 'antd'\nimport Select from '@/components/select'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport {\n  TemplateSelectionModal,\n  Option,\n  defaultValue,\n} from '@/components/report-template-selection-modal'\nimport { ReportTemplateSetting, ReportTemplateProps } from '@/constants/types'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\nconst { compose } = require('ramda')\n\ninterface Setting extends ReportTemplateSetting {\n  options?: Option[]\n  selectionType?: 'single' | 'multiple'\n}\n\nexport default function ReportTemplateSelect(props: ReportTemplateProps) {\n  const { item, editModalVisible, handleEditModalVisible, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({\n    item,\n    onUpdate,\n    defaultValue,\n  })\n\n  return (\n    <>\n      {editModalVisible && (\n        <TemplateSelectionModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n          title={\n            <>\n              <div>Drop-down List</div>\n              <div className=\"mt-1 text-sm text-gray-600\">\n                typically used for lists of greater than 6 or 7 options.\n              </div>\n            </>\n          }\n        />\n      )}\n      <TemplateWrapper title={setting.text || ''}>\n        <Form.Item noStyle name={['data', item.id]}>\n          <Select\n            allowClear\n            bordered={false}\n            className=\"w-1/3\"\n            placeholder={setting.tooltip || '請選擇...'}>\n            {compose(\n              map((x: Option) => (\n                <Select.Option key={x.id} value={x.text as any}>\n                  {x.text}\n                </Select.Option>\n              )),\n              pathOr([], ['options'])\n            )(setting)}\n          </Select>\n        </Form.Item>\n      </TemplateWrapper>\n    </>\n  )\n}\n","import React from 'react'\nimport { Form } from 'antd'\nimport Input from '@/components/input'\nimport { Modal, ModalProps } from '@/components/report-template-modal'\nimport TemplateWrapper from '@/components/report-template-wrapper'\nimport { createFormItemLayout } from '@/utils/form'\nimport { useUpdateSnippet } from '@/hooks/useReportTemplate'\nimport { ReportTemplateSetting, ReportTemplateProps } from '@/constants/types'\n\ninterface Setting extends ReportTemplateSetting {}\n\nexport default function TemplateSectionHeader(props: ReportTemplateProps) {\n  const { item, editModalVisible, handleEditModalVisible, onUpdate } = props\n\n  const { setting, handleOk } = useUpdateSnippet<Setting>({\n    item,\n    onUpdate,\n  })\n\n  return (\n    <>\n      {editModalVisible && (\n        <InputTextModal\n          item={setting}\n          onCancel={handleEditModalVisible}\n          onOk={handleOk}\n        />\n      )}\n      <TemplateWrapper\n        titleVisible\n        bodyVisible={false}\n        title={setting.text}\n        onEdit={handleEditModalVisible}></TemplateWrapper>\n    </>\n  )\n}\n\nfunction InputTextModal({\n  onOk,\n  onCancel,\n  item,\n  ...props\n}: ModalProps<Setting>) {\n  const [form] = Form.useForm()\n\n  const handleOk = () => {\n    form.validateFields().then(values => {\n      if (onOk) {\n        onOk(values)\n      }\n      onCancel()\n    })\n  }\n\n  return (\n    <Modal<Setting>\n      {...props}\n      title={\n        <>\n          <div>\n            Section Header\n            <div className=\"inline ml-2 text-sm text-gray-600\">\n              typically used for section.\n            </div>\n          </div>\n        </>\n      }\n      onCancel={onCancel}\n      onOk={handleOk}>\n      <Form\n        {...createFormItemLayout(5, 16)}\n        labelAlign=\"left\"\n        form={form}\n        initialValues={item}>\n        <Form.Item label=\"Text\" name=\"text\">\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Tooltip\" name=\"tooltip\">\n          <Input />\n        </Form.Item>\n      </Form>\n    </Modal>\n  )\n}\n","import React from 'react'\n\nfunction ReportTemplateCloze() {\n  return <div></div>\n}\n\nexport const html = `\n  <div>\n    Cloze test\n  </div>\n`\n\nexport const Component = ReportTemplateCloze\n\nexport default ReportTemplateCloze\n","import { map, mergeAll } from 'ramda'\nimport {\n  CalendarOutlined,\n  ClockCircleOutlined,\n  OrderedListOutlined,\n  UnorderedListOutlined,\n  FontSizeOutlined,\n  DatabaseOutlined,\n  NumberOutlined,\n  BoldOutlined,\n  FontColorsOutlined,\n} from '@ant-design/icons'\nimport { uuid } from '@/utils/webHelper'\nimport TemplateInputText from '@/components/report-template-input-text'\nimport TemplateInputNumber from '@/components/report-template-input-number'\nimport TemplateMultipleSelection from '@/components/report-template-multiple-selection'\nimport TemplateSingleSelection from '@/components/report-template-single-selection'\nimport TemplateDate from '@/components/report-template-date'\nimport TemplateTime from '@/components/report-template-time'\nimport TemplateSelect from '@/components/report-template-select'\nimport TempldateSectionHeader from '@/components/report-template-section-header'\nimport * as Cloze from '@/components/report-template-cloze'\nconst { compose } = require('ramda')\n\ninterface ReportTemplateListItem {\n  id: React.Key\n  type: string\n  name: string\n  Component: React.Component\n  inline: boolean\n}\n\nconst reportTemplateList = [\n  {\n    id: uuid(),\n    componentType: 'header',\n    name: 'Section Header',\n    inline: false,\n    icon: BoldOutlined,\n    Component: TempldateSectionHeader,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateInputText',\n    name: 'Text',\n    inline: false,\n    icon: FontSizeOutlined,\n    Component: TemplateInputText,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateInputNumber',\n    name: 'Number',\n    inline: false,\n    icon: NumberOutlined,\n    Component: TemplateInputNumber,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateSelect',\n    name: 'Drop-down List',\n    inline: false,\n    icon: DatabaseOutlined,\n    Component: TemplateSelect,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateMultipleSelection',\n    name: 'Multiple Selection List',\n    inline: false,\n    icon: UnorderedListOutlined,\n    Component: TemplateMultipleSelection,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateSingleSelection',\n    name: 'Single Selection List',\n    inline: false,\n    icon: OrderedListOutlined,\n    Component: TemplateSingleSelection,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateDate',\n    name: 'Date',\n    inline: false,\n    icon: CalendarOutlined,\n    Component: TemplateDate,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateTime',\n    name: 'Time',\n    inline: false,\n    icon: ClockCircleOutlined,\n    Component: TemplateTime,\n  },\n  {\n    id: uuid(),\n    type: 'TemplateCloze',\n    name: 'Cloze',\n    inline: true,\n    icon: FontColorsOutlined,\n    html: Cloze.html,\n    Component: Cloze.Component,\n  },\n]\n\nexport const reportTemplateById = compose(\n  mergeAll,\n  map((x: ReportTemplateListItem) => ({ [x.type]: x }))\n)(reportTemplateList)\n\nexport default reportTemplateList\n","import React from 'react'\nimport { Radio } from 'antd'\nimport { RadioProps } from 'antd/lib/radio'\nimport styled from 'styled-components'\n\nconst StyledRadio = styled(Radio)`\n  &.ant-radio-wrapper {\n    color: ${p => p.theme.darkGrey};\n\n    span.ant-radio + * {\n      padding-left: 16px;\n    }\n\n    .ant-radio-inner,\n    .ant-radio-checked .ant-radio-inner {\n      border-color: ${p => p.theme.primary};\n    }\n\n    .ant-radio-inner::after {\n      background: ${p => p.theme.primary};\n    }\n\n    &:hover,\n    .ant-radio:hover .ant-radio-inner,\n    .ant-radio-input:focus + .ant-radio-inner {\n      border-color: ${p => p.theme.primary};\n    }\n  }\n`\n\ninterface Props extends RadioProps {\n  css?: React.CSSProperties\n}\n\nclass RadioComponent extends React.Component<Props, any> {\n  public static Group = Radio.Group\n\n  public static displayName = 'Radio'\n\n  public render() {\n    return <StyledRadio {...this.props} />\n  }\n}\n\nexport default RadioComponent\n","export * from './monitors';\nexport * from './hooksApi';\nexport * from './options';\nexport * from './connectors';","export * from './DragSource';\nexport * from './DropTarget';\nexport * from './DragLayer';\nexport * from './interfaces';","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isValidType(type, allowArray) {\n  return typeof type === 'string' || _typeof(type) === 'symbol' || !!allowArray && Array.isArray(type) && type.every(function (t) {\n    return isValidType(t, false);\n  });\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { invariant } from '@react-dnd/invariant';\nimport { DndContext } from '../common/DndContext';\nimport { isPlainObject } from '../utils/js_utils';\nimport { isRefable, checkDecoratorArguments } from './utils';\nexport function DragLayer(collect) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  checkDecoratorArguments('DragLayer', 'collect[, options]', collect, options);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the second argument to DragLayer to be a plain object when specified. ' + 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);\n  return function decorateLayer(DecoratedComponent) {\n    var Decorated = DecoratedComponent;\n    var _options$arePropsEqua = options.arePropsEqual,\n        arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n    var displayName = Decorated.displayName || Decorated.name || 'Component';\n\n    var DragLayerContainer =\n    /** @class */\n    function () {\n      var DragLayerContainer = /*#__PURE__*/function (_React$Component) {\n        _inherits(DragLayerContainer, _React$Component);\n\n        var _super = _createSuper(DragLayerContainer);\n\n        function DragLayerContainer() {\n          var _this;\n\n          _classCallCheck(this, DragLayerContainer);\n\n          _this = _super.apply(this, arguments);\n          _this.isCurrentlyMounted = false;\n          _this.ref = React.createRef();\n\n          _this.handleChange = function () {\n            if (!_this.isCurrentlyMounted) {\n              return;\n            }\n\n            var nextState = _this.getCurrentState();\n\n            if (!shallowEqual(nextState, _this.state)) {\n              _this.setState(nextState);\n            }\n          };\n\n          return _this;\n        }\n\n        _createClass(DragLayerContainer, [{\n          key: \"getDecoratedComponentInstance\",\n          value: function getDecoratedComponentInstance() {\n            invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n            return this.ref.current;\n          }\n        }, {\n          key: \"shouldComponentUpdate\",\n          value: function shouldComponentUpdate(nextProps, nextState) {\n            return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n          }\n        }, {\n          key: \"componentDidMount\",\n          value: function componentDidMount() {\n            this.isCurrentlyMounted = true;\n            this.handleChange();\n          }\n        }, {\n          key: \"componentWillUnmount\",\n          value: function componentWillUnmount() {\n            this.isCurrentlyMounted = false;\n\n            if (this.unsubscribeFromOffsetChange) {\n              this.unsubscribeFromOffsetChange();\n              this.unsubscribeFromOffsetChange = undefined;\n            }\n\n            if (this.unsubscribeFromStateChange) {\n              this.unsubscribeFromStateChange();\n              this.unsubscribeFromStateChange = undefined;\n            }\n          }\n        }, {\n          key: \"render\",\n          value: function render() {\n            var _this2 = this;\n\n            return React.createElement(DndContext.Consumer, null, function (_ref) {\n              var dragDropManager = _ref.dragDropManager;\n\n              if (dragDropManager === undefined) {\n                return null;\n              }\n\n              _this2.receiveDragDropManager(dragDropManager); // Let componentDidMount fire to initialize the collected state\n\n\n              if (!_this2.isCurrentlyMounted) {\n                return null;\n              }\n\n              return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.state, {\n                ref: isRefable(Decorated) ? _this2.ref : null\n              }));\n            });\n          }\n        }, {\n          key: \"receiveDragDropManager\",\n          value: function receiveDragDropManager(dragDropManager) {\n            if (this.manager !== undefined) {\n              return;\n            }\n\n            this.manager = dragDropManager;\n            invariant(_typeof(dragDropManager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n            var monitor = this.manager.getMonitor();\n            this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n            this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n          }\n        }, {\n          key: \"getCurrentState\",\n          value: function getCurrentState() {\n            if (!this.manager) {\n              return {};\n            }\n\n            var monitor = this.manager.getMonitor();\n            return collect(monitor, this.props);\n          }\n        }]);\n\n        return DragLayerContainer;\n      }(React.Component);\n\n      DragLayerContainer.displayName = \"DragLayer(\".concat(displayName, \")\");\n      DragLayerContainer.DecoratedComponent = DecoratedComponent;\n      return DragLayerContainer;\n    }();\n\n    return hoistStatics(DragLayerContainer, DecoratedComponent);\n  };\n}","export default function getDisplayName(Component: any) {\n  return (\n    Component.displayName ||\n    Component.name ||\n    (typeof Component === 'string' && Component.length > 0\n      ? Component\n      : 'Unknown')\n  )\n}\n","import React from 'react'\nimport { includes, pathOr } from 'ramda'\nimport { XYCoord } from 'react-dnd'\nimport { isNil, mapIndexed } from '@/utils/webHelper'\nimport Snippet from '@/components/snippet'\nimport { SnippetProps } from '@/constants/types'\nconst { compose } = require('ramda')\n\n/* prettier-ignore */\nconst REPORT_TEMPLATE_BUILDER_CLASSNAME = 'report-template-builder__main-content'\nconst UI_DRAGGABLE_CLASSNAME = 'ui-draggable'\n\nconst hasClassName = (nodes: Element[], className: string) => {\n  return nodes.find(\n    n => !isNil(n.className) && includes(className)(n.className)\n  )\n}\n\nexport function canMoveSnippet(\n  element: Element | null,\n  className = REPORT_TEMPLATE_BUILDER_CLASSNAME\n) {\n  let elem = element\n\n  const nodes: Element[] = []\n  nodes.push(elem as Element)\n\n  while (elem?.parentNode) {\n    nodes.unshift(elem.parentNode as Element)\n    elem = elem.parentNode as Element\n  }\n\n  if (\n    hasClassName(nodes, 'report-template-builder-contentarea--fixed-layout') ||\n    hasClassName(nodes, 'snippet-drawer-menu')\n  ) {\n    return false\n  }\n  if (\n    hasClassName(nodes, className) ||\n    hasClassName(nodes, UI_DRAGGABLE_CLASSNAME)\n  ) {\n    return true\n  }\n\n  return false\n}\n\nfunction findSnippet(\n  element: HTMLElement,\n  className = UI_DRAGGABLE_CLASSNAME\n): HTMLElement | null {\n  if (element.classList.contains(className)) {\n    return element\n  }\n  return element.parentElement && findSnippet(element.parentElement, className)\n}\n\nexport function getPlaceHolderIndex(clientOffset: XYCoord) {\n  const hoverElement = document.elementFromPoint(clientOffset.x, clientOffset.y)\n\n  // find ui-draggable classname\n  const overSnippet = findSnippet(hoverElement as NonNullable<HTMLElement>)\n\n  const snippetIndex = overSnippet && overSnippet.dataset.index\n  const placeholderIndex = overSnippet ? Number(overSnippet.dataset.index) : -1\n\n  const isOverSnippet = !isNil(snippetIndex)\n\n  return {\n    overSnippet,\n    placeholderIndex,\n    isOverSnippet: isOverSnippet,\n  }\n}\n\nexport function renderSnippets(props: { [key: string]: any } = {}) {\n  return (snippetList?: SnippetProps[]) =>\n    compose(\n      mapIndexed((item: SnippetProps, idx: number) => (\n        <Snippet\n          {...props}\n          key={item.id}\n          wrapperId={`${item.id}`}\n          item={item}\n          draggable={false}\n          tabSize={item.tabSize}>\n          {item.inline ? (\n            <div\n              id={`${item.id}`}\n              className={`${item.id}`}\n              css={{ padding: 16 }}\n              dangerouslySetInnerHTML={{ __html: item.html }}\n            />\n          ) : (\n            <item.Component\n              id={item.id}\n              className={item.id}\n              item={item}\n              index={idx}\n            />\n          )}\n        </Snippet>\n      )),\n      pathOr([], [])\n    )(snippetList)\n}\n","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\nimport shallowEqual from 'shallowequal';\n\nvar PanelContent = function (_Component) {\n  _inherits(PanelContent, _Component);\n\n  function PanelContent() {\n    _classCallCheck(this, PanelContent);\n\n    return _possibleConstructorReturn(this, (PanelContent.__proto__ || Object.getPrototypeOf(PanelContent)).apply(this, arguments));\n  }\n\n  _createClass(PanelContent, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return this.props.forceRender || !shallowEqual(this.props, nextProps);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classnames;\n\n      this._isActived = this.props.forceRender || this._isActived || this.props.isActive;\n      if (!this._isActived) {\n        return null;\n      }\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          isActive = _props.isActive,\n          children = _props.children,\n          destroyInactivePanel = _props.destroyInactivePanel,\n          forceRender = _props.forceRender,\n          role = _props.role;\n\n      var contentCls = classnames(prefixCls + '-content', (_classnames = {}, _defineProperty(_classnames, prefixCls + '-content-active', isActive), _defineProperty(_classnames, prefixCls + '-content-inactive', !isActive), _classnames));\n      var child = !forceRender && !isActive && destroyInactivePanel ? null : React.createElement(\n        'div',\n        { className: prefixCls + '-content-box' },\n        children\n      );\n      return React.createElement(\n        'div',\n        {\n          className: contentCls,\n          role: role\n        },\n        child\n      );\n    }\n  }]);\n\n  return PanelContent;\n}(Component);\n\nexport default PanelContent;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport PanelContent from './PanelContent';\nimport Animate from 'rc-animate';\nimport shallowEqual from 'shallowequal';\n\nvar CollapsePanel = function (_Component) {\n  _inherits(CollapsePanel, _Component);\n\n  function CollapsePanel() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, CollapsePanel);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = CollapsePanel.__proto__ || Object.getPrototypeOf(CollapsePanel)).call.apply(_ref, [this].concat(args))), _this), _this.handleItemClick = function () {\n      var _this$props = _this.props,\n          onItemClick = _this$props.onItemClick,\n          panelKey = _this$props.panelKey;\n\n\n      if (typeof onItemClick === 'function') {\n        onItemClick(panelKey);\n      }\n    }, _this.handleKeyPress = function (e) {\n      if (e.key === 'Enter' || e.keyCode === 13 || e.which === 13) {\n        _this.handleItemClick();\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(CollapsePanel, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return !shallowEqual(this.props, nextProps);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames2;\n\n      var _props = this.props,\n          className = _props.className,\n          id = _props.id,\n          style = _props.style,\n          prefixCls = _props.prefixCls,\n          header = _props.header,\n          headerClass = _props.headerClass,\n          children = _props.children,\n          isActive = _props.isActive,\n          showArrow = _props.showArrow,\n          destroyInactivePanel = _props.destroyInactivePanel,\n          disabled = _props.disabled,\n          accordion = _props.accordion,\n          forceRender = _props.forceRender,\n          expandIcon = _props.expandIcon,\n          extra = _props.extra;\n\n      var headerCls = classNames(prefixCls + '-header', _defineProperty({}, headerClass, headerClass));\n      var itemCls = classNames((_classNames2 = {}, _defineProperty(_classNames2, prefixCls + '-item', true), _defineProperty(_classNames2, prefixCls + '-item-active', isActive), _defineProperty(_classNames2, prefixCls + '-item-disabled', disabled), _classNames2), className);\n\n      var icon = React.createElement('i', { className: 'arrow' });\n      if (showArrow && typeof expandIcon === 'function') {\n        icon = expandIcon(this.props);\n      }\n      return React.createElement(\n        'div',\n        { className: itemCls, style: style, id: id },\n        React.createElement(\n          'div',\n          {\n            className: headerCls,\n            onClick: this.handleItemClick,\n            role: accordion ? 'tab' : 'button',\n            tabIndex: disabled ? -1 : 0,\n            'aria-expanded': '' + isActive,\n            onKeyPress: this.handleKeyPress\n          },\n          showArrow && icon,\n          header,\n          extra && React.createElement(\n            'div',\n            { className: prefixCls + '-extra' },\n            extra\n          )\n        ),\n        React.createElement(\n          Animate,\n          {\n            showProp: 'isActive',\n            exclusive: true,\n            component: '',\n            animation: this.props.openAnimation\n          },\n          React.createElement(\n            PanelContent,\n            {\n              prefixCls: prefixCls,\n              isActive: isActive,\n              destroyInactivePanel: destroyInactivePanel,\n              forceRender: forceRender,\n              role: accordion ? 'tabpanel' : null\n            },\n            children\n          )\n        )\n      );\n    }\n  }]);\n\n  return CollapsePanel;\n}(Component);\n\nCollapsePanel.defaultProps = {\n  showArrow: true,\n  isActive: false,\n  destroyInactivePanel: false,\n  onItemClick: function onItemClick() {},\n\n  headerClass: '',\n  forceRender: false\n};\n\nexport default CollapsePanel;","import cssAnimation from '@ant-design/css-animation';\n\nfunction animate(node, show, transitionName, done) {\n  var height = void 0;\n  return cssAnimation(node, transitionName, {\n    start: function start() {\n      if (!show) {\n        node.style.height = node.offsetHeight + 'px';\n      } else {\n        height = node.offsetHeight;\n        node.style.height = 0;\n      }\n    },\n    active: function active() {\n      node.style.height = (show ? height : 0) + 'px';\n    },\n    end: function end() {\n      node.style.height = '';\n      done();\n    }\n  });\n}\n\nfunction animation(prefixCls) {\n  return {\n    enter: function enter(node, done) {\n      return animate(node, true, prefixCls + '-anim', done);\n    },\n    leave: function leave(node, done) {\n      return animate(node, false, prefixCls + '-anim', done);\n    }\n  };\n}\n\nexport default animation;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport toArray from 'rc-util/es/Children/toArray';\nimport CollapsePanel from './Panel';\nimport openAnimationFactory from './openAnimationFactory';\n\nfunction getActiveKeysArray(activeKey) {\n  var currentActiveKey = activeKey;\n  if (!Array.isArray(currentActiveKey)) {\n    currentActiveKey = currentActiveKey ? [currentActiveKey] : [];\n  }\n  return currentActiveKey.map(function (key) {\n    return String(key);\n  });\n}\n\nvar Collapse = function (_Component) {\n  _inherits(Collapse, _Component);\n\n  function Collapse(props) {\n    _classCallCheck(this, Collapse);\n\n    var _this = _possibleConstructorReturn(this, (Collapse.__proto__ || Object.getPrototypeOf(Collapse)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var activeKey = props.activeKey,\n        defaultActiveKey = props.defaultActiveKey;\n\n    var currentActiveKey = defaultActiveKey;\n    if ('activeKey' in props) {\n      currentActiveKey = activeKey;\n    }\n\n    _this.state = {\n      openAnimation: props.openAnimation || openAnimationFactory(props.prefixCls),\n      activeKey: getActiveKeysArray(currentActiveKey)\n    };\n    return _this;\n  }\n\n  _createClass(Collapse, [{\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return !shallowEqual(this.props, nextProps) || !shallowEqual(this.state, nextState);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames;\n\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          className = _props.className,\n          style = _props.style,\n          accordion = _props.accordion;\n\n      var collapseClassName = classNames((_classNames = {}, _defineProperty(_classNames, prefixCls, true), _defineProperty(_classNames, className, !!className), _classNames));\n      return React.createElement(\n        'div',\n        { className: collapseClassName, style: style, role: accordion ? 'tablist' : null },\n        this.getItems()\n      );\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(nextProps) {\n      var newState = {};\n      if ('activeKey' in nextProps) {\n        newState.activeKey = getActiveKeysArray(nextProps.activeKey);\n      }\n      if ('openAnimation' in nextProps) {\n        newState.openAnimation = nextProps.openAnimation;\n      }\n      return newState.activeKey || newState.openAnimation ? newState : null;\n    }\n  }]);\n\n  return Collapse;\n}(Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.onClickItem = function (key) {\n    var activeKey = _this2.state.activeKey;\n    if (_this2.props.accordion) {\n      activeKey = activeKey[0] === key ? [] : [key];\n    } else {\n      activeKey = [].concat(_toConsumableArray(activeKey));\n      var index = activeKey.indexOf(key);\n      var isActive = index > -1;\n      if (isActive) {\n                activeKey.splice(index, 1);\n      } else {\n        activeKey.push(key);\n      }\n    }\n    _this2.setActiveKey(activeKey);\n  };\n\n  this.getNewChild = function (child, index) {\n    if (!child) return null;\n\n    var activeKey = _this2.state.activeKey;\n    var _props2 = _this2.props,\n        prefixCls = _props2.prefixCls,\n        accordion = _props2.accordion,\n        destroyInactivePanel = _props2.destroyInactivePanel,\n        expandIcon = _props2.expandIcon;\n    \n    var key = child.key || String(index);\n    var _child$props = child.props,\n        header = _child$props.header,\n        headerClass = _child$props.headerClass,\n        disabled = _child$props.disabled;\n\n    var isActive = false;\n    if (accordion) {\n      isActive = activeKey[0] === key;\n    } else {\n      isActive = activeKey.indexOf(key) > -1;\n    }\n\n    var props = {\n      key: key,\n      panelKey: key,\n      header: header,\n      headerClass: headerClass,\n      isActive: isActive,\n      prefixCls: prefixCls,\n      destroyInactivePanel: destroyInactivePanel,\n      openAnimation: _this2.state.openAnimation,\n      accordion: accordion,\n      children: child.props.children,\n      onItemClick: disabled ? null : _this2.onClickItem,\n      expandIcon: expandIcon\n    };\n\n        if (typeof child.type === 'string') {\n      return child;\n    }\n\n    return React.cloneElement(child, props);\n  };\n\n  this.getItems = function () {\n    var children = _this2.props.children;\n\n    return toArray(children).map(_this2.getNewChild);\n  };\n\n  this.setActiveKey = function (activeKey) {\n    if (!('activeKey' in _this2.props)) {\n      _this2.setState({ activeKey: activeKey });\n    }\n    _this2.props.onChange(_this2.props.accordion ? activeKey[0] : activeKey);\n  };\n};\n\nCollapse.defaultProps = {\n  prefixCls: 'rc-collapse',\n  onChange: function onChange() {},\n\n  accordion: false,\n  destroyInactivePanel: false\n};\n\nCollapse.Panel = CollapsePanel;\n\nexport default Collapse;","import Collapse from './Collapse';\n\nexport default Collapse;\nexport var Panel = Collapse.Panel;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];\nvar REQUIRED_SPEC_METHODS = ['beginDrag'];\n\nvar SourceImpl = /*#__PURE__*/function () {\n  function SourceImpl(spec, monitor, ref) {\n    var _this = this;\n\n    _classCallCheck(this, SourceImpl);\n\n    this.props = null;\n\n    this.beginDrag = function () {\n      if (!_this.props) {\n        return;\n      }\n\n      var item = _this.spec.beginDrag(_this.props, _this.monitor, _this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', item);\n      }\n\n      return item;\n    };\n\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(SourceImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.canDrag) {\n        return true;\n      }\n\n      return this.spec.canDrag(this.props, this.monitor);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging(globalMonitor, sourceId) {\n      if (!this.props) {\n        return false;\n      }\n\n      if (!this.spec.isDragging) {\n        return sourceId === globalMonitor.getSourceId();\n      }\n\n      return this.spec.isDragging(this.props, this.monitor);\n    }\n  }, {\n    key: \"endDrag\",\n    value: function endDrag() {\n      if (!this.props) {\n        return;\n      }\n\n      if (!this.spec.endDrag) {\n        return;\n      }\n\n      this.spec.endDrag(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }]);\n\n  return SourceImpl;\n}();\n\nexport function createSourceFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  REQUIRED_SPEC_METHODS.forEach(function (key) {\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);\n  });\n  return function createSource(monitor, ref) {\n    return new SourceImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { checkDecoratorArguments } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { registerSource } from '../common/registration';\nimport { DragSourceMonitorImpl } from '../common/DragSourceMonitorImpl';\nimport { SourceConnector } from '../common/SourceConnector';\nimport { isValidType } from '../utils/isValidType';\nimport { createSourceFactory } from './createSourceFactory';\n/**\n * Decorates a component as a dragsource\n * @param type The dragsource type\n * @param spec The drag source specification\n * @param collect The props collector function\n * @param options DnD options\n */\n\nexport function DragSource(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DragSource', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type), 'Expected \"type\" provided as the first argument to DragSource to be ' + 'a string, or a function that returns a string given the current props. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DragSource to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', spec);\n  var createSource = createSourceFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DragSource to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DragSource to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);\n  return function decorateSource(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DragSource',\n      createHandler: createSource,\n      registerHandler: registerSource,\n      createConnector: function createConnector(backend) {\n        return new SourceConnector(backend);\n      },\n      createMonitor: function createMonitor(manager) {\n        return new DragSourceMonitorImpl(manager);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\n\nvar TargetImpl = /*#__PURE__*/function () {\n  function TargetImpl(spec, monitor, ref) {\n    _classCallCheck(this, TargetImpl);\n\n    this.props = null;\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(TargetImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"receiveMonitor\",\n    value: function receiveMonitor(monitor) {\n      this.monitor = monitor;\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      if (!this.spec.canDrop) {\n        return true;\n      }\n\n      return this.spec.canDrop(this.props, this.monitor);\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      if (!this.spec.hover || !this.props) {\n        return;\n      }\n\n      this.spec.hover(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      if (!this.spec.drop) {\n        return undefined;\n      }\n\n      var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(typeof dropResult === 'undefined' || isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);\n      }\n\n      return dropResult;\n    }\n  }]);\n\n  return TargetImpl;\n}();\n\nexport function createTargetFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);\n  });\n  return function createTarget(monitor, ref) {\n    return new TargetImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { registerTarget } from '../common/registration';\nimport { isValidType } from '../utils/isValidType';\nimport { TargetConnector } from '../common/TargetConnector';\nimport { DropTargetMonitorImpl } from '../common/DropTargetMonitorImpl';\nimport { checkDecoratorArguments } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { createTargetFactory } from './createTargetFactory';\nexport function DropTarget(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type, true), 'Expected \"type\" provided as the first argument to DropTarget to be ' + 'a string, an array of strings, or a function that returns either given ' + 'the current props. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DropTarget to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', spec);\n  var createTarget = createTargetFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DropTarget to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DropTarget to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  return function decorateTarget(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DropTarget',\n      createHandler: createTarget,\n      registerHandler: registerTarget,\n      createMonitor: function createMonitor(manager) {\n        return new DropTargetMonitorImpl(manager);\n      },\n      createConnector: function createConnector(backend) {\n        return new TargetConnector(backend);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { isFunction, noop } from '../utils/js_utils';\n/**\n * Provides a set of static methods for creating Disposables.\n * @param {Function} action Action to run during the first call to dispose.\n * The action is guaranteed to be run at most once.\n */\n\nvar Disposable =\n/** @class */\nfunction () {\n  var Disposable = /*#__PURE__*/function () {\n    function Disposable(action) {\n      _classCallCheck(this, Disposable);\n\n      this.isDisposed = false;\n      this.action = isFunction(action) ? action : noop;\n    }\n    /**\n     * Validates whether the given object is a disposable\n     * @param {Object} Object to test whether it has a dispose method\n     * @returns {Boolean} true if a disposable object, else false.\n     */\n\n\n    _createClass(Disposable, [{\n      key: \"dispose\",\n\n      /** Performs the task of cleaning up resources. */\n      value: function dispose() {\n        if (!this.isDisposed) {\n          this.action();\n          this.isDisposed = true;\n        }\n      }\n    }], [{\n      key: \"isDisposable\",\n      value: function isDisposable(d) {\n        return Boolean(d && isFunction(d.dispose));\n      }\n    }, {\n      key: \"_fixup\",\n      value: function _fixup(result) {\n        return Disposable.isDisposable(result) ? result : Disposable.empty;\n      }\n      /**\n       * Creates a disposable object that invokes the specified action when disposed.\n       * @param {Function} dispose Action to run during the first call to dispose.\n       * The action is guaranteed to be run at most once.\n       * @return {Disposable} The disposable object that runs the given action upon disposal.\n       */\n\n    }, {\n      key: \"create\",\n      value: function create(action) {\n        return new Disposable(action);\n      }\n    }]);\n\n    return Disposable;\n  }();\n  /**\n   * Gets the disposable that does nothing when disposed.\n   */\n\n\n  Disposable.empty = {\n    dispose: noop\n  };\n  return Disposable;\n}();\n\nexport { Disposable };\n/**\n * Represents a group of disposable resources that are disposed together.\n * @constructor\n */\n\nexport var CompositeDisposable = /*#__PURE__*/function () {\n  function CompositeDisposable() {\n    _classCallCheck(this, CompositeDisposable);\n\n    this.isDisposed = false;\n\n    for (var _len = arguments.length, disposables = new Array(_len), _key = 0; _key < _len; _key++) {\n      disposables[_key] = arguments[_key];\n    }\n\n    this.disposables = disposables;\n  }\n  /**\n   * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n   * @param {Any} item Disposable to add.\n   */\n\n\n  _createClass(CompositeDisposable, [{\n    key: \"add\",\n    value: function add(item) {\n      if (this.isDisposed) {\n        item.dispose();\n      } else {\n        this.disposables.push(item);\n      }\n    }\n    /**\n     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n     * @param {Any} item Disposable to remove.\n     * @returns {Boolean} true if found; false otherwise.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      var shouldDispose = false;\n\n      if (!this.isDisposed) {\n        var idx = this.disposables.indexOf(item);\n\n        if (idx !== -1) {\n          shouldDispose = true;\n          this.disposables.splice(idx, 1);\n          item.dispose();\n        }\n      }\n\n      return shouldDispose;\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group but\n     *  does not dispose the CompositeDisposable.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.isDisposed) {\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i = 0; _i < len; _i++) {\n          currentDisposables[_i].dispose();\n        }\n      }\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i2 = 0; _i2 < len; _i2++) {\n          currentDisposables[_i2].dispose();\n        }\n      }\n    }\n  }]);\n\n  return CompositeDisposable;\n}();\n/**\n * Represents a disposable resource whose underlying disposable resource can\n * be replaced by another disposable resource, causing automatic disposal of\n * the previous underlying disposable resource.\n */\n\nexport var SerialDisposable = /*#__PURE__*/function () {\n  function SerialDisposable() {\n    _classCallCheck(this, SerialDisposable);\n\n    this.isDisposed = false;\n  }\n  /**\n   * Gets the underlying disposable.\n   * @returns {Any} the underlying disposable.\n   */\n\n\n  _createClass(SerialDisposable, [{\n    key: \"getDisposable\",\n    value: function getDisposable() {\n      return this.current;\n    }\n  }, {\n    key: \"setDisposable\",\n    value: function setDisposable(value) {\n      var shouldDispose = this.isDisposed;\n\n      if (!shouldDispose) {\n        var old = this.current;\n        this.current = value;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n\n      if (shouldDispose && value) {\n        value.dispose();\n      }\n    }\n    /** Performs the task of cleaning up resources. */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var old = this.current;\n        this.current = undefined;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n    }\n  }]);\n\n  return SerialDisposable;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { DndContext } from '../common/DndContext';\nimport { isPlainObject } from '../utils/js_utils';\nimport { Disposable, CompositeDisposable, SerialDisposable } from './disposables';\nimport { isRefable } from './utils';\nexport function decorateHandler(_ref) {\n  var DecoratedComponent = _ref.DecoratedComponent,\n      createHandler = _ref.createHandler,\n      createMonitor = _ref.createMonitor,\n      createConnector = _ref.createConnector,\n      registerHandler = _ref.registerHandler,\n      containerDisplayName = _ref.containerDisplayName,\n      getType = _ref.getType,\n      collect = _ref.collect,\n      options = _ref.options;\n  var _options$arePropsEqua = options.arePropsEqual,\n      arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n  var Decorated = DecoratedComponent;\n  var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n  var DragDropContainer =\n  /** @class */\n  function () {\n    var DragDropContainer = /*#__PURE__*/function (_React$Component) {\n      _inherits(DragDropContainer, _React$Component);\n\n      var _super = _createSuper(DragDropContainer);\n\n      function DragDropContainer(props) {\n        var _this;\n\n        _classCallCheck(this, DragDropContainer);\n\n        _this = _super.call(this, props);\n        _this.decoratedRef = React.createRef();\n\n        _this.handleChange = function () {\n          var nextState = _this.getCurrentState();\n\n          if (!shallowEqual(nextState, _this.state)) {\n            _this.setState(nextState);\n          }\n        };\n\n        _this.disposable = new SerialDisposable();\n\n        _this.receiveProps(props);\n\n        _this.dispose();\n\n        return _this;\n      }\n\n      _createClass(DragDropContainer, [{\n        key: \"getHandlerId\",\n        value: function getHandlerId() {\n          return this.handlerId;\n        }\n      }, {\n        key: \"getDecoratedComponentInstance\",\n        value: function getDecoratedComponentInstance() {\n          invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n          return this.decoratedRef.current;\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.disposable = new SerialDisposable();\n          this.currentType = undefined;\n          this.receiveProps(this.props);\n          this.handleChange();\n        }\n      }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate(prevProps) {\n          if (!arePropsEqual(this.props, prevProps)) {\n            this.receiveProps(this.props);\n            this.handleChange();\n          }\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.dispose();\n        }\n      }, {\n        key: \"receiveProps\",\n        value: function receiveProps(props) {\n          if (!this.handler) {\n            return;\n          }\n\n          this.handler.receiveProps(props);\n          this.receiveType(getType(props));\n        }\n      }, {\n        key: \"receiveType\",\n        value: function receiveType(type) {\n          if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {\n            return;\n          }\n\n          if (type === this.currentType) {\n            return;\n          }\n\n          this.currentType = type;\n\n          var _registerHandler = registerHandler(type, this.handler, this.manager),\n              _registerHandler2 = _slicedToArray(_registerHandler, 2),\n              handlerId = _registerHandler2[0],\n              unregister = _registerHandler2[1];\n\n          this.handlerId = handlerId;\n          this.handlerMonitor.receiveHandlerId(handlerId);\n          this.handlerConnector.receiveHandlerId(handlerId);\n          var globalMonitor = this.manager.getMonitor();\n          var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, {\n            handlerIds: [handlerId]\n          });\n          this.disposable.setDisposable(new CompositeDisposable(new Disposable(unsubscribe), new Disposable(unregister)));\n        }\n      }, {\n        key: \"dispose\",\n        value: function dispose() {\n          this.disposable.dispose();\n\n          if (this.handlerConnector) {\n            this.handlerConnector.receiveHandlerId(null);\n          }\n        }\n      }, {\n        key: \"getCurrentState\",\n        value: function getCurrentState() {\n          if (!this.handlerConnector) {\n            return {};\n          }\n\n          var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);\n\n          if (process.env.NODE_ENV !== 'production') {\n            invariant(isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' + '%s for %s to return a plain object of props to inject. ' + 'Instead, received %s.', containerDisplayName, displayName, nextState);\n          }\n\n          return nextState;\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return React.createElement(DndContext.Consumer, null, function (_ref2) {\n            var dragDropManager = _ref2.dragDropManager;\n\n            _this2.receiveDragDropManager(dragDropManager);\n\n            if (typeof requestAnimationFrame !== 'undefined') {\n              requestAnimationFrame(function () {\n                var _this2$handlerConnect;\n\n                return (_this2$handlerConnect = _this2.handlerConnector) === null || _this2$handlerConnect === void 0 ? void 0 : _this2$handlerConnect.reconnect();\n              });\n            }\n\n            return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.getCurrentState(), {\n              // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.\n              ref: isRefable(Decorated) ? _this2.decoratedRef : null\n            }));\n          });\n        }\n      }, {\n        key: \"receiveDragDropManager\",\n        value: function receiveDragDropManager(dragDropManager) {\n          if (this.manager !== undefined) {\n            return;\n          }\n\n          invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n          if (dragDropManager === undefined) {\n            return;\n          }\n\n          this.manager = dragDropManager;\n          this.handlerMonitor = createMonitor(dragDropManager);\n          this.handlerConnector = createConnector(dragDropManager.getBackend());\n          this.handler = createHandler(this.handlerMonitor, this.decoratedRef);\n        }\n      }]);\n\n      return DragDropContainer;\n    }(React.Component);\n\n    DragDropContainer.DecoratedComponent = DecoratedComponent;\n    DragDropContainer.displayName = \"\".concat(containerDisplayName, \"(\").concat(displayName, \")\");\n    return DragDropContainer;\n  }();\n\n  return hoistStatics(DragDropContainer, DecoratedComponent);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nexport var SourceConnector = /*#__PURE__*/function () {\n  function SourceConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, SourceConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dragSource: function dragSource(node, options) {\n        _this.clearDragSource();\n\n        _this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragSourceRef = node;\n        } else {\n          _this.dragSourceNode = node;\n        }\n\n        _this.reconnectDragSource();\n      },\n      dragPreview: function dragPreview(node, options) {\n        _this.clearDragPreview();\n\n        _this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          _this.dragPreviewRef = node;\n        } else {\n          _this.dragPreviewNode = node;\n        }\n\n        _this.reconnectDragPreview();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dragSourceRef = null;\n    this.dragSourceOptionsInternal = null; // The drag preview may either be attached via ref or connect function\n\n    this.dragPreviewRef = null;\n    this.dragPreviewOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDragSource = null;\n    this.lastConnectedDragSourceOptions = null;\n    this.lastConnectedDragPreview = null;\n    this.lastConnectedDragPreviewOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(SourceConnector, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (this.handlerId === newHandlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"reconnect\",\n    value: function reconnect() {\n      this.reconnectDragSource();\n      this.reconnectDragPreview();\n    }\n  }, {\n    key: \"reconnectDragSource\",\n    value: function reconnectDragSource() {\n      var dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragSource();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragSource) {\n        this.lastConnectedDragSource = dragSource;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragSource = dragSource;\n        this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n        this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n      }\n    }\n  }, {\n    key: \"reconnectDragPreview\",\n    value: function reconnectDragPreview() {\n      var dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n      var didChange = this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n      if (didChange) {\n        this.disconnectDragPreview();\n      }\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dragPreview) {\n        this.lastConnectedDragPreview = dragPreview;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDragPreview = dragPreview;\n        this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n        this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n      }\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didConnectedDragSourceChange\",\n    value: function didConnectedDragSourceChange() {\n      return this.lastConnectedDragSource !== this.dragSource;\n    }\n  }, {\n    key: \"didConnectedDragPreviewChange\",\n    value: function didConnectedDragPreviewChange() {\n      return this.lastConnectedDragPreview !== this.dragPreview;\n    }\n  }, {\n    key: \"didDragSourceOptionsChange\",\n    value: function didDragSourceOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n    }\n  }, {\n    key: \"didDragPreviewOptionsChange\",\n    value: function didDragPreviewOptionsChange() {\n      return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n    }\n  }, {\n    key: \"disconnectDragSource\",\n    value: function disconnectDragSource() {\n      if (this.dragSourceUnsubscribe) {\n        this.dragSourceUnsubscribe();\n        this.dragSourceUnsubscribe = undefined;\n      }\n    }\n  }, {\n    key: \"disconnectDragPreview\",\n    value: function disconnectDragPreview() {\n      if (this.dragPreviewUnsubscribe) {\n        this.dragPreviewUnsubscribe();\n        this.dragPreviewUnsubscribe = undefined;\n        this.dragPreviewNode = null;\n        this.dragPreviewRef = null;\n      }\n    }\n  }, {\n    key: \"clearDragSource\",\n    value: function clearDragSource() {\n      this.dragSourceNode = null;\n      this.dragSourceRef = null;\n    }\n  }, {\n    key: \"clearDragPreview\",\n    value: function clearDragPreview() {\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dragSource;\n    }\n  }, {\n    key: \"dragSourceOptions\",\n    get: function get() {\n      return this.dragSourceOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragSourceOptionsInternal = options;\n    }\n  }, {\n    key: \"dragPreviewOptions\",\n    get: function get() {\n      return this.dragPreviewOptionsInternal;\n    },\n    set: function set(options) {\n      this.dragPreviewOptionsInternal = options;\n    }\n  }, {\n    key: \"dragSource\",\n    get: function get() {\n      return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n    }\n  }, {\n    key: \"dragPreview\",\n    get: function get() {\n      return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n    }\n  }]);\n\n  return SourceConnector;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\nexport var DragSourceMonitorImpl = /*#__PURE__*/function () {\n  function DragSourceMonitorImpl(manager) {\n    _classCallCheck(this, DragSourceMonitorImpl);\n\n    this.sourceId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DragSourceMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.sourceId;\n    }\n  }, {\n    key: \"canDrag\",\n    value: function canDrag() {\n      invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      if (!this.sourceId) {\n        return false;\n      }\n\n      invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      return this.internalMonitor.isDraggingSource(sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId, options) {\n      return this.internalMonitor.isOverTarget(targetId, options);\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.internalMonitor.getTargetIds();\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return this.internalMonitor.isSourcePublic();\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.internalMonitor.getSourceId();\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      return this.internalMonitor.subscribeToOffsetChange(listener);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      return this.internalMonitor.canDragSource(sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      return this.internalMonitor.canDropOnTarget(targetId);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DragSourceMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    this.targetId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dropTargetRef = null;\n    this.dropTargetOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDropTarget = null;\n    this.lastConnectedDropTargetOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }]);\n\n  return TargetConnector;\n}();","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","// This icon file is generated automatically.\nvar LeftOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z\" } }] }, \"name\": \"left\", \"theme\": \"outlined\" };\nexport default LeftOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LeftOutlinedSvg from \"@ant-design/icons-svg/es/asn/LeftOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar LeftOutlined = function LeftOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: LeftOutlinedSvg\n  }));\n};\n\nLeftOutlined.displayName = 'LeftOutlined';\nexport default React.forwardRef(LeftOutlined);","// This icon file is generated automatically.\nvar RightOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z\" } }] }, \"name\": \"right\", \"theme\": \"outlined\" };\nexport default RightOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport RightOutlinedSvg from \"@ant-design/icons-svg/es/asn/RightOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar RightOutlined = function RightOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: RightOutlinedSvg\n  }));\n};\n\nRightOutlined.displayName = 'RightOutlined';\nexport default React.forwardRef(RightOutlined);","// This icon file is generated automatically.\nvar EditOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z\" } }] }, \"name\": \"edit\", \"theme\": \"outlined\" };\nexport default EditOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EditOutlinedSvg from \"@ant-design/icons-svg/es/asn/EditOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EditOutlined = function EditOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: EditOutlinedSvg\n  }));\n};\n\nEditOutlined.displayName = 'EditOutlined';\nexport default React.forwardRef(EditOutlined);","import React from 'react'\nimport styled from 'styled-components'\nimport {\n  EditOutlined,\n  DeleteOutlined,\n  RightOutlined,\n  LeftOutlined,\n} from '@ant-design/icons'\nimport cx from 'classnames'\nimport { Tooltip } from 'antd'\n\ntype Props = {\n  editable?: boolean\n  tabIndex: number\n  onEdit: () => void\n  onDelete: () => void\n  onShift: (shift: number) => void\n}\n\nconst ToolbarWrapper = styled.div`\n  position: absolute;\n  top: 8px;\n  right: 15px;\n  visibility: hidden;\n  transition: visibility 0s, opacity 0.3s, max-height 0.6s linear;\n  opacity: 0;\n  z-index: 1;\n\n  &.is--over {\n    visibility: visible;\n    transition: visibility 0s, opacity 0.3s, max-height 0.6s linear;\n    opacity: 0.8;\n  }\n`\n\nexport const SHIFT_TYPES = {\n  LEFT: -1,\n  RIGHT: 1,\n}\n\nexport default function SnippetToolbar({\n  tabIndex,\n  onEdit,\n  onDelete,\n  onShift,\n  editable = true,\n}: Props) {\n  const handleShift = (shift: number) => () => {\n    onShift(shift)\n  }\n\n  return (\n    <ToolbarWrapper\n      className={cx('text-primary', { 'is--over': tabIndex === 1 })}>\n      <Tooltip title=\"向左縮排\">\n        <LeftOutlined\n          className=\"mr-2 cursor-pointer\"\n          onClick={handleShift(SHIFT_TYPES.LEFT)}\n        />\n      </Tooltip>\n      <Tooltip title=\"向右縮排\">\n        <RightOutlined\n          className=\"mr-2 cursor-pointer\"\n          onClick={handleShift(SHIFT_TYPES.RIGHT)}\n        />\n      </Tooltip>\n      {editable && (\n        <Tooltip title=\"編輯\">\n          <EditOutlined className=\"mr-2 cursor-pointer\" onClick={onEdit} />\n        </Tooltip>\n      )}\n      <Tooltip title=\"刪除\">\n        <DeleteOutlined className=\"cursor-pointer\" onClick={onDelete} />\n      </Tooltip>\n    </ToolbarWrapper>\n  )\n}\n\nexport { SnippetToolbar }\n","/* eslint-disable no-undef */\nimport React from 'react'\nimport { clone, is, equals } from 'ramda'\nimport envStore from '@/constants/env'\nimport hoist from 'hoist-non-react-statics'\nimport getDisplayName from '@/utils/get-display-name'\n\nlet defaultConfig = {\n  block_formats: 'Heading 1=h1;Heading 2=h2;Heading 3=h3;Paragraph=p',\n  inline: true,\n  menubar: false,\n  external_plugins: {\n    custom_format: '/js/tinymce_plugins/custom_format/plugin.js',\n    utils: '/js/tinymce_plugins/utils/plugin.js',\n    component_plugin: '/js/tinymce_plugins/component_plugin/plugin.js',\n  },\n  fontsize_formats: '10px 12px 14px 16px 18px 20px 24px 32px 36px',\n  force_br_newlines: true,\n  force_p_newlines: false,\n  forced_root_block: 'div',\n  plugins: 'image textcolor lists emoticons link table media code',\n  tinymce: `${envStore.publicUrl}/js/tinymce/4.9.2/tinymce.min.js`,\n  link_title: false,\n  table_toolbar:\n    'tablemergecells tablesplitcells | tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol',\n  textcolor_cols: '5',\n  content_security_policy: '',\n  allow_unsafe_link_target: true,\n  relative_urls: false,\n  convert_urls: false,\n  valid_elements: '*[*]',\n  valid_children:\n    'h1[div|strong|b],h2[div|strong|b],h3[div|strong|b],p[div|strong|b]',\n  toolbar1:\n    'undo redo | custom-formatselect fontsizeselect | bold italic underline strikethrough forecolor removeformat | align numlist bullist outdent indent | link | upload-image image_options |fontawesome | component-list',\n}\n\nexport default function withTinyMCE(ComposedComponent) {\n  class withTinyMCE extends React.Component {\n    static displayName = `withTinyMCE(${getDisplayName(ComposedComponent)})`\n\n    static defaultProps = {\n      inline: false,\n    }\n\n    state = {\n      top: 0,\n      tabIndex: -1,\n      editor: null,\n      toolbarMouseOver: false,\n      toolbarVisible: false,\n    }\n\n    componentDidMount() {\n      if (this.props.inline) {\n        console.log(this.props.item)\n        this.initialize(this.props.item)\n      }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n      if (!this.props.isDragging && prevProps.isDragging) {\n        this.setState({ toolbarVisible: false })\n      }\n      if (!this.props.inline) {\n        return\n      }\n      if (!equals(this.props.id, prevProps.id)) {\n        this.initialize(this.props.item)\n      }\n      if (!equals(this.props.item?.html, prevProps.item?.html)) {\n        this.state.editor.setContent(this.props.item?.html)\n      }\n    }\n\n    initialize = snippet => {\n      if (this._get(snippet.id)) {\n        this.remove(snippet.id)\n      }\n\n      const _config = clone(snippet.config || defaultConfig)\n\n      tinymce.init({\n        ..._config,\n        selector: `#${snippet.id}`,\n        language_url: '/js/tinymce_lang/zh_TW.js',\n        content: snippet.html,\n        setup: editor => {\n          editor.on('blur', e => this.onEditorBlur(e))\n          editor.on('focus', e => this.onEditorFocus(e))\n\n          if (is(Function, _config.execInit)) {\n            _config.execInit(editor)\n          }\n\n          if (snippet.html) {\n            editor.on('init', () => editor.setContent(snippet.html))\n          }\n        },\n        init_instance_callback: editor => {\n          if (editor) {\n            this.setState({ editor })\n          }\n          editor.undoManager.add()\n        },\n      })\n    }\n\n    onEditorBlur = e => {\n      // const { updateSnippet, index } = this.props\n      // if (updateSnippet) {\n      //   updateSnippet(e.target.getContent(), index)\n      // }\n      console.log('blur')\n    }\n\n    onEditorFocus = () => {\n      // const { index } = this.props\n      // $(`.sort-item`).removeClass(s.focus)\n      // $(`.sort-item:nth-child(${index + 1})`).addClass(s.focus)\n      console.log('focus')\n    }\n\n    onClick = () => {\n      const { toolbarVisible } = this.state\n\n      if (!toolbarVisible) {\n        const snippetEl = document.getElementById(this.props.id)\n        const top = snippetEl.offsetTop + 30\n\n        this.setState({ toolbarVisible: true, tabIndex: 1, top })\n      }\n    }\n\n    onBlur = () => {\n      const { toolbarVisible, toolbarMouseOver } = this.state\n      if (toolbarVisible && !toolbarMouseOver) {\n        this.setState({ toolbarVisible: false, tabIndex: -1 })\n      }\n    }\n\n    _get = id => {\n      return tinymce.get(id)\n    }\n\n    remove = id => {\n      tinymce.remove(this._get(id || this.props.id))\n    }\n\n    render() {\n      return <ComposedComponent {...this.state} {...this.props} />\n    }\n  }\n\n  return hoist(withTinyMCE, ComposedComponent)\n}\n","import React from 'react'\nimport { DragSource, ConnectDragPreview, ConnectDragSource } from 'react-dnd'\nimport { getEmptyImage } from 'react-dnd-html5-backend'\nimport { mergeRight } from 'ramda'\nimport cx from 'classnames'\nimport { confirm } from '@/utils/message'\nimport { SnippetProps } from '@/constants/types'\nimport ItemTypes from '@/constants/item-types'\nimport SnippetToolbar from './snippet-toolbar'\nimport theme from '../theme'\nimport withTinyMCE from './withTinyMCE'\nconst { compose } = require('ramda')\n\ntype Props = {\n  id?: React.Key\n  wrapperId?: string\n  className?: string\n  style?: React.CSSProperties\n  index?: number\n  tabSize?: number\n  isDragging?: boolean\n  draggable?: boolean\n  inline?: boolean\n  fromMenu?: boolean\n  item: SnippetProps\n  connectDragPreview?: ConnectDragPreview\n  connectDragSource?: ConnectDragSource\n  children?: React.ReactNode\n  findSnippet?(id: React.Key): { index: number; snippet: SnippetProps }\n  shiftSnippet?(id: React.Key, shift: number): any\n  removeSnippet?(index: number): void\n}\n\ntype State = {\n  tabIndex: number\n  editModalVisible: boolean\n}\n\nconst withDragSource = DragSource(\n  ItemTypes.BOARD,\n  {\n    beginDrag(props: Props) {\n      return {\n        ...props,\n        fromMenu: false,\n        originalIndex: (props as any).findSnippet(props.id).index,\n      }\n    },\n    canDrag(props: Props) {\n      return !!(props.draggable && !props.fromMenu)\n    },\n  },\n  (connect, monitor) => ({\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n    isDragging: monitor.isDragging(),\n  })\n)\n\nclass Snippet extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props)\n\n    this.state = {\n      tabIndex: -1,\n      editModalVisible: false,\n    }\n  }\n\n  componentDidMount = () => {\n    const { connectDragPreview } = this.props\n    if (connectDragPreview) {\n      connectDragPreview(getEmptyImage() /* { anchorX: 0.2, anchorY: 0.1 } */)\n    }\n  }\n\n  handleShift = (shift: number) => {\n    const { id, shiftSnippet } = this.props\n\n    if (shiftSnippet && id) {\n      shiftSnippet(id, shift)\n    }\n  }\n\n  handleRemove = () => {\n    confirm({\n      content: '刪除後將無法還原，確認繼續？',\n      title: '確認要刪除這個模版?',\n      onOk: () => {\n        ;(this.props as any).removeSnippet(this.props.index)\n      },\n      onCancel() {},\n    })\n  }\n\n  handleEditModalVisible = () => {\n    this.setState(prev => ({ editModalVisible: !prev.editModalVisible }))\n  }\n\n  _onMouseOver = () => {\n    this.setState({ tabIndex: 1 })\n  }\n\n  _onMouseOut = () => {\n    this.setState({ tabIndex: -1 })\n  }\n\n  render() {\n    const {\n      props: {\n        connectDragSource = (node: any) => node,\n        connectDragPreview = (node: any) => node,\n        wrapperId,\n        index,\n        draggable,\n        style = {},\n        className = 'mb-3',\n        item,\n      },\n      state: { tabIndex, editModalVisible },\n    } = this\n\n    const styles = mergeRight(\n      getItemStyles({ ...this.props, ...this.state }),\n      style\n    )\n\n    return connectDragSource(\n      connectDragPreview(\n        <div\n          id={wrapperId}\n          style={styles}\n          className={cx(\n            'ui-sortable',\n            { 'ui-draggable': draggable },\n            className\n          )}\n          tabIndex={tabIndex}\n          onMouseOver={this._onMouseOver}\n          onMouseOut={this._onMouseOut}\n          data-index={index}>\n          {draggable && (\n            <SnippetToolbar\n              tabIndex={tabIndex}\n              editable={!item.inline}\n              onEdit={this.handleEditModalVisible}\n              onDelete={this.handleRemove}\n              onShift={this.handleShift}\n            />\n          )}\n          {React.Children.map(this.props.children, child =>\n            React.cloneElement(child as any, {\n              editModalVisible,\n              handleEditModalVisible: this.handleEditModalVisible,\n            })\n          )}\n        </div>\n      )\n    )\n  }\n}\n\nfunction getItemStyles(props: Partial<Props & State>): React.CSSProperties {\n  const { isDragging, tabIndex, draggable, tabSize = 0 } = props\n\n  const isFocus = tabIndex === 1\n\n  return {\n    ...(isFocus ? { borderRadius: 3 } : {}),\n    ...(draggable\n      ? { border: `1px dashed ${draggable ? '#e7e7e7' : 'transparent'}` }\n      : {\n          outlineColor: isFocus ? theme.purple150 : 'transparent',\n        }),\n    cursor: 'default',\n    position: 'relative',\n    display: isDragging ? 'none' : 'block',\n    marginLeft: tabSize * 50,\n  }\n}\n\nexport default compose(withDragSource, withTinyMCE)(Snippet) as typeof Snippet\n","import { Collapse } from 'antd'\nimport styled from 'styled-components'\n\nconst borderRadius = '8px'\n\nconst StyledCollapse = styled(Collapse)`\n  &.ant-collapse {\n    border-radius: ${borderRadius};\n    border-bottom: none;\n\n    > .ant-collapse-item > .ant-collapse-header {\n      padding-left: 0;\n      background: ${p => p.theme.primary};\n      color: #fff;\n    }\n\n    &.header-pl-clear > .ant-collapse-item > .ant-collapse-header {\n      padding-left: 16px;\n    }\n\n    > .ant-collapse-item:first-child > .ant-collapse-header {\n      border-top-left-radius: ${borderRadius};\n      border-top-right-radius: ${borderRadius};\n    }\n\n    > .ant-collapse-item:last-child {\n      border-bottom: none;\n    }\n\n    > .ant-collapse-item:last-child > .ant-collapse-content {\n      border-bottom-left-radius: ${borderRadius};\n      border-bottom-right-radius: ${borderRadius};\n    }\n\n    > .ant-collapse-item.ant-collapse-item-active:last-child {\n      border-bottom: 1px solid #d9d9d9;\n    }\n\n    > .ant-collapse-item:not(.ant-collapse-item-active):last-child\n      > .ant-collapse-header {\n      border-bottom-left-radius: ${borderRadius};\n      border-bottom-right-radius: ${borderRadius};\n    }\n  }\n`\n\nexport default StyledCollapse\n","\"use strict\";\n\nrequire(\"../../style/index.css\");\n\nrequire(\"./index.css\");","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _Collapse = _interopRequireDefault(require(\"./Collapse\"));\n\nvar _default = _Collapse[\"default\"];\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _rcCollapse = _interopRequireDefault(require(\"rc-collapse\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _RightOutlined = _interopRequireDefault(require(\"@ant-design/icons/RightOutlined\"));\n\nvar _CollapsePanel = _interopRequireDefault(require(\"./CollapsePanel\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar _openAnimation = _interopRequireDefault(require(\"../_util/openAnimation\"));\n\nvar _reactNode = require(\"../_util/reactNode\");\n\nvar Collapse = function Collapse(props) {\n  var _classNames;\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var customizePrefixCls = props.prefixCls,\n      _props$className = props.className,\n      className = _props$className === void 0 ? '' : _props$className,\n      bordered = props.bordered,\n      ghost = props.ghost;\n  var prefixCls = getPrefixCls('collapse', customizePrefixCls);\n\n  var getIconPosition = function getIconPosition() {\n    var expandIconPosition = props.expandIconPosition;\n\n    if (expandIconPosition !== undefined) {\n      return expandIconPosition;\n    }\n\n    return direction === 'rtl' ? 'right' : 'left';\n  };\n\n  var renderExpandIcon = function renderExpandIcon() {\n    var panelProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var expandIcon = props.expandIcon;\n    var icon = expandIcon ? expandIcon(panelProps) : /*#__PURE__*/React.createElement(_RightOutlined[\"default\"], {\n      rotate: panelProps.isActive ? 90 : undefined\n    });\n    return (0, _reactNode.cloneElement)(icon, function () {\n      return {\n        className: (0, _classnames[\"default\"])(icon.props.className, \"\".concat(prefixCls, \"-arrow\"))\n      };\n    });\n  };\n\n  var iconPosition = getIconPosition();\n  var collapseClassName = (0, _classnames[\"default\"])((_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-borderless\"), !bordered), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-icon-position-\").concat(iconPosition), true), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-ghost\"), !!ghost), _classNames), className);\n  var openAnimation = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, _openAnimation[\"default\"]), {\n    appear: function appear() {}\n  });\n  return /*#__PURE__*/React.createElement(_rcCollapse[\"default\"], (0, _extends2[\"default\"])({\n    openAnimation: openAnimation\n  }, props, {\n    expandIcon: function expandIcon(panelProps) {\n      return renderExpandIcon(panelProps);\n    },\n    prefixCls: prefixCls,\n    className: collapseClassName\n  }));\n};\n\nCollapse.Panel = _CollapsePanel[\"default\"];\nCollapse.defaultProps = {\n  bordered: true\n};\nvar _default = Collapse;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _rcCollapse = _interopRequireDefault(require(\"rc-collapse\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar CollapsePanel = function CollapsePanel(props) {\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var customizePrefixCls = props.prefixCls,\n      _props$className = props.className,\n      className = _props$className === void 0 ? '' : _props$className,\n      _props$showArrow = props.showArrow,\n      showArrow = _props$showArrow === void 0 ? true : _props$showArrow;\n  var prefixCls = getPrefixCls('collapse', customizePrefixCls);\n  var collapsePanelClassName = (0, _classnames[\"default\"])((0, _defineProperty2[\"default\"])({}, \"\".concat(prefixCls, \"-no-arrow\"), !showArrow), className);\n  return /*#__PURE__*/React.createElement(_rcCollapse[\"default\"].Panel, (0, _extends2[\"default\"])({}, props, {\n    prefixCls: prefixCls,\n    className: collapsePanelClassName\n  }));\n};\n\nvar _default = CollapsePanel;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _cssAnimation = _interopRequireDefault(require(\"@ant-design/css-animation\"));\n\nvar _raf = _interopRequireDefault(require(\"raf\"));\n\n/**\n * Deprecated. We should replace the animation with pure react motion instead of modify style directly.\n * If you are creating new component with animation, please use `./motion`.\n */\nfunction animate(node, show, done) {\n  var height;\n  var requestAnimationFrameId;\n  return (0, _cssAnimation[\"default\"])(node, 'ant-motion-collapse-legacy', {\n    start: function start() {\n      if (!show) {\n        node.style.height = \"\".concat(node.offsetHeight, \"px\");\n        node.style.opacity = '1';\n      } else {\n        height = node.offsetHeight;\n        node.style.height = '0px';\n        node.style.opacity = '0';\n      }\n    },\n    active: function active() {\n      if (requestAnimationFrameId) {\n        _raf[\"default\"].cancel(requestAnimationFrameId);\n      }\n\n      requestAnimationFrameId = (0, _raf[\"default\"])(function () {\n        node.style.height = \"\".concat(show ? height : 0, \"px\");\n        node.style.opacity = show ? '1' : '0';\n      });\n    },\n    end: function end() {\n      if (requestAnimationFrameId) {\n        _raf[\"default\"].cancel(requestAnimationFrameId);\n      }\n\n      node.style.height = '';\n      node.style.opacity = '';\n      done();\n    }\n  });\n}\n\nvar animation = {\n  enter: function enter(node, done) {\n    return animate(node, true, done);\n  },\n  leave: function leave(node, done) {\n    return animate(node, false, done);\n  },\n  appear: function appear(node, done) {\n    return animate(node, true, done);\n  }\n};\nvar _default = animation;\nexports[\"default\"] = _default;","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { findDOMNode } from 'react-dom'\nimport { DndContext } from 'react-dnd'\nimport throttle from 'lodash.throttle'\nimport raf from 'raf'\nimport hoist from 'hoist-non-react-statics'\nimport getDisplayName from '@/utils/get-display-name'\n\nfunction noop() {}\n\nfunction intBetween(min, max, val) {\n  return Math.floor(Math.min(max, Math.max(min, val)))\n}\n\nfunction getCoords(evt) {\n  if (evt.type === 'touchmove') {\n    return {\n      x: evt.changedTouches[0].clientX,\n      y: evt.changedTouches[0].clientY,\n    }\n  }\n\n  return { x: evt.clientX, y: evt.clientY }\n}\n\nconst DEFAULT_BUFFER = 150\n\nexport function createHorizontalStrength(_buffer) {\n  return function defaultHorizontalStrength({ x, w, y, h }, point) {\n    const buffer = Math.min(w / 2, _buffer)\n    const inRange = point.x >= x && point.x <= x + w\n    const inBox = inRange && point.y >= y && point.y <= y + h\n\n    if (inBox) {\n      if (point.x < x + buffer) {\n        return (point.x - x - buffer) / buffer\n      } else if (point.x > x + w - buffer) {\n        return -(x + w - point.x - buffer) / buffer\n      }\n    }\n\n    return 0\n  }\n}\n\nexport function createVerticalStrength(_buffer) {\n  return function defaultVerticalStrength({ y, h, x, w }, point) {\n    const buffer = Math.min(h / 2, _buffer)\n    const inRange = point.y >= y && point.y <= y + h\n    const inBox = inRange && point.x >= x && point.x <= x + w\n\n    if (inBox) {\n      if (point.y < y + buffer) {\n        return (point.y - y - buffer) / buffer\n      } else if (point.y > y + h - buffer) {\n        return -(y + h - point.y - buffer) / buffer\n      }\n    }\n\n    return 0\n  }\n}\n\nexport const defaultHorizontalStrength = createHorizontalStrength(\n  DEFAULT_BUFFER\n)\n\nexport const defaultVerticalStrength = createVerticalStrength(DEFAULT_BUFFER)\n\nexport default function createScrollingComponent(WrappedComponent) {\n  class ScrollingComponent extends React.Component {\n    static displayName = `Scrolling(${getDisplayName(WrappedComponent)})`\n\n    static propTypes = {\n      onScrollChange: PropTypes.func,\n      verticalStrength: PropTypes.func,\n      horizontalStrength: PropTypes.func,\n      strengthMultiplier: PropTypes.number,\n    }\n\n    static defaultProps = {\n      useScroll: true,\n      onScrollChange: noop,\n      verticalStrength: defaultVerticalStrength,\n      horizontalStrength: defaultHorizontalStrength,\n      strengthMultiplier: 30,\n    }\n\n    static contextType = DndContext\n\n    constructor(props, ctx) {\n      super(props, ctx)\n\n      this.scaleX = 0\n      this.scaleY = 0\n      this.frame = null\n\n      this.attached = false\n      this.dragging = false\n    }\n\n    componentDidMount() {\n      if (this.props.useScroll) {\n        this._initial()\n      }\n    }\n\n    _initial() {\n      // window.document.body.addEventListener('dragover', this.handleEvent);\n      this.container = findDOMNode(this.wrappedInstance)\n      this.container.addEventListener('dragover', this.handleEvent)\n      // touchmove events don't seem to work across siblings, so we unfortunately\n      // have to attach the listeners to the body\n      window.document.body.addEventListener('touchmove', this.handleEvent)\n\n      this.clearMonitorSubscription = this.context.dragDropManager\n        .getMonitor()\n        .subscribeToStateChange(() => this.handleMonitorChange())\n    }\n\n    componentWillUnmount() {\n      if (this.props.useScroll) {\n        this._remove()\n      }\n    }\n\n    _remove() {\n      // window.document.body.removeEventListener('dragover', this.handleEvent);\n      this.container.removeEventListener('dragover', this.handleEvent)\n      window.document.body.removeEventListener('touchmove', this.handleEvent)\n      this.clearMonitorSubscription()\n      this.stopScrolling()\n    }\n\n    handleEvent = evt => {\n      if (this.dragging && !this.attached) {\n        this.attach()\n        this.updateScrolling(evt)\n      }\n    }\n\n    handleMonitorChange() {\n      const isDragging = this.context.dragDropManager.getMonitor().isDragging()\n\n      if (!this.dragging && isDragging) {\n        this.dragging = true\n      } else if (this.dragging && !isDragging) {\n        this.dragging = false\n        this.stopScrolling()\n      }\n    }\n\n    attach() {\n      this.attached = true\n      window.document.body.addEventListener('dragover', this.updateScrolling)\n      window.document.body.addEventListener('touchmove', this.updateScrolling)\n    }\n\n    detach() {\n      this.attached = false\n      window.document.body.removeEventListener('dragover', this.updateScrolling)\n      window.document.body.removeEventListener(\n        'touchmove',\n        this.updateScrolling\n      )\n    }\n\n    // Update scaleX and scaleY every 100ms or so\n    // and start scrolling if necessary\n    updateScrolling = throttle(\n      evt => {\n        const {\n          left: x,\n          top: y,\n          width: w,\n          height: h,\n        } = this.container.getBoundingClientRect()\n        const box = { x, y, w, h }\n        const coords = getCoords(evt)\n\n        // calculate strength\n        this.scaleX = this.props.horizontalStrength(box, coords)\n        this.scaleY = this.props.verticalStrength(box, coords)\n\n        // start scrolling if we need to\n        if (!this.frame && (this.scaleX || this.scaleY)) {\n          this.startScrolling()\n        }\n      },\n      100,\n      { trailing: false }\n    )\n\n    startScrolling() {\n      let i = 0\n      const tick = () => {\n        const { scaleX, scaleY, container } = this\n        const { strengthMultiplier, onScrollChange } = this.props\n\n        // stop scrolling if there's nothing to do\n        if (strengthMultiplier === 0 || scaleX + scaleY === 0) {\n          this.stopScrolling()\n          return\n        }\n\n        // there's a bug in safari where it seems like we can't get\n        // mousemove events from a container that also emits a scroll\n        // event that same frame. So we double the strengthMultiplier and only adjust\n        // the scroll position at 30fps\n        if (i++ % 2) {\n          const {\n            scrollLeft,\n            scrollTop,\n            scrollWidth,\n            scrollHeight,\n            clientWidth,\n            clientHeight,\n          } = container\n\n          const newLeft = scaleX\n            ? (container.scrollLeft = intBetween(\n                0,\n                scrollWidth - clientWidth,\n                scrollLeft + scaleX * strengthMultiplier\n              ))\n            : scrollLeft\n\n          const newTop = scaleY\n            ? (container.scrollTop = intBetween(\n                0,\n                scrollHeight - clientHeight,\n                scrollTop + scaleY * strengthMultiplier\n              ))\n            : scrollTop\n\n          onScrollChange(newLeft, newTop)\n        }\n        this.frame = raf(tick)\n      }\n\n      tick()\n    }\n\n    stopScrolling() {\n      this.detach()\n      this.scaleX = 0\n      this.scaleY = 0\n\n      if (this.frame) {\n        raf.cancel(this.frame)\n        this.frame = null\n      }\n    }\n\n    render() {\n      const {\n        // not passing down these props\n        strengthMultiplier,\n        verticalStrength,\n        horizontalStrength,\n        onScrollChange,\n        ...props\n      } = this.props\n\n      return (\n        <WrappedComponent\n          ref={ref => {\n            this.wrappedInstance = ref\n          }}\n          {...props}\n        />\n      )\n    }\n  }\n\n  return hoist(ScrollingComponent, WrappedComponent)\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport cx from 'classnames'\nimport withScroll, { createVerticalStrength } from './withScroll'\n\ninterface Props {\n  className?: string\n  useScroll?: boolean\n}\n\nconst DndScrollableElement = styled.div`\n  height: 85vh;\n  padding-top: 0;\n  overflow-y: scroll;\n\n  .report-template-builder {\n    &__main-content {\n      min-height: 371.25mm;\n      margin: 0 auto;\n      padding: 16px;\n      box-sizing: border-box;\n      max-width: 100%;\n      background: #fff;\n      border-top-right-radius: 16px;\n      border-bottom-left-radius: 16px;\n      border-bottom-right-radius: 16px;\n    }\n\n    &__contentarea {\n      min-height: 348.75mm;\n    }\n\n    &__contentarea--fixed-layout {\n      min-height: auto;\n    }\n\n    &__snippet-toolbar {\n      visibility: hidden;\n    }\n  }\n\n  .ui-draggable {\n    &:focus,\n    &:active {\n      outline: 0;\n\n      .course-builder__snippet-toolbar {\n        visibility: visible;\n        opacity: 1;\n        transition: visibility 0s, opacity 0.3s, max-height 0.6s linear;\n      }\n    }\n  }\n\n  &.is--preview {\n    height: auto;\n  }\n`\n\nconst ScrollableComponent = withScroll(DndScrollableElement)\n\nconst vStrength = createVerticalStrength(150)\n\nexport default class ReactDndProvider extends React.Component<Props> {\n  static defaultProps = {\n    useScroll: true,\n  }\n\n  render() {\n    const { className, useScroll } = this.props\n\n    return (\n      <ScrollableComponent\n        useScroll={useScroll}\n        verticalStrength={vStrength}\n        strengthMultiplier={100}\n        className={cx('report-template-builder', className)}>\n        {this.props.children}\n      </ScrollableComponent>\n    )\n  }\n}\n","import React from 'react'\nimport { ModalProps } from 'antd/lib/modal'\nimport { length, __, gt, keys, map, pathOr } from 'ramda'\nimport Modal from '@/components/modal'\nimport { Snippets } from '@/hooks/useReportTemplate'\nimport { renderSnippets } from '@/components/snippet-utils'\nconst { compose } = require('ramda')\n\ninterface Props extends ModalProps {\n  snippetList?: Snippets\n}\n\nexport default function SnippetPreviewModal({ onCancel, snippetList }: Props) {\n  return (\n    <Modal\n      visible\n      style={{ top: 30 }}\n      maskClosable={false}\n      className=\"ant-modal-header--border-none\"\n      keyboard={false}\n      width=\"85%\"\n      onCancel={onCancel}\n      footer={false}>\n      {compose(\n        map((key: string) => (\n          <div key={key}>\n            {compose(gt(__, 0), length, pathOr([], [key]))(snippetList) && (\n              <h2 className=\"my-2\">{key}</h2>\n            )}\n            {compose(renderSnippets(), pathOr([], [key]))(snippetList)}\n          </div>\n        )),\n        keys\n      )(snippetList)}\n    </Modal>\n  )\n}\n","import { Tabs } from 'antd'\nimport styled from 'styled-components'\n\nconst bg = 'rgb(43,193,183)'\n\nexport default styled(Tabs)`\n  &.ant-tabs {\n    .ant-tabs-tab {\n      display: flex;\n      align-items: center;\n      padding: 10px 24px !important;\n      margin-right: 4px !important;\n      color: #fff !important;\n      border-color: ${bg} !important;\n      background: ${bg} !important;\n      border-top-left-radius: 12px !important;\n      border-top-right-radius: 12px !important;\n    }\n\n    .ant-tabs-tab-active {\n      border-color: #fff !important;\n      background: #fff !important;\n\n      svg path {\n        fill: ${p => p.theme.primary} !important;\n      }\n    }\n\n    .ant-tabs-tab .anticon {\n      color: #fff !important;\n    }\n\n    .ant-tabs-tab.is--over {\n      border: 1px dashed lightgrey !important;\n    }\n\n    .ant-tabs-tab.is--dragging {\n      opacity: 0.3;\n    }\n\n    > .ant-tabs-nav .ant-tabs-nav-add,\n    .ant-tabs > div > .ant-tabs-nav .ant-tabs-nav-add {\n      background: transparent;\n      border-color: transparent;\n      color: ${p => p.theme.darkGrey};\n\n      .anticon-plus {\n        color: ${p => p.theme.darkGrey};\n      }\n\n      .anticon-plus:hover {\n        color: ${p => p.theme.primary};\n      }\n    }\n\n    .ant-tabs-tab-btn:focus,\n    .ant-tabs-tab-remove:focus,\n    .ant-tabs-tab-btn:active,\n    .ant-tabs-tab-remove:active,\n    .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn {\n      color: ${p => p.theme.secondary} !important;\n    }\n  }\n\n  &.ant-tabs-top > .ant-tabs-nav,\n  &.ant-tabs-top > div > .ant-tabs-nav {\n    margin-bottom: 0;\n  }\n\n  &.ant-tabs-top > .ant-tabs-nav::before {\n    border-bottom: none;\n  }\n`\n","import React from 'react'\nimport { DragSource, DropTarget } from 'react-dnd'\nimport cx from 'classnames'\nimport { compose } from 'ramda'\nimport Tabs from '@/components/tabs'\n\n// Drag & Drop node\nclass TabNode extends React.Component {\n  render() {\n    const {\n      connectDragSource,\n      connectDropTarget,\n      isDragging,\n      isOver,\n      moveTabNode,\n      draggingItem,\n      id,\n      ...props\n    } = this.props\n\n    return connectDragSource(\n      connectDropTarget(\n        React.cloneElement(props.children, {\n          className: cx(props.children.props.className, {\n            'is--dragging': isDragging,\n            'is--over': isOver && id !== draggingItem?.id,\n          }),\n        })\n      )\n    )\n  }\n}\n\nconst withDropTarget = DropTarget(\n  'DND_NODE',\n  {\n    drop(props, monitor) {\n      const dragKey = monitor.getItem().index\n      const hoverKey = props.index\n\n      if (dragKey === hoverKey) {\n        return\n      }\n\n      props.moveTabNode(dragKey, hoverKey)\n      monitor.getItem().index = hoverKey\n    },\n  },\n  (connect, monitor) => ({\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n    draggingItem: monitor.getItem(),\n  })\n)\n\nconst withDragSource = DragSource(\n  'DND_NODE',\n  {\n    beginDrag(props) {\n      return {\n        id: props.id,\n        index: props.index,\n      }\n    },\n  },\n  (connect, monitor) => ({\n    connectDragSource: connect.dragSource(),\n    isDragging: monitor.isDragging(),\n  })\n)\n\nconst WrapTabNode = compose(withDropTarget, withDragSource)(TabNode)\n\nexport default class DraggableTabs extends React.Component {\n  static defaultProps = {\n    order: [],\n  }\n\n  moveTabNode = (dragKey, hoverKey) => {\n    const { children, order, moveTabNode } = this.props\n    const newOrder = order.slice()\n\n    React.Children.forEach(children, c => {\n      if (newOrder.indexOf(c.key) === -1) {\n        newOrder.push(c.key)\n      }\n    })\n\n    const dragIndex = newOrder.indexOf(dragKey)\n    const hoverIndex = newOrder.indexOf(hoverKey)\n\n    newOrder.splice(dragIndex, 1)\n    newOrder.splice(hoverIndex, 0, dragKey)\n\n    moveTabNode(newOrder)\n  }\n\n  renderTabBar = (props, DefaultTabBar) => (\n    <DefaultTabBar {...props}>\n      {node => (\n        <WrapTabNode\n          key={node.key}\n          id={node.key}\n          index={node.key}\n          moveTabNode={this.moveTabNode}>\n          {node}\n        </WrapTabNode>\n      )}\n    </DefaultTabBar>\n  )\n\n  render() {\n    const { moveTabNode, children, ...props } = this.props\n\n    return (\n      <Tabs renderTabBar={this.renderTabBar} {...props}>\n        {children}\n      </Tabs>\n    )\n  }\n}\n\nDraggableTabs.TabPane = Tabs.TabPane\n","import React from 'react'\nimport { DragSource, ConnectDragSource } from 'react-dnd'\nimport styled from 'styled-components'\nimport ItemTypes from '@/constants/item-types'\n\ninterface Props {\n  connectDragSource: ConnectDragSource\n  children?: React.ReactNode\n  className?: string\n  id?: React.Key\n}\n\nconst withDragSource = DragSource(\n  ItemTypes.BOARD,\n  {\n    beginDrag(props: Props) {\n      const { children, className, ...rest } = props // eslint-disable-line\n      return {\n        ...rest,\n        fromMenu: true,\n      }\n    },\n    endDrag(_, monitor) {\n      if (!monitor.didDrop()) {\n        return\n      }\n    },\n    isDragging(props, monitor) {\n      const isDragging = props.id === monitor.getItem().id\n\n      return isDragging\n    },\n  },\n  (connect, monitor) => ({\n    connectDragSource: connect.dragSource(),\n    connectDragPreview: connect.dragPreview(),\n    isDragging: monitor.isDragging(),\n  })\n)\n\nclass SnippetListMenuItem extends React.Component<Props> {\n  render() {\n    const { connectDragSource, id, ...rest } = this.props\n\n    return (\n      <SnippetListMenuWrapper\n        {...rest}\n        ref={comp => connectDragSource(comp)}\n        id={`${id}`}>\n        <div className=\"snippet-drawer-menu__item--content\">\n          {this.props.children}\n        </div>\n      </SnippetListMenuWrapper>\n    )\n  }\n}\n\nconst SnippetListMenuWrapper = styled.div`\n  cursor: move;\n`\n\nexport default withDragSource(SnippetListMenuItem)\n","import React from 'react'\nimport cx from 'classnames'\nimport { FontColorsOutlined } from '@ant-design/icons'\nimport styled from 'styled-components'\nimport SnippetListMenuItem from '@/components/snippet-list-menu-item'\nimport reportTemplateList from '@/components/report-template-list'\n\ninterface Props {\n  className?: string\n  style?: React.CSSProperties\n}\n\nexport default class SnippetListMenu extends React.Component<Props> {\n  render() {\n    return (\n      <SnippetListMenuWrapper\n        className={cx('snippet-drawer-menu', this.props.className)}\n        {...this.props}>\n        <div className=\"snippet-drawer-menu__list\">\n          {reportTemplateList.map(item => (\n            <SnippetListMenuItem\n              {...item}\n              key={item.id}\n              className=\"snippet-drawer-menu__item py-3\">\n              <div className=\"flex items-center\">\n                {item.icon ? (\n                  <item.icon className=\"mr-2\" />\n                ) : (\n                  <FontColorsOutlined className=\"mr-2\" />\n                )}\n                {item.name}\n              </div>\n            </SnippetListMenuItem>\n          ))}\n        </div>\n      </SnippetListMenuWrapper>\n    )\n  }\n}\n\nconst SnippetListMenuWrapper = styled.div`\n  .snippet-drawer-menu {\n    &__list {\n      height: 100%;\n      overflow-y: auto;\n      overflow-x: hidden;\n\n      ::-webkit-scrollbar {\n        display: none;\n      }\n    }\n  }\n`\n","import styled from 'styled-components'\n\ntype Props = {\n  border?: string\n}\n\nexport default styled.div.attrs({\n  className: 'block-placeholder',\n})<Props>`\n  display: flex;\n  align-items: center;\n  padding-left: 25px;\n  height: 50px;\n  border: rgba(225, 225, 225, 0.9) 2px ${p => p.border || 'dashed'};\n  background-color: transparent;\n  margin-bottom: 35px;\n`\n","/**\n * NOTE:\n * nerver using index as list component key forever,\n * it will completely fucked up your page\n */\nimport React from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { DropTarget, ConnectDropTarget, XYCoord } from 'react-dnd'\nimport {\n  equals,\n  length,\n  remove,\n  update,\n  insert,\n  cond,\n  gt,\n  lt,\n  T,\n  __,\n  add,\n  pathOr,\n  identity,\n  always,\n} from 'ramda'\nimport cx from 'classnames'\nimport { uuid } from '@/utils/webHelper'\nimport ItemTypes from '@/constants/item-types'\nimport { SnippetProps } from '@/constants/types'\nimport Snippet from '@/components/snippet'\nimport BlockPlaceholder from '@/components/snippet-block-placeholder'\nimport { canMoveSnippet, getPlaceHolderIndex } from './snippet-utils'\nconst { compose } = require('ramda')\n\ninterface Props {\n  draggingItem: any\n  isOver?: boolean\n  draggable?: boolean\n  canDrop?: boolean\n  snippetList: SnippetProps[]\n  connectDropTarget: ConnectDropTarget\n  onSnippetUpdate(data: any): void\n}\n\ninterface State {\n  placeholderIndex: number | null\n}\n\nconst withDropTarget = DropTarget<Props>(\n  ItemTypes.BOARD,\n  {\n    drop(_, monitor, component) {\n      if (!component || !component.props.draggable) {\n        return\n      }\n\n      const canDrop = monitor.canDrop()\n      let { placeholderIndex } = component.state\n      const item = monitor.getItem()\n\n      if (canDrop && item.fromMenu) {\n        component.handleSnippetDrop({ ...item, placeholderIndex })\n      }\n\n      if (canDrop && !item.fromMenu) {\n        component.handleSnippetMove(item.id, placeholderIndex)\n      }\n    },\n    canDrop({ snippetList }, monitor) {\n      // if there is no items in cards, and is over on the board currently,\n      // we can display a placeholder and drop the snippet item on the board.\n      if (snippetList.length === 0 && monitor.isOver()) {\n        return true\n      }\n\n      const clientOffset = monitor.getClientOffset() as XYCoord\n      const element = document.elementFromPoint(clientOffset.x, clientOffset.y)\n\n      return canMoveSnippet(element)\n    },\n    hover(_, monitor, component) {\n      // Determine mouse position\n      const clientOffset = monitor.getClientOffset() as XYCoord\n\n      let {\n        placeholderIndex,\n        isOverSnippet,\n        overSnippet,\n      } = getPlaceHolderIndex(clientOffset)\n\n      // 還要判斷是否是在最後一個 snippet 下面及 snippets-container 裡面\n      if (!isOverSnippet) {\n        return\n      }\n\n      const hoverBoundingRect = (overSnippet as HTMLElement).getBoundingClientRect()\n      const hoverMiddleY =\n        (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top\n\n      if (hoverClientY < hoverMiddleY) {\n        placeholderIndex -= 1\n      }\n\n      if (\n        monitor.canDrop() &&\n        !equals(component.state.placeholderIndex, placeholderIndex)\n      ) {\n        component.setState({ placeholderIndex })\n      }\n    },\n  },\n  (connect, monitor) => ({\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n    canDrop: monitor.canDrop(),\n    didDrop: monitor.didDrop(),\n    draggingItem: monitor.getItem(),\n  })\n)\n\nclass SnippetsContainer extends React.Component<Props, State> {\n  static defaultProps = {\n    draggable: true,\n    snippetList: [],\n  }\n\n  public state: State = {\n    placeholderIndex: null,\n  }\n\n  handleSnippetMove = (id: React.Key, atIndex: number) => {\n    const { snippetList } = this.props\n    const { snippet, index } = this.handleFindSnippet(id)\n\n    const newList = []\n    let isPlaced = false\n\n    snippetList.forEach((s, idx) => {\n      if (idx === index) {\n        return\n      }\n\n      if (!isPlaced && atIndex < idx) {\n        newList.push(snippet)\n        isPlaced = true\n      }\n\n      newList.push(s)\n\n      if (!isPlaced && atIndex === idx) {\n        newList.push(snippet)\n        isPlaced = true\n      }\n    })\n\n    // we dropped the only one snippet in the list so let it back to list.\n    if (length(snippetList) === 1 && !atIndex) {\n      newList.push(snippet)\n    }\n\n    this.props.onSnippetUpdate(newList)\n    this.setState({ placeholderIndex: null })\n  }\n\n  // prettier-ignore\n  handleSnippetDrop = (droppedItem: { [key: string]: any; placeholderIndex: number }) => {\n    const { placeholderIndex, ...item } = droppedItem\n\n    const snippetList = [...this.props.snippetList]\n\n    const nextIndex = placeholderIndex + 1\n    let newList: any[] = []\n\n    const snippet: Partial<SnippetProps> = {\n      ...item,\n      fromMenu: false,\n      id: `${item.id}__${uuid()}`,\n    }\n\n    if (length(snippetList) === 0) {\n      newList = insert(0, snippet)(snippetList)\n    }\n    if (length(snippetList) > 0) {\n      newList = insert(nextIndex, snippet)(snippetList)\n    }\n\n    this.props.onSnippetUpdate(newList)\n    this.setState({ placeholderIndex: null })\n  }\n\n  handleSnippetRemove = (index: number) => {\n    this.props.onSnippetUpdate(remove(index, 1)(this.props.snippetList))\n  }\n\n  handleSnippetShift = (id: React.Key, shift: number) => {\n    const { snippet } = this.handleFindSnippet(id)\n\n    this.handleSnippetUpdate({\n      ...snippet,\n      tabSize: compose(\n        cond([\n          [gt(__, 2), always(2)],\n          [lt(__, 0), always(0)],\n          [T, identity],\n        ]),\n        add(shift),\n        pathOr(0, ['tabSize'])\n      )(snippet),\n    })\n  }\n\n  handleSnippetUpdate = (data: any) => {\n    const { snippet, index } = this.handleFindSnippet(data.id)\n\n    this.props.onSnippetUpdate(\n      update(index, { ...snippet, ...data })(this.props.snippetList)\n    )\n  }\n\n  handleFindSnippet = (id: React.Key) => {\n    const { snippetList } = this.props\n    const snippet = snippetList.filter(x => x.id === id)[0]\n\n    return {\n      snippet,\n      index: snippetList.indexOf(snippet),\n    }\n  }\n\n  render() {\n    const {\n      connectDropTarget,\n      isOver,\n      canDrop,\n      snippetList,\n      draggingItem,\n      draggable, // 模版是否可拖曳，編輯模式下才會是 true\n    } = this.props\n\n    const { placeholderIndex } = this.state\n\n    let isPlaceHold = false\n    const cardList = []\n\n    snippetList.forEach((item, idx) => {\n      if (isOver && canDrop) {\n        isPlaceHold = false\n        if (idx === 0 && placeholderIndex === -1) {\n          cardList.push(<BlockPlaceholder key={`block-placeholder-${idx}`} />)\n        } else if ((placeholderIndex as any) > idx) {\n          isPlaceHold = true\n        }\n      }\n\n      if (item !== undefined) {\n        cardList.push(\n          <Snippet\n            key={item.id}\n            id={item.id}\n            index={idx}\n            draggable={draggable}\n            item={item}\n            inline={item.inline}\n            wrapperId={`snippet-wrapper-${idx}`}\n            tabSize={item.tabSize}\n            findSnippet={this.handleFindSnippet}\n            shiftSnippet={this.handleSnippetShift}\n            removeSnippet={this.handleSnippetRemove}>\n            {item.inline ? (\n              <div\n                id={`${item.id}`}\n                className={`${item.id}`}\n                css={{ padding: 16 }}\n              />\n            ) : (\n              <item.Component\n                id={item.id}\n                className={item.id}\n                item={item}\n                index={idx}\n                onUpdate={this.handleSnippetUpdate}\n              />\n            )}\n          </Snippet>\n        )\n      }\n\n      if (isOver && canDrop && placeholderIndex === idx) {\n        cardList.push(<BlockPlaceholder key={`block-placeholder-${idx}`} />)\n      }\n    })\n\n    // if placeholder index is greater than array.length, display placeholder as last\n    if (isPlaceHold) {\n      cardList.push(<BlockPlaceholder key={'block-placeholder-bottom'} />)\n    }\n\n    // if there is no items in cards currently, display a placeholder anyway\n    if (isOver && canDrop && snippetList.length === 0) {\n      cardList.push(<BlockPlaceholder key={'block-placeholder-zero'} />)\n    }\n\n    // if just has only one item in list and currently dragged, display a placeholder\n    if (isOver && canDrop && snippetList.length === 1) {\n      if (!draggingItem.fromMenu) {\n        cardList.push(<BlockPlaceholder key={'block-placeholder-zero'} />)\n      }\n    }\n\n    return connectDropTarget(\n      <div\n        className={cx('report-template-builder__contentarea', {\n          'report-template-builder__contentarea--fixed-layout': !draggable,\n        })}>\n        {cardList}\n      </div>\n    )\n  }\n}\n\nexport default compose(withRouter, withDropTarget)(SnippetsContainer)\n","// This icon file is generated automatically.\nvar DeleteOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z\" } }] }, \"name\": \"delete\", \"theme\": \"outlined\" };\nexport default DeleteOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DeleteOutlinedSvg from \"@ant-design/icons-svg/es/asn/DeleteOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DeleteOutlined = function DeleteOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: DeleteOutlinedSvg\n  }));\n};\n\nDeleteOutlined.displayName = 'DeleteOutlined';\nexport default React.forwardRef(DeleteOutlined);"],"sourceRoot":""}